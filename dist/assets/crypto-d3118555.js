var oh=Object.defineProperty;var ah=(n,t,e)=>t in n?oh(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var N=(n,t,e)=>(ah(n,typeof t!="symbol"?t+"":t,e),e),z0=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var d=(n,t,e)=>(z0(n,t,"read from private field"),e?e.call(n):t.get(n)),I=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},b=(n,t,e,r)=>(z0(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e);var Js=(n,t,e,r)=>({set _(s){b(n,t,s,e)},get _(){return d(n,t,r)}}),z=(n,t,e)=>(z0(n,t,"access private method"),e);import{g as ch,c as tt,a as lh}from"./vendor-a4a0ee75.js";var Xl={exports:{}};function uh(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q0={exports:{}};const fh={},hh=Object.freeze(Object.defineProperty({__proto__:null,default:fh},Symbol.toStringTag,{value:"Module"})),dh=ch(hh);var nc;function it(){return nc||(nc=1,function(n,t){(function(e,r){n.exports=r()})(tt,function(){var e=e||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof tt<"u"&&tt.crypto&&(i=tt.crypto),!i&&typeof uh=="function")try{i=dh}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function m(){}return function(y){var E;return m.prototype=y,E=new m,m.prototype=null,E}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(m){var y=a(this);return m&&y.mixIn(m),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var y in m)m.hasOwnProperty(y)&&(this[y]=m[y]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(m,y){m=this.words=m||[],y!=s?this.sigBytes=y:this.sigBytes=m.length*4},toString:function(m){return(m||x).stringify(this)},concat:function(m){var y=this.words,E=m.words,B=this.sigBytes,v=m.sigBytes;if(this.clamp(),B%4)for(var F=0;F<v;F++){var P=E[F>>>2]>>>24-F%4*8&255;y[B+F>>>2]|=P<<24-(B+F)%4*8}else for(var L=0;L<v;L+=4)y[B+L>>>2]=E[L>>>2];return this.sigBytes+=v,this},clamp:function(){var m=this.words,y=this.sigBytes;m[y>>>2]&=4294967295<<32-y%4*8,m.length=r.ceil(y/4)},clone:function(){var m=u.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var y=[],E=0;E<m;E+=4)y.push(o());return new f.init(y,m)}}),h=c.enc={},x=h.Hex={stringify:function(m){for(var y=m.words,E=m.sigBytes,B=[],v=0;v<E;v++){var F=y[v>>>2]>>>24-v%4*8&255;B.push((F>>>4).toString(16)),B.push((F&15).toString(16))}return B.join("")},parse:function(m){for(var y=m.length,E=[],B=0;B<y;B+=2)E[B>>>3]|=parseInt(m.substr(B,2),16)<<24-B%8*4;return new f.init(E,y/2)}},g=h.Latin1={stringify:function(m){for(var y=m.words,E=m.sigBytes,B=[],v=0;v<E;v++){var F=y[v>>>2]>>>24-v%4*8&255;B.push(String.fromCharCode(F))}return B.join("")},parse:function(m){for(var y=m.length,E=[],B=0;B<y;B++)E[B>>>2]|=(m.charCodeAt(B)&255)<<24-B%4*8;return new f.init(E,y)}},p=h.Utf8={stringify:function(m){try{return decodeURIComponent(escape(g.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return g.parse(unescape(encodeURIComponent(m)))}},A=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=p.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var y,E=this._data,B=E.words,v=E.sigBytes,F=this.blockSize,P=F*4,L=v/P;m?L=r.ceil(L):L=r.max((L|0)-this._minBufferSize,0);var C=L*F,k=r.min(C*4,v);if(C){for(var S=0;S<C;S+=F)this._doProcessBlock(B,S);y=B.splice(0,C),E.sigBytes-=k}return new f.init(y,k)},clone:function(){var m=u.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});l.Hasher=A.extend({cfg:u.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(m){return function(y,E){return new m.init(E).finalize(y)}},_createHmacHelper:function(m){return function(y,E){return new w.HMAC.init(m,E).finalize(y)}}});var w=c.algo={};return c}(Math);return e})}(Q0)),Q0.exports}var V0={exports:{}},sc;function C0(){return sc||(sc=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){return function(r){var s=e,i=s.lib,o=i.Base,a=i.WordArray,c=s.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=r?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var x=l[h];f.push(x.high),f.push(x.low)}return a.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),e})}(V0)),V0.exports}var K0={exports:{}},ic;function xh(){return ic||(ic=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){return function(){if(typeof ArrayBuffer=="function"){var r=e,s=r.lib,i=s.WordArray,o=i.init,a=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};a.prototype=i}}(),e.lib.WordArray})}(K0)),K0.exports}var J0={exports:{}},oc;function ph(){return oc||(oc=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var x=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(x))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return i.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var x=a(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(x))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=a(c.charCodeAt(f)<<16-f%2*16);return i.create(u,l*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),e.enc.Utf16})}(J0)),J0.exports}var W0={exports:{}},ac;function vn(){return ac||(ac=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.WordArray,o=r.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],x=0;x<u;x+=3)for(var g=l[x>>>2]>>>24-x%4*8&255,p=l[x+1>>>2]>>>24-(x+1)%4*8&255,A=l[x+2>>>2]>>>24-(x+2)%4*8&255,w=g<<16|p<<8|A,m=0;m<4&&x+m*.75<u;m++)h.push(f.charAt(w>>>6*(3-m)&63));var y=f.charAt(64);if(y)for(;h.length%4;)h.push(y);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var x=u.charAt(64);if(x){var g=c.indexOf(x);g!==-1&&(l=g)}return a(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,l,u){for(var f=[],h=0,x=0;x<l;x++)if(x%4){var g=u[c.charCodeAt(x-1)]<<x%4*2,p=u[c.charCodeAt(x)]>>>6-x%4*2,A=g|p;f[h>>>2]|=A<<24-h%4*8,h++}return i.create(f,h)}}(),e.enc.Base64})}(W0)),W0.exports}var q0={exports:{}},cc;function gh(){return cc||(cc=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.WordArray,o=r.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var x=[],g=0;g<f;g+=3)for(var p=u[g>>>2]>>>24-g%4*8&255,A=u[g+1>>>2]>>>24-(g+1)%4*8&255,w=u[g+2>>>2]>>>24-(g+2)%4*8&255,m=p<<16|A<<8|w,y=0;y<4&&g+y*.75<f;y++)x.push(h.charAt(m>>>6*(3-y)&63));var E=h.charAt(64);if(E)for(;x.length%4;)x.push(E);return x.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var x=0;x<f.length;x++)h[f.charCodeAt(x)]=x}var g=f.charAt(64);if(g){var p=c.indexOf(g);p!==-1&&(u=p)}return a(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,l,u){for(var f=[],h=0,x=0;x<l;x++)if(x%4){var g=u[c.charCodeAt(x-1)]<<x%4*2,p=u[c.charCodeAt(x)]>>>6-x%4*2,A=g|p;f[h>>>2]|=A<<24-h%4*8,h++}return i.create(f,h)}}(),e.enc.Base64url})}(q0)),q0.exports}var Z0={exports:{}},lc;function Bn(){return lc||(lc=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){return function(r){var s=e,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=r.abs(r.sin(p+1))*4294967296|0})();var u=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,A){for(var w=0;w<16;w++){var m=A+w,y=p[m];p[m]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var E=this._hash.words,B=p[A+0],v=p[A+1],F=p[A+2],P=p[A+3],L=p[A+4],C=p[A+5],k=p[A+6],S=p[A+7],T=p[A+8],V=p[A+9],R=p[A+10],G=p[A+11],W=p[A+12],q=p[A+13],Z=p[A+14],X=p[A+15],O=E[0],U=E[1],M=E[2],_=E[3];O=f(O,U,M,_,B,7,l[0]),_=f(_,O,U,M,v,12,l[1]),M=f(M,_,O,U,F,17,l[2]),U=f(U,M,_,O,P,22,l[3]),O=f(O,U,M,_,L,7,l[4]),_=f(_,O,U,M,C,12,l[5]),M=f(M,_,O,U,k,17,l[6]),U=f(U,M,_,O,S,22,l[7]),O=f(O,U,M,_,T,7,l[8]),_=f(_,O,U,M,V,12,l[9]),M=f(M,_,O,U,R,17,l[10]),U=f(U,M,_,O,G,22,l[11]),O=f(O,U,M,_,W,7,l[12]),_=f(_,O,U,M,q,12,l[13]),M=f(M,_,O,U,Z,17,l[14]),U=f(U,M,_,O,X,22,l[15]),O=h(O,U,M,_,v,5,l[16]),_=h(_,O,U,M,k,9,l[17]),M=h(M,_,O,U,G,14,l[18]),U=h(U,M,_,O,B,20,l[19]),O=h(O,U,M,_,C,5,l[20]),_=h(_,O,U,M,R,9,l[21]),M=h(M,_,O,U,X,14,l[22]),U=h(U,M,_,O,L,20,l[23]),O=h(O,U,M,_,V,5,l[24]),_=h(_,O,U,M,Z,9,l[25]),M=h(M,_,O,U,P,14,l[26]),U=h(U,M,_,O,T,20,l[27]),O=h(O,U,M,_,q,5,l[28]),_=h(_,O,U,M,F,9,l[29]),M=h(M,_,O,U,S,14,l[30]),U=h(U,M,_,O,W,20,l[31]),O=x(O,U,M,_,C,4,l[32]),_=x(_,O,U,M,T,11,l[33]),M=x(M,_,O,U,G,16,l[34]),U=x(U,M,_,O,Z,23,l[35]),O=x(O,U,M,_,v,4,l[36]),_=x(_,O,U,M,L,11,l[37]),M=x(M,_,O,U,S,16,l[38]),U=x(U,M,_,O,R,23,l[39]),O=x(O,U,M,_,q,4,l[40]),_=x(_,O,U,M,B,11,l[41]),M=x(M,_,O,U,P,16,l[42]),U=x(U,M,_,O,k,23,l[43]),O=x(O,U,M,_,V,4,l[44]),_=x(_,O,U,M,W,11,l[45]),M=x(M,_,O,U,X,16,l[46]),U=x(U,M,_,O,F,23,l[47]),O=g(O,U,M,_,B,6,l[48]),_=g(_,O,U,M,S,10,l[49]),M=g(M,_,O,U,Z,15,l[50]),U=g(U,M,_,O,C,21,l[51]),O=g(O,U,M,_,W,6,l[52]),_=g(_,O,U,M,P,10,l[53]),M=g(M,_,O,U,R,15,l[54]),U=g(U,M,_,O,v,21,l[55]),O=g(O,U,M,_,T,6,l[56]),_=g(_,O,U,M,X,10,l[57]),M=g(M,_,O,U,k,15,l[58]),U=g(U,M,_,O,q,21,l[59]),O=g(O,U,M,_,L,6,l[60]),_=g(_,O,U,M,G,10,l[61]),M=g(M,_,O,U,F,15,l[62]),U=g(U,M,_,O,V,21,l[63]),E[0]=E[0]+O|0,E[1]=E[1]+U|0,E[2]=E[2]+M|0,E[3]=E[3]+_|0},_doFinalize:function(){var p=this._data,A=p.words,w=this._nDataBytes*8,m=p.sigBytes*8;A[m>>>5]|=128<<24-m%32;var y=r.floor(w/4294967296),E=w;A[(m+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,A[(m+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,p.sigBytes=(A.length+1)*4,this._process();for(var B=this._hash,v=B.words,F=0;F<4;F++){var P=v[F];v[F]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return B},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});function f(p,A,w,m,y,E,B){var v=p+(A&w|~A&m)+y+B;return(v<<E|v>>>32-E)+A}function h(p,A,w,m,y,E,B){var v=p+(A&m|w&~m)+y+B;return(v<<E|v>>>32-E)+A}function x(p,A,w,m,y,E,B){var v=p+(A^w^m)+y+B;return(v<<E|v>>>32-E)+A}function g(p,A,w,m,y,E,B){var v=p+(w^(A|~m))+y+B;return(v<<E|v>>>32-E)+A}s.MD5=a._createHelper(u),s.HmacMD5=a._createHmacHelper(u)}(Math),e.MD5})}(Z0)),Z0.exports}var j0={exports:{}},uc;function Yl(){return uc||(uc=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.WordArray,o=s.Hasher,a=r.algo,c=[],l=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,x=h[0],g=h[1],p=h[2],A=h[3],w=h[4],m=0;m<80;m++){if(m<16)c[m]=u[f+m]|0;else{var y=c[m-3]^c[m-8]^c[m-14]^c[m-16];c[m]=y<<1|y>>>31}var E=(x<<5|x>>>27)+w+c[m];m<20?E+=(g&p|~g&A)+1518500249:m<40?E+=(g^p^A)+1859775393:m<60?E+=(g&p|g&A|p&A)-1894007588:E+=(g^p^A)-899497514,w=A,A=p,p=g<<30|g>>>2,g=x,x=E}h[0]=h[0]+x|0,h[1]=h[1]+g|0,h[2]=h[2]+p|0,h[3]=h[3]+A|0,h[4]=h[4]+w|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,x=u.sigBytes*8;return f[x>>>5]|=128<<24-x%32,f[(x+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(x+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=o._createHelper(l),r.HmacSHA1=o._createHmacHelper(l)}(),e.SHA1})}(j0)),j0.exports}var X0={exports:{}},fc;function wa(){return fc||(fc=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){return function(r){var s=e,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,l=[],u=[];(function(){function x(w){for(var m=r.sqrt(w),y=2;y<=m;y++)if(!(w%y))return!1;return!0}function g(w){return(w-(w|0))*4294967296|0}for(var p=2,A=0;A<64;)x(p)&&(A<8&&(l[A]=g(r.pow(p,1/2))),u[A]=g(r.pow(p,1/3)),A++),p++})();var f=[],h=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(x,g){for(var p=this._hash.words,A=p[0],w=p[1],m=p[2],y=p[3],E=p[4],B=p[5],v=p[6],F=p[7],P=0;P<64;P++){if(P<16)f[P]=x[g+P]|0;else{var L=f[P-15],C=(L<<25|L>>>7)^(L<<14|L>>>18)^L>>>3,k=f[P-2],S=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;f[P]=C+f[P-7]+S+f[P-16]}var T=E&B^~E&v,V=A&w^A&m^w&m,R=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),G=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),W=F+G+T+u[P]+f[P],q=R+V;F=v,v=B,B=E,E=y+W|0,y=m,m=w,w=A,A=W+q|0}p[0]=p[0]+A|0,p[1]=p[1]+w|0,p[2]=p[2]+m|0,p[3]=p[3]+y|0,p[4]=p[4]+E|0,p[5]=p[5]+B|0,p[6]=p[6]+v|0,p[7]=p[7]+F|0},_doFinalize:function(){var x=this._data,g=x.words,p=this._nDataBytes*8,A=x.sigBytes*8;return g[A>>>5]|=128<<24-A%32,g[(A+64>>>9<<4)+14]=r.floor(p/4294967296),g[(A+64>>>9<<4)+15]=p,x.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var x=a.clone.call(this);return x._hash=this._hash.clone(),x}});s.SHA256=a._createHelper(h),s.HmacSHA256=a._createHmacHelper(h)}(Math),e.SHA256})}(X0)),X0.exports}var Y0={exports:{}},hc;function Ah(){return hc||(hc=1,function(n,t){(function(e,r,s){n.exports=r(it(),wa())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.WordArray,o=r.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=a._doFinalize.call(this);return l.sigBytes-=4,l}});r.SHA224=a._createHelper(c),r.HmacSHA224=a._createHmacHelper(c)}(),e.SHA224})}(Y0)),Y0.exports}var $0={exports:{}},dc;function $l(){return dc||(dc=1,function(n,t){(function(e,r,s){n.exports=r(it(),C0())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.Hasher,o=r.x64,a=o.Word,c=o.WordArray,l=r.algo;function u(){return a.create.apply(a,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var g=0;g<80;g++)h[g]=u()})();var x=l.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,p){for(var A=this._hash.words,w=A[0],m=A[1],y=A[2],E=A[3],B=A[4],v=A[5],F=A[6],P=A[7],L=w.high,C=w.low,k=m.high,S=m.low,T=y.high,V=y.low,R=E.high,G=E.low,W=B.high,q=B.low,Z=v.high,X=v.low,O=F.high,U=F.low,M=P.high,_=P.low,ct=L,ot=C,dt=k,Y=S,qt=T,Zt=V,Dn=R,ne=G,xt=W,wt=q,Ur=Z,or=X,_i=O,zs=U,G0=M,Qs=_,de=0;de<80;de++){var se,ar,Hi=h[de];if(de<16)ar=Hi.high=g[p+de*2]|0,se=Hi.low=g[p+de*2+1]|0;else{var Ka=h[de-15],Pn=Ka.high,Vs=Ka.low,Wf=(Pn>>>1|Vs<<31)^(Pn>>>8|Vs<<24)^Pn>>>7,Ja=(Vs>>>1|Pn<<31)^(Vs>>>8|Pn<<24)^(Vs>>>7|Pn<<25),Wa=h[de-2],kn=Wa.high,Ks=Wa.low,qf=(kn>>>19|Ks<<13)^(kn<<3|Ks>>>29)^kn>>>6,qa=(Ks>>>19|kn<<13)^(Ks<<3|kn>>>29)^(Ks>>>6|kn<<26),Za=h[de-7],Zf=Za.high,jf=Za.low,ja=h[de-16],Xf=ja.high,Xa=ja.low;se=Ja+jf,ar=Wf+Zf+(se>>>0<Ja>>>0?1:0),se=se+qa,ar=ar+qf+(se>>>0<qa>>>0?1:0),se=se+Xa,ar=ar+Xf+(se>>>0<Xa>>>0?1:0),Hi.high=ar,Hi.low=se}var Yf=xt&Ur^~xt&_i,Ya=wt&or^~wt&zs,$f=ct&dt^ct&qt^dt&qt,th=ot&Y^ot&Zt^Y&Zt,eh=(ct>>>28|ot<<4)^(ct<<30|ot>>>2)^(ct<<25|ot>>>7),$a=(ot>>>28|ct<<4)^(ot<<30|ct>>>2)^(ot<<25|ct>>>7),rh=(xt>>>14|wt<<18)^(xt>>>18|wt<<14)^(xt<<23|wt>>>9),nh=(wt>>>14|xt<<18)^(wt>>>18|xt<<14)^(wt<<23|xt>>>9),tc=f[de],sh=tc.high,ec=tc.low,jt=Qs+nh,cr=G0+rh+(jt>>>0<Qs>>>0?1:0),jt=jt+Ya,cr=cr+Yf+(jt>>>0<Ya>>>0?1:0),jt=jt+ec,cr=cr+sh+(jt>>>0<ec>>>0?1:0),jt=jt+se,cr=cr+ar+(jt>>>0<se>>>0?1:0),rc=$a+th,ih=eh+$f+(rc>>>0<$a>>>0?1:0);G0=_i,Qs=zs,_i=Ur,zs=or,Ur=xt,or=wt,wt=ne+jt|0,xt=Dn+cr+(wt>>>0<ne>>>0?1:0)|0,Dn=qt,ne=Zt,qt=dt,Zt=Y,dt=ct,Y=ot,ot=jt+rc|0,ct=cr+ih+(ot>>>0<jt>>>0?1:0)|0}C=w.low=C+ot,w.high=L+ct+(C>>>0<ot>>>0?1:0),S=m.low=S+Y,m.high=k+dt+(S>>>0<Y>>>0?1:0),V=y.low=V+Zt,y.high=T+qt+(V>>>0<Zt>>>0?1:0),G=E.low=G+ne,E.high=R+Dn+(G>>>0<ne>>>0?1:0),q=B.low=q+wt,B.high=W+xt+(q>>>0<wt>>>0?1:0),X=v.low=X+or,v.high=Z+Ur+(X>>>0<or>>>0?1:0),U=F.low=U+zs,F.high=O+_i+(U>>>0<zs>>>0?1:0),_=P.low=_+Qs,P.high=M+G0+(_>>>0<Qs>>>0?1:0)},_doFinalize:function(){var g=this._data,p=g.words,A=this._nDataBytes*8,w=g.sigBytes*8;p[w>>>5]|=128<<24-w%32,p[(w+128>>>10<<5)+30]=Math.floor(A/4294967296),p[(w+128>>>10<<5)+31]=A,g.sigBytes=p.length*4,this._process();var m=this._hash.toX32();return m},clone:function(){var g=i.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});r.SHA512=i._createHelper(x),r.HmacSHA512=i._createHmacHelper(x)}(),e.SHA512})}($0)),$0.exports}var to={exports:{}},xc;function yh(){return xc||(xc=1,function(n,t){(function(e,r,s){n.exports=r(it(),C0(),$l())})(tt,function(e){return function(){var r=e,s=r.x64,i=s.Word,o=s.WordArray,a=r.algo,c=a.SHA512,l=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=c._createHelper(l),r.HmacSHA384=c._createHmacHelper(l)}(),e.SHA384})}(to)),to.exports}var eo={exports:{}},pc;function mh(){return pc||(pc=1,function(n,t){(function(e,r,s){n.exports=r(it(),C0())})(tt,function(e){return function(r){var s=e,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.x64,l=c.Word,u=s.algo,f=[],h=[],x=[];(function(){for(var A=1,w=0,m=0;m<24;m++){f[A+5*w]=(m+1)*(m+2)/2%64;var y=w%5,E=(2*A+3*w)%5;A=y,w=E}for(var A=0;A<5;A++)for(var w=0;w<5;w++)h[A+5*w]=w+(2*A+3*w)%5*5;for(var B=1,v=0;v<24;v++){for(var F=0,P=0,L=0;L<7;L++){if(B&1){var C=(1<<L)-1;C<32?P^=1<<C:F^=1<<C-32}B&128?B=B<<1^113:B<<=1}x[v]=l.create(F,P)}})();var g=[];(function(){for(var A=0;A<25;A++)g[A]=l.create()})();var p=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],w=0;w<25;w++)A[w]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,w){for(var m=this._state,y=this.blockSize/2,E=0;E<y;E++){var B=A[w+2*E],v=A[w+2*E+1];B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,v=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360;var F=m[E];F.high^=v,F.low^=B}for(var P=0;P<24;P++){for(var L=0;L<5;L++){for(var C=0,k=0,S=0;S<5;S++){var F=m[L+5*S];C^=F.high,k^=F.low}var T=g[L];T.high=C,T.low=k}for(var L=0;L<5;L++)for(var V=g[(L+4)%5],R=g[(L+1)%5],G=R.high,W=R.low,C=V.high^(G<<1|W>>>31),k=V.low^(W<<1|G>>>31),S=0;S<5;S++){var F=m[L+5*S];F.high^=C,F.low^=k}for(var q=1;q<25;q++){var C,k,F=m[q],Z=F.high,X=F.low,O=f[q];O<32?(C=Z<<O|X>>>32-O,k=X<<O|Z>>>32-O):(C=X<<O-32|Z>>>64-O,k=Z<<O-32|X>>>64-O);var U=g[h[q]];U.high=C,U.low=k}var M=g[0],_=m[0];M.high=_.high,M.low=_.low;for(var L=0;L<5;L++)for(var S=0;S<5;S++){var q=L+5*S,F=m[q],ct=g[q],ot=g[(L+1)%5+5*S],dt=g[(L+2)%5+5*S];F.high=ct.high^~ot.high&dt.high,F.low=ct.low^~ot.low&dt.low}var F=m[0],Y=x[P];F.high^=Y.high,F.low^=Y.low}},_doFinalize:function(){var A=this._data,w=A.words;this._nDataBytes*8;var m=A.sigBytes*8,y=this.blockSize*32;w[m>>>5]|=1<<24-m%32,w[(r.ceil((m+1)/y)*y>>>5)-1]|=128,A.sigBytes=w.length*4,this._process();for(var E=this._state,B=this.cfg.outputLength/8,v=B/8,F=[],P=0;P<v;P++){var L=E[P],C=L.high,k=L.low;C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,F.push(k),F.push(C)}return new o.init(F,B)},clone:function(){for(var A=a.clone.call(this),w=A._state=this._state.slice(0),m=0;m<25;m++)w[m]=w[m].clone();return A}});s.SHA3=a._createHelper(p),s.HmacSHA3=a._createHmacHelper(p)}(Math),e.SHA3})}(eo)),eo.exports}var ro={exports:{}},gc;function wh(){return gc||(gc=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){/** @preserve
			(c) 2012 by CÃ©dric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var s=e,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),p=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(v,F){for(var P=0;P<16;P++){var L=F+P,C=v[L];v[L]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var k=this._hash.words,S=x.words,T=g.words,V=l.words,R=u.words,G=f.words,W=h.words,q,Z,X,O,U,M,_,ct,ot,dt;M=q=k[0],_=Z=k[1],ct=X=k[2],ot=O=k[3],dt=U=k[4];for(var Y,P=0;P<80;P+=1)Y=q+v[F+V[P]]|0,P<16?Y+=A(Z,X,O)+S[0]:P<32?Y+=w(Z,X,O)+S[1]:P<48?Y+=m(Z,X,O)+S[2]:P<64?Y+=y(Z,X,O)+S[3]:Y+=E(Z,X,O)+S[4],Y=Y|0,Y=B(Y,G[P]),Y=Y+U|0,q=U,U=O,O=B(X,10),X=Z,Z=Y,Y=M+v[F+R[P]]|0,P<16?Y+=E(_,ct,ot)+T[0]:P<32?Y+=y(_,ct,ot)+T[1]:P<48?Y+=m(_,ct,ot)+T[2]:P<64?Y+=w(_,ct,ot)+T[3]:Y+=A(_,ct,ot)+T[4],Y=Y|0,Y=B(Y,W[P]),Y=Y+dt|0,M=dt,dt=ot,ot=B(ct,10),ct=_,_=Y;Y=k[1]+X+ot|0,k[1]=k[2]+O+dt|0,k[2]=k[3]+U+M|0,k[3]=k[4]+q+_|0,k[4]=k[0]+Z+ct|0,k[0]=Y},_doFinalize:function(){var v=this._data,F=v.words,P=this._nDataBytes*8,L=v.sigBytes*8;F[L>>>5]|=128<<24-L%32,F[(L+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,v.sigBytes=(F.length+1)*4,this._process();for(var C=this._hash,k=C.words,S=0;S<5;S++){var T=k[S];k[S]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return C},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v}});function A(v,F,P){return v^F^P}function w(v,F,P){return v&F|~v&P}function m(v,F,P){return(v|~F)^P}function y(v,F,P){return v&P|F&~P}function E(v,F,P){return v^(F|~P)}function B(v,F){return v<<F|v>>>32-F}s.RIPEMD160=a._createHelper(p),s.HmacRIPEMD160=a._createHmacHelper(p)}(),e.RIPEMD160})}(ro)),ro.exports}var no={exports:{}},Ac;function ba(){return Ac||(Ac=1,function(n,t){(function(e,r){n.exports=r(it())})(tt,function(e){(function(){var r=e,s=r.lib,i=s.Base,o=r.enc,a=o.Utf8,c=r.algo;c.HMAC=i.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=a.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var x=this._oKey=u.clone(),g=this._iKey=u.clone(),p=x.words,A=g.words,w=0;w<f;w++)p[w]^=1549556828,A[w]^=909522486;x.sigBytes=g.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(no)),no.exports}var so={exports:{}},yc;function bh(){return yc||(yc=1,function(n,t){(function(e,r,s){n.exports=r(it(),wa(),ba())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.SHA256,l=a.HMAC,u=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var x=this.cfg,g=l.create(x.hasher,f),p=o.create(),A=o.create([1]),w=p.words,m=A.words,y=x.keySize,E=x.iterations;w.length<y;){var B=g.update(h).finalize(A);g.reset();for(var v=B.words,F=v.length,P=B,L=1;L<E;L++){P=g.finalize(P),g.reset();for(var C=P.words,k=0;k<F;k++)v[k]^=C[k]}p.concat(B),m[0]++}return p.sigBytes=y*4,p}});r.PBKDF2=function(f,h,x){return u.create(x).compute(f,h)}}(),e.PBKDF2})}(so)),so.exports}var io={exports:{}},mc;function Tr(){return mc||(mc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Yl(),ba())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.MD5,l=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,x=this.cfg,g=x.hasher.create(),p=o.create(),A=p.words,w=x.keySize,m=x.iterations;A.length<w;){h&&g.update(h),h=g.update(u).finalize(f),g.reset();for(var y=1;y<m;y++)h=g.finalize(h),g.reset();p.concat(h)}return p.sigBytes=w*4,p}});r.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),e.EvpKDF})}(io)),io.exports}var oo={exports:{}},wc;function Ft(){return wc||(wc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Tr())})(tt,function(e){e.lib.Cipher||function(r){var s=e,i=s.lib,o=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,l=s.enc;l.Utf8;var u=l.Base64,f=s.algo,h=f.EvpKDF,x=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(C,k){return this.create(this._ENC_XFORM_MODE,C,k)},createDecryptor:function(C,k){return this.create(this._DEC_XFORM_MODE,C,k)},init:function(C,k,S){this.cfg=this.cfg.extend(S),this._xformMode=C,this._key=k,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(C){return this._append(C),this._process()},finalize:function(C){C&&this._append(C);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function C(k){return typeof k=="string"?L:v}return function(k){return{encrypt:function(S,T,V){return C(T).encrypt(k,S,T,V)},decrypt:function(S,T,V){return C(T).decrypt(k,S,T,V)}}}}()});i.StreamCipher=x.extend({_doFinalize:function(){var C=this._process(!0);return C},blockSize:1});var g=s.mode={},p=i.BlockCipherMode=o.extend({createEncryptor:function(C,k){return this.Encryptor.create(C,k)},createDecryptor:function(C,k){return this.Decryptor.create(C,k)},init:function(C,k){this._cipher=C,this._iv=k}}),A=g.CBC=function(){var C=p.extend();C.Encryptor=C.extend({processBlock:function(S,T){var V=this._cipher,R=V.blockSize;k.call(this,S,T,R),V.encryptBlock(S,T),this._prevBlock=S.slice(T,T+R)}}),C.Decryptor=C.extend({processBlock:function(S,T){var V=this._cipher,R=V.blockSize,G=S.slice(T,T+R);V.decryptBlock(S,T),k.call(this,S,T,R),this._prevBlock=G}});function k(S,T,V){var R,G=this._iv;G?(R=G,this._iv=r):R=this._prevBlock;for(var W=0;W<V;W++)S[T+W]^=R[W]}return C}(),w=s.pad={},m=w.Pkcs7={pad:function(C,k){for(var S=k*4,T=S-C.sigBytes%S,V=T<<24|T<<16|T<<8|T,R=[],G=0;G<T;G+=4)R.push(V);var W=a.create(R,T);C.concat(W)},unpad:function(C){var k=C.words[C.sigBytes-1>>>2]&255;C.sigBytes-=k}};i.BlockCipher=x.extend({cfg:x.cfg.extend({mode:A,padding:m}),reset:function(){var C;x.reset.call(this);var k=this.cfg,S=k.iv,T=k.mode;this._xformMode==this._ENC_XFORM_MODE?C=T.createEncryptor:(C=T.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==C?this._mode.init(this,S&&S.words):(this._mode=C.call(T,this,S&&S.words),this._mode.__creator=C)},_doProcessBlock:function(C,k){this._mode.processBlock(C,k)},_doFinalize:function(){var C,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),C=this._process(!0)):(C=this._process(!0),k.unpad(C)),C},blockSize:128/32});var y=i.CipherParams=o.extend({init:function(C){this.mixIn(C)},toString:function(C){return(C||this.formatter).stringify(this)}}),E=s.format={},B=E.OpenSSL={stringify:function(C){var k,S=C.ciphertext,T=C.salt;return T?k=a.create([1398893684,1701076831]).concat(T).concat(S):k=S,k.toString(u)},parse:function(C){var k,S=u.parse(C),T=S.words;return T[0]==1398893684&&T[1]==1701076831&&(k=a.create(T.slice(2,4)),T.splice(0,4),S.sigBytes-=16),y.create({ciphertext:S,salt:k})}},v=i.SerializableCipher=o.extend({cfg:o.extend({format:B}),encrypt:function(C,k,S,T){T=this.cfg.extend(T);var V=C.createEncryptor(S,T),R=V.finalize(k),G=V.cfg;return y.create({ciphertext:R,key:S,iv:G.iv,algorithm:C,mode:G.mode,padding:G.padding,blockSize:C.blockSize,formatter:T.format})},decrypt:function(C,k,S,T){T=this.cfg.extend(T),k=this._parse(k,T.format);var V=C.createDecryptor(S,T).finalize(k.ciphertext);return V},_parse:function(C,k){return typeof C=="string"?k.parse(C,this):C}}),F=s.kdf={},P=F.OpenSSL={execute:function(C,k,S,T,V){if(T||(T=a.random(64/8)),V)var R=h.create({keySize:k+S,hasher:V}).compute(C,T);else var R=h.create({keySize:k+S}).compute(C,T);var G=a.create(R.words.slice(k),S*4);return R.sigBytes=k*4,y.create({key:R,iv:G,salt:T})}},L=i.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:P}),encrypt:function(C,k,S,T){T=this.cfg.extend(T);var V=T.kdf.execute(S,C.keySize,C.ivSize,T.salt,T.hasher);T.iv=V.iv;var R=v.encrypt.call(this,C,k,V.key,T);return R.mixIn(V),R},decrypt:function(C,k,S,T){T=this.cfg.extend(T),k=this._parse(k,T.format);var V=T.kdf.execute(S,C.keySize,C.ivSize,k.salt,T.hasher);T.iv=V.iv;var R=v.decrypt.call(this,C,k,V.key,T);return R}})}()})}(oo)),oo.exports}var ao={exports:{}},bc;function Eh(){return bc||(bc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return e.mode.CFB=function(){var r=e.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize;s.call(this,i,o,c,a),this._prevBlock=i.slice(o,o+c)}}),r.Decryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,l=i.slice(o,o+c);s.call(this,i,o,c,a),this._prevBlock=l}});function s(i,o,a,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<a;f++)i[o+f]^=l[f]}return r}(),e.mode.CFB})}(ao)),ao.exports}var co={exports:{}},Ec;function vh(){return Ec||(Ec=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return e.mode.CTR=function(){var r=e.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);a.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)i[o+h]^=f[h]}});return r.Decryptor=s,r}(),e.mode.CTR})}(co)),co.exports}var lo={exports:{}},vc;function Bh(){return vc||(vc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return e.mode.CTRGladman=function(){var r=e.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var c=a>>16&255,l=a>>8&255,u=a&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,a=0,a+=c<<16,a+=l<<8,a+=u}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),i(h);var x=h.slice(0);l.encryptBlock(x,0);for(var g=0;g<u;g++)a[c+g]^=x[g]}});return r.Decryptor=o,r}(),e.mode.CTRGladman})}(lo)),lo.exports}var uo={exports:{}},Bc;function Ch(){return Bc||(Bc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return e.mode.OFB=function(){var r=e.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var f=0;f<c;f++)i[o+f]^=u[f]}});return r.Decryptor=s,r}(),e.mode.OFB})}(uo)),uo.exports}var fo={exports:{}},Cc;function Fh(){return Cc||(Cc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),r.Decryptor=r.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),r}(),e.mode.ECB})}(fo)),fo.exports}var ho={exports:{}},Fc;function Dh(){return Fc||(Fc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return e.pad.AnsiX923={pad:function(r,s){var i=r.sigBytes,o=s*4,a=o-i%o,c=i+a-1;r.clamp(),r.words[c>>>2]|=a<<24-c%4*8,r.sigBytes+=a},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},e.pad.Ansix923})}(ho)),ho.exports}var xo={exports:{}},Dc;function Ph(){return Dc||(Dc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return e.pad.Iso10126={pad:function(r,s){var i=s*4,o=i-r.sigBytes%i;r.concat(e.lib.WordArray.random(o-1)).concat(e.lib.WordArray.create([o<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},e.pad.Iso10126})}(xo)),xo.exports}var po={exports:{}},Pc;function kh(){return Pc||(Pc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return e.pad.Iso97971={pad:function(r,s){r.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(r,s)},unpad:function(r){e.pad.ZeroPadding.unpad(r),r.sigBytes--}},e.pad.Iso97971})}(po)),po.exports}var go={exports:{}},kc;function Nh(){return kc||(kc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return e.pad.ZeroPadding={pad:function(r,s){var i=s*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var s=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},e.pad.ZeroPadding})}(go)),go.exports}var Ao={exports:{}},Nc;function Ih(){return Nc||(Nc=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})}(Ao)),Ao.exports}var yo={exports:{}},Ic;function Rh(){return Ic||(Ic=1,function(n,t){(function(e,r,s){n.exports=r(it(),Ft())})(tt,function(e){return function(r){var s=e,i=s.lib,o=i.CipherParams,a=s.enc,c=a.Hex,l=s.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),e.format.Hex})}(yo)),yo.exports}var mo={exports:{}},Rc;function Oh(){return Rc||(Rc=1,function(n,t){(function(e,r,s){n.exports=r(it(),vn(),Bn(),Tr(),Ft())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.BlockCipher,o=r.algo,a=[],c=[],l=[],u=[],f=[],h=[],x=[],g=[],p=[],A=[];(function(){for(var y=[],E=0;E<256;E++)E<128?y[E]=E<<1:y[E]=E<<1^283;for(var B=0,v=0,E=0;E<256;E++){var F=v^v<<1^v<<2^v<<3^v<<4;F=F>>>8^F&255^99,a[B]=F,c[F]=B;var P=y[B],L=y[P],C=y[L],k=y[F]*257^F*16843008;l[B]=k<<24|k>>>8,u[B]=k<<16|k>>>16,f[B]=k<<8|k>>>24,h[B]=k;var k=C*16843009^L*65537^P*257^B*16843008;x[F]=k<<24|k>>>8,g[F]=k<<16|k>>>16,p[F]=k<<8|k>>>24,A[F]=k,B?(B=P^y[y[y[C^P]]],v^=y[y[v]]):B=v=1}})();var w=[0,1,2,4,8,16,32,64,128,27,54],m=o.AES=i.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,B=E.words,v=E.sigBytes/4,F=this._nRounds=v+6,P=(F+1)*4,L=this._keySchedule=[],C=0;C<P;C++)C<v?L[C]=B[C]:(y=L[C-1],C%v?v>6&&C%v==4&&(y=a[y>>>24]<<24|a[y>>>16&255]<<16|a[y>>>8&255]<<8|a[y&255]):(y=y<<8|y>>>24,y=a[y>>>24]<<24|a[y>>>16&255]<<16|a[y>>>8&255]<<8|a[y&255],y^=w[C/v|0]<<24),L[C]=L[C-v]^y);for(var k=this._invKeySchedule=[],S=0;S<P;S++){var C=P-S;if(S%4)var y=L[C];else var y=L[C-4];S<4||C<=4?k[S]=y:k[S]=x[a[y>>>24]]^g[a[y>>>16&255]]^p[a[y>>>8&255]]^A[a[y&255]]}}},encryptBlock:function(y,E){this._doCryptBlock(y,E,this._keySchedule,l,u,f,h,a)},decryptBlock:function(y,E){var B=y[E+1];y[E+1]=y[E+3],y[E+3]=B,this._doCryptBlock(y,E,this._invKeySchedule,x,g,p,A,c);var B=y[E+1];y[E+1]=y[E+3],y[E+3]=B},_doCryptBlock:function(y,E,B,v,F,P,L,C){for(var k=this._nRounds,S=y[E]^B[0],T=y[E+1]^B[1],V=y[E+2]^B[2],R=y[E+3]^B[3],G=4,W=1;W<k;W++){var q=v[S>>>24]^F[T>>>16&255]^P[V>>>8&255]^L[R&255]^B[G++],Z=v[T>>>24]^F[V>>>16&255]^P[R>>>8&255]^L[S&255]^B[G++],X=v[V>>>24]^F[R>>>16&255]^P[S>>>8&255]^L[T&255]^B[G++],O=v[R>>>24]^F[S>>>16&255]^P[T>>>8&255]^L[V&255]^B[G++];S=q,T=Z,V=X,R=O}var q=(C[S>>>24]<<24|C[T>>>16&255]<<16|C[V>>>8&255]<<8|C[R&255])^B[G++],Z=(C[T>>>24]<<24|C[V>>>16&255]<<16|C[R>>>8&255]<<8|C[S&255])^B[G++],X=(C[V>>>24]<<24|C[R>>>16&255]<<16|C[S>>>8&255]<<8|C[T&255])^B[G++],O=(C[R>>>24]<<24|C[S>>>16&255]<<16|C[T>>>8&255]<<8|C[V&255])^B[G++];y[E]=q,y[E+1]=Z,y[E+2]=X,y[E+3]=O},keySize:256/32});r.AES=i._createHelper(m)}(),e.AES})}(mo)),mo.exports}var wo={exports:{}},Oc;function Sh(){return Oc||(Oc=1,function(n,t){(function(e,r,s){n.exports=r(it(),vn(),Bn(),Tr(),Ft())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.WordArray,o=s.BlockCipher,a=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=a.DES=o.extend({_doReset:function(){for(var w=this._key,m=w.words,y=[],E=0;E<56;E++){var B=c[E]-1;y[E]=m[B>>>5]>>>31-B%32&1}for(var v=this._subKeys=[],F=0;F<16;F++){for(var P=v[F]=[],L=u[F],E=0;E<24;E++)P[E/6|0]|=y[(l[E]-1+L)%28]<<31-E%6,P[4+(E/6|0)]|=y[28+(l[E+24]-1+L)%28]<<31-E%6;P[0]=P[0]<<1|P[0]>>>31;for(var E=1;E<7;E++)P[E]=P[E]>>>(E-1)*4+3;P[7]=P[7]<<5|P[7]>>>27}for(var C=this._invSubKeys=[],E=0;E<16;E++)C[E]=v[15-E]},encryptBlock:function(w,m){this._doCryptBlock(w,m,this._subKeys)},decryptBlock:function(w,m){this._doCryptBlock(w,m,this._invSubKeys)},_doCryptBlock:function(w,m,y){this._lBlock=w[m],this._rBlock=w[m+1],g.call(this,4,252645135),g.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),g.call(this,1,1431655765);for(var E=0;E<16;E++){for(var B=y[E],v=this._lBlock,F=this._rBlock,P=0,L=0;L<8;L++)P|=f[L][((F^B[L])&h[L])>>>0];this._lBlock=F,this._rBlock=v^P}var C=this._lBlock;this._lBlock=this._rBlock,this._rBlock=C,g.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),w[m]=this._lBlock,w[m+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(w,m){var y=(this._lBlock>>>w^this._rBlock)&m;this._rBlock^=y,this._lBlock^=y<<w}function p(w,m){var y=(this._rBlock>>>w^this._lBlock)&m;this._lBlock^=y,this._rBlock^=y<<w}r.DES=o._createHelper(x);var A=a.TripleDES=o.extend({_doReset:function(){var w=this._key,m=w.words;if(m.length!==2&&m.length!==4&&m.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=m.slice(0,2),E=m.length<4?m.slice(0,2):m.slice(2,4),B=m.length<6?m.slice(0,2):m.slice(4,6);this._des1=x.createEncryptor(i.create(y)),this._des2=x.createEncryptor(i.create(E)),this._des3=x.createEncryptor(i.create(B))},encryptBlock:function(w,m){this._des1.encryptBlock(w,m),this._des2.decryptBlock(w,m),this._des3.encryptBlock(w,m)},decryptBlock:function(w,m){this._des3.decryptBlock(w,m),this._des2.encryptBlock(w,m),this._des1.decryptBlock(w,m)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(A)}(),e.TripleDES})}(wo)),wo.exports}var bo={exports:{}},Sc;function Th(){return Sc||(Sc=1,function(n,t){(function(e,r,s){n.exports=r(it(),vn(),Bn(),Tr(),Ft())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.StreamCipher,o=r.algo,a=o.RC4=i.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,x=this._S=[],g=0;g<256;g++)x[g]=g;for(var g=0,p=0;g<256;g++){var A=g%h,w=f[A>>>2]>>>24-A%4*8&255;p=(p+x[g]+w)%256;var m=x[g];x[g]=x[p],x[p]=m}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,x=0,g=0;g<4;g++){f=(f+1)%256,h=(h+u[f])%256;var p=u[f];u[f]=u[h],u[h]=p,x|=u[(u[f]+u[h])%256]<<24-g*8}return this._i=f,this._j=h,x}r.RC4=i._createHelper(a);var l=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});r.RC4Drop=i._createHelper(l)}(),e.RC4})}(bo)),bo.exports}var Eo={exports:{}},Tc;function Lh(){return Tc||(Tc=1,function(n,t){(function(e,r,s){n.exports=r(it(),vn(),Bn(),Tr(),Ft())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],l=[],u=o.Rabbit=i.extend({_doReset:function(){for(var h=this._key.words,x=this.cfg.iv,g=0;g<4;g++)h[g]=(h[g]<<8|h[g]>>>24)&16711935|(h[g]<<24|h[g]>>>8)&4278255360;var p=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],A=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)A[g]^=p[g+4&7];if(x){var w=x.words,m=w[0],y=w[1],E=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,B=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v=E>>>16|B&4294901760,F=B<<16|E&65535;A[0]^=E,A[1]^=v,A[2]^=B,A[3]^=F,A[4]^=E,A[5]^=v,A[6]^=B,A[7]^=F;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(h,x){var g=this._X;f.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var p=0;p<4;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360,h[x+p]^=a[p]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,x=this._C,g=0;g<8;g++)c[g]=x[g];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<c[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<c[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<c[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<c[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<c[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<c[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<c[6]>>>0?1:0)|0,this._b=x[7]>>>0<c[7]>>>0?1:0;for(var g=0;g<8;g++){var p=h[g]+x[g],A=p&65535,w=p>>>16,m=((A*A>>>17)+A*w>>>15)+w*w,y=((p&4294901760)*p|0)+((p&65535)*p|0);l[g]=m^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.Rabbit=i._createHelper(u)}(),e.Rabbit})}(Eo)),Eo.exports}var vo={exports:{}},Lc;function Uh(){return Lc||(Lc=1,function(n,t){(function(e,r,s){n.exports=r(it(),vn(),Bn(),Tr(),Ft())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],l=[],u=o.RabbitLegacy=i.extend({_doReset:function(){var h=this._key.words,x=this.cfg.iv,g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],p=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var A=0;A<4;A++)f.call(this);for(var A=0;A<8;A++)p[A]^=g[A+4&7];if(x){var w=x.words,m=w[0],y=w[1],E=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,B=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v=E>>>16|B&4294901760,F=B<<16|E&65535;p[0]^=E,p[1]^=v,p[2]^=B,p[3]^=F,p[4]^=E,p[5]^=v,p[6]^=B,p[7]^=F;for(var A=0;A<4;A++)f.call(this)}},_doProcessBlock:function(h,x){var g=this._X;f.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var p=0;p<4;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360,h[x+p]^=a[p]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,x=this._C,g=0;g<8;g++)c[g]=x[g];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<c[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<c[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<c[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<c[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<c[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<c[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<c[6]>>>0?1:0)|0,this._b=x[7]>>>0<c[7]>>>0?1:0;for(var g=0;g<8;g++){var p=h[g]+x[g],A=p&65535,w=p>>>16,m=((A*A>>>17)+A*w>>>15)+w*w,y=((p&4294901760)*p|0)+((p&65535)*p|0);l[g]=m^y}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.RabbitLegacy=i._createHelper(u)}(),e.RabbitLegacy})}(vo)),vo.exports}var Bo={exports:{}},Uc;function _h(){return Uc||(Uc=1,function(n,t){(function(e,r,s){n.exports=r(it(),vn(),Bn(),Tr(),Ft())})(tt,function(e){return function(){var r=e,s=r.lib,i=s.BlockCipher,o=r.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(A,w){let m=w>>24&255,y=w>>16&255,E=w>>8&255,B=w&255,v=A.sbox[0][m]+A.sbox[1][y];return v=v^A.sbox[2][E],v=v+A.sbox[3][B],v}function h(A,w,m){let y=w,E=m,B;for(let v=0;v<a;++v)y=y^A.pbox[v],E=f(A,y)^E,B=y,y=E,E=B;return B=y,y=E,E=B,E=E^A.pbox[a],y=y^A.pbox[a+1],{left:y,right:E}}function x(A,w,m){let y=w,E=m,B;for(let v=a+1;v>1;--v)y=y^A.pbox[v],E=f(A,y)^E,B=y,y=E,E=B;return B=y,y=E,E=B,E=E^A.pbox[1],y=y^A.pbox[0],{left:y,right:E}}function g(A,w,m){for(let F=0;F<4;F++){A.sbox[F]=[];for(let P=0;P<256;P++)A.sbox[F][P]=l[F][P]}let y=0;for(let F=0;F<a+2;F++)A.pbox[F]=c[F]^w[y],y++,y>=m&&(y=0);let E=0,B=0,v=0;for(let F=0;F<a+2;F+=2)v=h(A,E,B),E=v.left,B=v.right,A.pbox[F]=E,A.pbox[F+1]=B;for(let F=0;F<4;F++)for(let P=0;P<256;P+=2)v=h(A,E,B),E=v.left,B=v.right,A.sbox[F][P]=E,A.sbox[F][P+1]=B;return!0}var p=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,w=A.words,m=A.sigBytes/4;g(u,w,m)}},encryptBlock:function(A,w){var m=h(u,A[w],A[w+1]);A[w]=m.left,A[w+1]=m.right},decryptBlock:function(A,w){var m=x(u,A[w],A[w+1]);A[w]=m.left,A[w+1]=m.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(p)}(),e.Blowfish})}(Bo)),Bo.exports}(function(n,t){(function(e,r,s){n.exports=r(it(),C0(),xh(),ph(),vn(),gh(),Bn(),Yl(),wa(),Ah(),$l(),yh(),mh(),wh(),ba(),bh(),Tr(),Ft(),Eh(),vh(),Bh(),Ch(),Fh(),Dh(),Ph(),kh(),Nh(),Ih(),Rh(),Oh(),Sh(),Th(),Lh(),Uh(),_h())})(tt,function(e){return e})})(Xl);var Hh=Xl.exports;const Cg=lh(Hh),Mh="6.15.0";function Gh(n,t,e){const r=t.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===t)return}const s=new Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${e}`,s.value=n,s}async function Ut(n){const t=Object.keys(n);return(await Promise.all(t.map(r=>Promise.resolve(n[r])))).reduce((r,s,i)=>(r[t[i]]=s,r),{})}function j(n,t,e){for(let r in t){let s=t[r];const i=e?e[r]:null;i&&Gh(s,i,r),Object.defineProperty(n,r,{enumerable:!0,value:s,writable:!1})}}function Tn(n,t){if(n==null)return"null";if(t==null&&(t=new Set),typeof n=="object"){if(t.has(n))return"[Circular]";t.add(n)}if(Array.isArray(n))return"[ "+n.map(e=>Tn(e,t)).join(", ")+" ]";if(n instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let s=0;s<n.length;s++)r+=e[n[s]>>4],r+=e[n[s]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return Tn(n.toJSON(),t);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const e=Object.keys(n);return e.sort(),"{ "+e.map(r=>`${Tn(r,t)}: ${Tn(n[r],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function kt(n,t){return n&&n.code===t}function Ea(n){return kt(n,"CALL_EXCEPTION")}function ht(n,t,e){let r=n;{const i=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Tn(e)}`);for(const o in e){if(o==="shortMessage")continue;const a=e[o];i.push(o+"="+Tn(a))}}i.push(`code=${t}`),i.push(`version=${Mh}`),i.length&&(n+=" ("+i.join(", ")+")")}let s;switch(t){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return j(s,{code:t}),e&&Object.assign(s,e),s.shortMessage==null&&j(s,{shortMessage:r}),s}function H(n,t,e,r){if(!n)throw ht(t,e,r)}function D(n,t,e,r){H(n,t,"INVALID_ARGUMENT",{argument:e,value:r})}function tu(n,t,e){e==null&&(e=""),e&&(e=": "+e),H(n>=t,"missing argument"+e,"MISSING_ARGUMENT",{count:n,expectedCount:t}),H(n<=t,"too many arguments"+e,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:t})}const zh=["NFD","NFC","NFKD","NFKC"].reduce((n,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"){const e=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(e!==r)throw new Error("broken")}n.push(t)}catch{}return n},[]);function Qh(n){H(zh.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function F0(n,t,e){if(e==null&&(e=""),n!==t){let r=e,s="new";e&&(r+=".",s+=" "+e),H(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function eu(n,t,e){if(n instanceof Uint8Array)return e?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(n.substring(s,s+2),16),s+=2;return r}D(!1,"invalid BytesLike value",t||"value",n)}function et(n,t){return eu(n,t,!1)}function _t(n,t){return eu(n,t,!0)}function ft(n,t){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&n.length!==2+2*t||t===!0&&n.length%2!==0)}function va(n){return ft(n,!0)||n instanceof Uint8Array}const _c="0123456789abcdef";function Q(n){const t=et(n);let e="0x";for(let r=0;r<t.length;r++){const s=t[r];e+=_c[(s&240)>>4]+_c[s&15]}return e}function At(n){return"0x"+n.map(t=>Q(t).substring(2)).join("")}function Mn(n){return ft(n,!0)?(n.length-2)/2:et(n).length}function gt(n,t,e){const r=et(n);return e!=null&&e>r.length&&H(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:e}),Q(r.slice(t??0,e??r.length))}function ru(n,t,e){const r=et(n);H(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const s=new Uint8Array(t);return s.fill(0),e?s.set(r,t-r.length):s.set(r,0),Q(s)}function nr(n,t){return ru(n,t,!0)}function Vh(n,t){return ru(n,t,!1)}const D0=BigInt(0),Ee=BigInt(1),Ln=9007199254740991;function Kh(n,t){const e=P0(n,"value"),r=BigInt(rt(t,"width"));if(H(e>>r===D0,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),e>>r-Ee){const s=(Ee<<r)-Ee;return-((~e&s)+Ee)}return e}function nu(n,t){let e=J(n,"value");const r=BigInt(rt(t,"width")),s=Ee<<r-Ee;if(e<D0){e=-e,H(e<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const i=(Ee<<r)-Ee;return(~e&i)+Ee}else H(e<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return e}function Zs(n,t){const e=P0(n,"value"),r=BigInt(rt(t,"bits"));return e&(Ee<<r)-Ee}function J(n,t){switch(typeof n){case"bigint":return n;case"number":return D(Number.isInteger(n),"underflow",t||"value",n),D(n>=-Ln&&n<=Ln,"overflow",t||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(e){D(!1,`invalid BigNumberish string: ${e.message}`,t||"value",n)}}D(!1,"invalid BigNumberish value",t||"value",n)}function P0(n,t){const e=J(n,t);return H(e>=D0,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),e}const Hc="0123456789abcdef";function Ba(n){if(n instanceof Uint8Array){let t="0x0";for(const e of n)t+=Hc[e>>4],t+=Hc[e&15];return BigInt(t)}return J(n)}function rt(n,t){switch(typeof n){case"bigint":return D(n>=-Ln&&n<=Ln,"overflow",t||"value",n),Number(n);case"number":return D(Number.isInteger(n),"underflow",t||"value",n),D(n>=-Ln&&n<=Ln,"overflow",t||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return rt(BigInt(n),t)}catch(e){D(!1,`invalid numeric string: ${e.message}`,t||"value",n)}}D(!1,"invalid numeric value",t||"value",n)}function Jh(n){return rt(Ba(n))}function Rr(n,t){let r=P0(n,"value").toString(16);if(t==null)r.length%2&&(r="0"+r);else{const s=rt(t,"width");for(H(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<s*2;)r="0"+r}return"0x"+r}function Et(n){const t=P0(n,"value");if(t===D0)return new Uint8Array([]);let e=t.toString(16);e.length%2&&(e="0"+e);const r=new Uint8Array(e.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(e.substring(i,i+2),16)}return r}function be(n){let t=Q(va(n)?n:Et(n)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const Mc="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Gc=BigInt(58);function Wh(n){const t=et(n);let e=Ba(t),r="";for(;e;)r=Mc[Number(e%Gc)]+r,e/=Gc;for(let s=0;s<t.length&&!t[s];s++)r=Mc[0]+r;return r}function qh(n){n=atob(n);const t=new Uint8Array(n.length);for(let e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return et(t)}function Zh(n){const t=et(n);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var Qn;class su{constructor(t,e,r){N(this,"filter");N(this,"emitter");I(this,Qn,void 0);b(this,Qn,e),j(this,{emitter:t,filter:r})}async removeListener(){d(this,Qn)!=null&&await this.emitter.off(this.filter,d(this,Qn))}}Qn=new WeakMap;function jh(n,t,e,r,s){D(!1,`invalid codepoint at offset ${t}; ${n}`,"bytes",e)}function iu(n,t,e,r,s){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let i=0;for(let o=t+1;o<e.length&&e[o]>>6===2;o++)i++;return i}return n==="OVERRUN"?e.length-t-1:0}function Xh(n,t,e,r,s){return n==="OVERLONG"?(D(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),iu(n,t,e))}const Yh=Object.freeze({error:jh,ignore:iu,replace:Xh});function $h(n,t){t==null&&(t=Yh.error);const e=et(n,"bytes"),r=[];let s=0;for(;s<e.length;){const i=e[s++];if(!(i>>7)){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=t("UNEXPECTED_CONTINUE",s-1,e,r):s+=t("BAD_PREFIX",s-1,e,r);continue}if(s-1+o>=e.length){s+=t("OVERRUN",s-1,e,r);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=e[s];if((u&192)!=128){s+=t("MISSING_CONTINUE",s,e,r),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=t("OUT_OF_RANGE",s-1-o,e,r,c);continue}if(c>=55296&&c<=57343){s+=t("UTF16_SURROGATE",s-1-o,e,r,c);continue}if(c<=a){s+=t("OVERLONG",s-1-o,e,r,c);continue}r.push(c)}}return r}function er(n,t){D(typeof n=="string","invalid string value","str",n),t!=null&&(Qh(t),n=n.normalize(t));let e=[];for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);if(s<128)e.push(s);else if(s<2048)e.push(s>>6|192),e.push(s&63|128);else if((s&64512)==55296){r++;const i=n.charCodeAt(r);D(r<n.length&&(i&64512)===56320,"invalid surrogate pair","str",n);const o=65536+((s&1023)<<10)+(i&1023);e.push(o>>18|240),e.push(o>>12&63|128),e.push(o>>6&63|128),e.push(o&63|128)}else e.push(s>>12|224),e.push(s>>6&63|128),e.push(s&63|128)}return new Uint8Array(e)}function td(n){return n.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function i0(n,t){return td($h(n,t))}function ou(n){async function t(e,r){H(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=e.url.split(":")[0].toLowerCase();H(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),H(s==="https"||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=ht("request timeout","TIMEOUT"),o.abort()},e.timeout);r&&r.addListener(()=>{i=ht("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},n,{method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:o.signal});let l;try{l=await fetch(e.url,c)}catch(x){throw clearTimeout(a),i||x}clearTimeout(a);const u={};l.headers.forEach((x,g)=>{u[g.toLowerCase()]=x});const f=await l.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:h}}return t}const ed=12,rd=250;let zc=ou();const nd=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),sd=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Co=!1;async function au(n,t){try{const e=n.match(nd);if(!e)throw new Error("invalid data");return new Ir(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?qh(e[3]):od(e[3]))}catch{return new Ir(599,"BAD REQUEST (invalid data: URI)",{},null,new Or(n))}}function cu(n){async function t(e,r){try{const s=e.match(sd);if(!s)throw new Error("invalid link");return new Or(`${n}${s[2]}`)}catch{return new Ir(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Or(e))}}return t}const Mi={data:au,ipfs:cu("https://gateway.ipfs.io/ipfs/")},lu=new WeakMap;var qr,xr;class id{constructor(t){I(this,qr,void 0);I(this,xr,void 0);b(this,qr,[]),b(this,xr,!1),lu.set(t,()=>{if(!d(this,xr)){b(this,xr,!0);for(const e of d(this,qr))setTimeout(()=>{e()},0);b(this,qr,[])}})}addListener(t){H(!d(this,xr),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),d(this,qr).push(t)}get cancelled(){return d(this,xr)}checkSignal(){H(!this.cancelled,"cancelled","CANCELLED",{})}}qr=new WeakMap,xr=new WeakMap;function Gi(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var Vn,Kn,ge,ze,Jn,Wn,vt,$t,Qe,Zr,jr,Xr,De,Ae,pr,Yr,js;const A0=class A0{constructor(t){I(this,Yr);I(this,Vn,void 0);I(this,Kn,void 0);I(this,ge,void 0);I(this,ze,void 0);I(this,Jn,void 0);I(this,Wn,void 0);I(this,vt,void 0);I(this,$t,void 0);I(this,Qe,void 0);I(this,Zr,void 0);I(this,jr,void 0);I(this,Xr,void 0);I(this,De,void 0);I(this,Ae,void 0);I(this,pr,void 0);b(this,Wn,String(t)),b(this,Vn,!1),b(this,Kn,!0),b(this,ge,{}),b(this,ze,""),b(this,Jn,3e5),b(this,Ae,{slotInterval:rd,maxAttempts:ed}),b(this,pr,null)}get url(){return d(this,Wn)}set url(t){b(this,Wn,String(t))}get body(){return d(this,vt)==null?null:new Uint8Array(d(this,vt))}set body(t){if(t==null)b(this,vt,void 0),b(this,$t,void 0);else if(typeof t=="string")b(this,vt,er(t)),b(this,$t,"text/plain");else if(t instanceof Uint8Array)b(this,vt,t),b(this,$t,"application/octet-stream");else if(typeof t=="object")b(this,vt,er(JSON.stringify(t))),b(this,$t,"application/json");else throw new Error("invalid body")}hasBody(){return d(this,vt)!=null}get method(){return d(this,ze)?d(this,ze):this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),b(this,ze,String(t).toUpperCase())}get headers(){const t=Object.assign({},d(this,ge));return d(this,Qe)&&(t.authorization=`Basic ${Zh(er(d(this,Qe)))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&d(this,$t)&&(t["content-type"]=d(this,$t)),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){d(this,ge)[String(t).toLowerCase()]=String(e)}clearHeaders(){b(this,ge,{})}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return d(this,Qe)||null}setCredentials(t,e){D(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),b(this,Qe,`${t}:${e}`)}get allowGzip(){return d(this,Kn)}set allowGzip(t){b(this,Kn,!!t)}get allowInsecureAuthentication(){return!!d(this,Vn)}set allowInsecureAuthentication(t){b(this,Vn,!!t)}get timeout(){return d(this,Jn)}set timeout(t){D(t>=0,"timeout must be non-zero","timeout",t),b(this,Jn,t)}get preflightFunc(){return d(this,Zr)||null}set preflightFunc(t){b(this,Zr,t)}get processFunc(){return d(this,jr)||null}set processFunc(t){b(this,jr,t)}get retryFunc(){return d(this,Xr)||null}set retryFunc(t){b(this,Xr,t)}get getUrlFunc(){return d(this,pr)||zc}set getUrlFunc(t){b(this,pr,t)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${d(this,vt)?Q(d(this,vt)):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(d(this,Ae).slotInterval=t.slotInterval),t.maxAttempts!=null&&(d(this,Ae).maxAttempts=t.maxAttempts)}send(){return H(d(this,De)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),b(this,De,new id(this)),z(this,Yr,js).call(this,0,Qc()+this.timeout,0,this,new Ir(0,"",{},null,this))}cancel(){H(d(this,De)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=lu.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();H(this.method==="GET"&&(e!=="https"||r!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const s=new A0(t);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,b(s,ge,Object.assign({},d(this,ge))),d(this,vt)&&b(s,vt,new Uint8Array(d(this,vt))),b(s,$t,d(this,$t)),s}clone(){const t=new A0(this.url);return b(t,ze,d(this,ze)),d(this,vt)&&b(t,vt,d(this,vt)),b(t,$t,d(this,$t)),b(t,ge,Object.assign({},d(this,ge))),b(t,Qe,d(this,Qe)),this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),b(t,Zr,d(this,Zr)),b(t,jr,d(this,jr)),b(t,Xr,d(this,Xr)),b(t,Ae,Object.assign({},d(this,Ae))),b(t,pr,d(this,pr)),t}static lockConfig(){Co=!0}static getGateway(t){return Mi[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(Co)throw new Error("gateways locked");Mi[t]=e}static registerGetUrl(t){if(Co)throw new Error("gateways locked");zc=t}static createGetUrlFunc(t){return ou(t)}static createDataGateway(){return au}static createIpfsGatewayFunc(t){return cu(t)}};Vn=new WeakMap,Kn=new WeakMap,ge=new WeakMap,ze=new WeakMap,Jn=new WeakMap,Wn=new WeakMap,vt=new WeakMap,$t=new WeakMap,Qe=new WeakMap,Zr=new WeakMap,jr=new WeakMap,Xr=new WeakMap,De=new WeakMap,Ae=new WeakMap,pr=new WeakMap,Yr=new WeakSet,js=async function(t,e,r,s,i){var u,f,h;if(t>=d(this,Ae).maxAttempts)return i.makeServerError("exceeded maximum retry limit");H(Qc()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await ad(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Mi){const x=await Mi[a](o.url,Gi(d(s,De)));if(x instanceof Ir){let g=x;if(this.processFunc){Gi(d(s,De));try{g=await this.processFunc(o,g)}catch(p){(p.throttle==null||typeof p.stall!="number")&&g.makeServerError("error in post-processing function",p).assertOk()}}return g}o=x}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,Gi(d(s,De)));let l=new Ir(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const x=l.headers.location||"";return z(u=o.redirect(x),Yr,js).call(u,t+1,e,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,t))){const x=l.headers["retry-after"];let g=d(this,Ae).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof x=="string"&&x.match(/^[1-9][0-9]*$/)&&(g=parseInt(x)),z(f=o.clone(),Yr,js).call(f,t+1,e,g,s,l)}if(this.processFunc){Gi(d(s,De));try{l=await this.processFunc(o,l)}catch(x){(x.throttle==null||typeof x.stall!="number")&&l.makeServerError("error in post-processing function",x).assertOk();let g=d(this,Ae).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return x.stall>=0&&(g=x.stall),z(h=o.clone(),Yr,js).call(h,t+1,e,g,s,l)}}return l};let Or=A0;var pi,gi,Ai,te,qn,$r;const za=class za{constructor(t,e,r,s,i){I(this,pi,void 0);I(this,gi,void 0);I(this,Ai,void 0);I(this,te,void 0);I(this,qn,void 0);I(this,$r,void 0);b(this,pi,t),b(this,gi,e),b(this,Ai,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),b(this,te,s==null?null:new Uint8Array(s)),b(this,qn,i||null),b(this,$r,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${d(this,te)?Q(d(this,te)):"null"}>`}get statusCode(){return d(this,pi)}get statusMessage(){return d(this,gi)}get headers(){return Object.assign({},d(this,Ai))}get body(){return d(this,te)==null?null:new Uint8Array(d(this,te))}get bodyText(){try{return d(this,te)==null?"":i0(d(this,te))}catch{H(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{H(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const s=e[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,e){let r;t?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${t})`);const s=new za(599,r,this.headers,this.body,d(this,qn)||void 0);return b(s,$r,{message:t,error:e}),s}throwThrottleError(t,e){e==null?e=-1:D(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const r=new Error(t||"throttling requests");throw j(r,{stall:e,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return d(this,te)!=null}get request(){return d(this,qn)}ok(){return d(this,$r).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=d(this,$r);t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{d(this,te)&&(s=i0(d(this,te)))}catch{}H(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};pi=new WeakMap,gi=new WeakMap,Ai=new WeakMap,te=new WeakMap,qn=new WeakMap,$r=new WeakMap;let Ir=za;function Qc(){return new Date().getTime()}function od(n){return er(n.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function ad(n){return new Promise(t=>setTimeout(t,n))}function cd(n){let t=n.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Vc(n,t,e){let r=0;for(let s=0;s<e;s++)r=r*256+n[t+s];return r}function Kc(n,t,e,r){const s=[];for(;e<t+1+r;){const i=uu(n,e);s.push(i.result),e+=i.consumed,H(e<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:t})}return{consumed:1+r,result:s}}function uu(n,t){H(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const e=r=>{H(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[t]>=248){const r=n[t]-247;e(t+1+r);const s=Vc(n,t+1,r);return e(t+1+r+s),Kc(n,t,t+1+r,r+s)}else if(n[t]>=192){const r=n[t]-192;return e(t+1+r),Kc(n,t,t+1,r)}else if(n[t]>=184){const r=n[t]-183;e(t+1+r);const s=Vc(n,t+1,r);e(t+1+r+s);const i=Q(n.slice(t+1+r,t+1+r+s));return{consumed:1+r+s,result:i}}else if(n[t]>=128){const r=n[t]-128;e(t+1+r);const s=Q(n.slice(t+1,t+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:cd(n[t])}}function Oi(n){const t=et(n,"data"),e=uu(t,0);return D(e.consumed===t.length,"unexpected junk after rlp payload","data",n),e.result}function Jc(n){const t=[];for(;n;)t.unshift(n&255),n>>=8;return t}function fu(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(i){r=r.concat(fu(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=Jc(r.length);return s.unshift(247+s.length),s.concat(r)}const t=Array.prototype.slice.call(et(n,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=Jc(t.length);return e.unshift(183+e.length),e.concat(t)}const Wc="0123456789abcdef";function Sr(n){let t="0x";for(const e of fu(n))t+=Wc[e>>4],t+=Wc[e&15];return t}const Ht=32,zo=new Uint8Array(Ht),ld=["then"],zi={},hu=new WeakMap;function Mr(n){return hu.get(n)}function qc(n,t){hu.set(n,t)}function Ws(n,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw e.error=t,e}function Qo(n,t,e){return n.indexOf(null)>=0?t.map((r,s)=>r instanceof Rs?Qo(Mr(r),r,e):r):n.reduce((r,s,i)=>{let o=t.getValue(s);return s in r||(e&&o instanceof Rs&&(o=Qo(Mr(o),o,e)),r[s]=o),r},{})}var Zn;const Un=class Un extends Array{constructor(...e){const r=e[0];let s=e[1],i=(e[2]||[]).slice(),o=!0;r!==zi&&(s=e,i=[],o=!1);super(s.length);I(this,Zn,void 0);s.forEach((l,u)=>{this[u]=l});const a=i.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(qc(this,Object.freeze(s.map((l,u)=>{const f=i[u];return f!=null&&a.get(f)===1?f:null}))),b(this,Zn,[]),d(this,Zn)==null&&d(this,Zn),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(l,u,f)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const x=rt(u,"%index");if(x<0||x>=this.length)throw new RangeError("out of result range");const g=l[x];return g instanceof Error&&Ws(`index ${x}`,g),g}if(ld.indexOf(u)>=0)return Reflect.get(l,u,f);const h=l[u];if(h instanceof Function)return function(...x){return h.apply(this===f?l:this,x)};if(!(u in l))return l.getValue.apply(this===f?l:this,[u])}return Reflect.get(l,u,f)}});return qc(c,Mr(this)),c}toArray(e){const r=[];return this.forEach((s,i)=>{s instanceof Error&&Ws(`index ${i}`,s),e&&s instanceof Un&&(s=s.toArray(e)),r.push(s)}),r}toObject(e){const r=Mr(this);return r.reduce((s,i,o)=>(H(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Qo(r,this,e)),{})}slice(e,r){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=Mr(this),i=[],o=[];for(let a=e;a<r;a++)i.push(this[a]),o.push(s[a]);return new Un(zi,i,o)}filter(e,r){const s=Mr(this),i=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&Ws(`index ${a}`,c),e.call(r,c,a,this)&&(i.push(c),o.push(s[a]))}return new Un(zi,i,o)}map(e,r){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Ws(`index ${i}`,o),s.push(e.call(r,o,i,this))}return s}getValue(e){const r=Mr(this).indexOf(e);if(r===-1)return;const s=this[r];return s instanceof Error&&Ws(`property ${JSON.stringify(e)}`,s.error),s}static fromItems(e,r){return new Un(zi,e,r)}};Zn=new WeakMap;let Rs=Un;function Zc(n){let t=Et(n);return H(t.length<=Ht,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ht,offset:t.length}),t.length!==Ht&&(t=_t(At([zo.slice(t.length%Ht),t]))),t}class ir{constructor(t,e,r,s){N(this,"name");N(this,"type");N(this,"localName");N(this,"dynamic");j(this,{name:t,type:e,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){D(!1,t,this.localName,e)}}var Ve,tn,jn,Zi;class Vo{constructor(){I(this,jn);I(this,Ve,void 0);I(this,tn,void 0);b(this,Ve,[]),b(this,tn,0)}get data(){return At(d(this,Ve))}get length(){return d(this,tn)}appendWriter(t){return z(this,jn,Zi).call(this,_t(t.data))}writeBytes(t){let e=_t(t);const r=e.length%Ht;return r&&(e=_t(At([e,zo.slice(r)]))),z(this,jn,Zi).call(this,e)}writeValue(t){return z(this,jn,Zi).call(this,Zc(t))}writeUpdatableValue(){const t=d(this,Ve).length;return d(this,Ve).push(zo),b(this,tn,d(this,tn)+Ht),e=>{d(this,Ve)[t]=Zc(e)}}}Ve=new WeakMap,tn=new WeakMap,jn=new WeakSet,Zi=function(t){return d(this,Ve).push(t),b(this,tn,d(this,tn)+t.length),t.length};var zt,ee,en,rn,gr,yi,Jo,y0,du;const Qa=class Qa{constructor(t,e,r){I(this,yi);I(this,y0);N(this,"allowLoose");I(this,zt,void 0);I(this,ee,void 0);I(this,en,void 0);I(this,rn,void 0);I(this,gr,void 0);j(this,{allowLoose:!!e}),b(this,zt,_t(t)),b(this,en,0),b(this,rn,null),b(this,gr,r??1024),b(this,ee,0)}get data(){return Q(d(this,zt))}get dataLength(){return d(this,zt).length}get consumed(){return d(this,ee)}get bytes(){return new Uint8Array(d(this,zt))}subReader(t){const e=new Qa(d(this,zt).slice(d(this,ee)+t),this.allowLoose,d(this,gr));return b(e,rn,this),e}readBytes(t,e){let r=z(this,y0,du).call(this,0,t,!!e);return z(this,yi,Jo).call(this,t),b(this,ee,d(this,ee)+r.length),r.slice(0,t)}readValue(){return Ba(this.readBytes(Ht))}readIndex(){return Jh(this.readBytes(Ht))}};zt=new WeakMap,ee=new WeakMap,en=new WeakMap,rn=new WeakMap,gr=new WeakMap,yi=new WeakSet,Jo=function(t){var e;if(d(this,rn))return z(e=d(this,rn),yi,Jo).call(e,t);b(this,en,d(this,en)+t),H(d(this,gr)<1||d(this,en)<=d(this,gr)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${d(this,gr)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:_t(d(this,zt)),offset:d(this,ee),length:t,info:{bytesRead:d(this,en),dataLength:this.dataLength}})},y0=new WeakSet,du=function(t,e,r){let s=Math.ceil(e/Ht)*Ht;return d(this,ee)+s>d(this,zt).length&&(this.allowLoose&&r&&d(this,ee)+e<=d(this,zt).length?s=e:H(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:_t(d(this,zt)),length:d(this,zt).length,offset:d(this,ee)+s})),d(this,zt).slice(d(this,ee),d(this,ee)+s)};let Ko=Qa;function o0(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function Ca(n,...t){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(n.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${n.length}`)}function ud(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");o0(n.outputLen),o0(n.blockLen)}function Os(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function xu(n,t){Ca(n);const e=t.outputLen;if(n.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const Fo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pu=n=>n instanceof Uint8Array,fd=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),Do=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ce=(n,t)=>n<<32-t|n>>>t,hd=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!hd)throw new Error("Non little-endian hardware is not supported");function dd(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function k0(n){if(typeof n=="string"&&(n=dd(n)),!pu(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function xd(...n){const t=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let e=0;return n.forEach(r=>{if(!pu(r))throw new Error("Uint8Array expected");t.set(r,e),e+=r.length}),t}class Fa{clone(){return this._cloneInto()}}function Da(n){const t=r=>n().update(k0(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function pd(n=32){if(Fo&&typeof Fo.getRandomValues=="function")return Fo.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class gu extends Fa{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,ud(t);const r=k0(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Os(this),this.iHash.update(t),this}digestInto(t){Os(this),Ca(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Au=(n,t,e)=>new gu(n,t).update(e).digest();Au.create=(n,t)=>new gu(n,t);function gd(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(e>>s&i),a=Number(e&i),c=r?4:0,l=r?0:4;n.setUint32(t+c,o,r),n.setUint32(t+l,a,r)}class yu extends Fa{constructor(t,e,r,s){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Do(this.buffer)}update(t){Os(this);const{view:e,buffer:r,blockLen:s}=this;t=k0(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Do(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Os(this),xu(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)e[f]=0;gd(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Do(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%e&&t.buffer.set(r),t}}const Ad=(n,t,e)=>n&t^~n&e,yd=(n,t,e)=>n&t^n&e^t&e,md=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ur=new Uint32Array(64);class wd extends yu{constructor(){super(64,32,8,!1),this.A=lr[0]|0,this.B=lr[1]|0,this.C=lr[2]|0,this.D=lr[3]|0,this.E=lr[4]|0,this.F=lr[5]|0,this.G=lr[6]|0,this.H=lr[7]|0}get(){const{A:t,B:e,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,e,r,s,i,o,a,c]}set(t,e,r,s,i,o,a,c){this.A=t|0,this.B=e|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,e){for(let f=0;f<16;f++,e+=4)ur[f]=t.getUint32(e,!1);for(let f=16;f<64;f++){const h=ur[f-15],x=ur[f-2],g=Ce(h,7)^Ce(h,18)^h>>>3,p=Ce(x,17)^Ce(x,19)^x>>>10;ur[f]=p+ur[f-7]+g+ur[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=Ce(a,6)^Ce(a,11)^Ce(a,25),x=u+h+Ad(a,c,l)+md[f]+ur[f]|0,p=(Ce(r,2)^Ce(r,13)^Ce(r,22))+yd(r,s,i)|0;u=l,l=c,c=a,a=o+x|0,o=i,i=s,s=r,r=x+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){ur.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const mu=Da(()=>new wd),Qi=BigInt(2**32-1),Wo=BigInt(32);function wu(n,t=!1){return t?{h:Number(n&Qi),l:Number(n>>Wo&Qi)}:{h:Number(n>>Wo&Qi)|0,l:Number(n&Qi)|0}}function bu(n,t=!1){let e=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=wu(n[s],t);[e[s],r[s]]=[i,o]}return[e,r]}const bd=(n,t)=>BigInt(n>>>0)<<Wo|BigInt(t>>>0),Ed=(n,t,e)=>n>>>e,vd=(n,t,e)=>n<<32-e|t>>>e,Bd=(n,t,e)=>n>>>e|t<<32-e,Cd=(n,t,e)=>n<<32-e|t>>>e,Fd=(n,t,e)=>n<<64-e|t>>>e-32,Dd=(n,t,e)=>n>>>e-32|t<<64-e,Pd=(n,t)=>t,kd=(n,t)=>n,Eu=(n,t,e)=>n<<e|t>>>32-e,vu=(n,t,e)=>t<<e|n>>>32-e,Bu=(n,t,e)=>t<<e-32|n>>>64-e,Cu=(n,t,e)=>n<<e-32|t>>>64-e;function Nd(n,t,e,r){const s=(t>>>0)+(r>>>0);return{h:n+e+(s/2**32|0)|0,l:s|0}}const Id=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),Rd=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,Od=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),Sd=(n,t,e,r,s)=>t+e+r+s+(n/2**32|0)|0,Td=(n,t,e,r,s)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(s>>>0),Ld=(n,t,e,r,s,i)=>t+e+r+s+i+(n/2**32|0)|0,Ud={fromBig:wu,split:bu,toBig:bd,shrSH:Ed,shrSL:vd,rotrSH:Bd,rotrSL:Cd,rotrBH:Fd,rotrBL:Dd,rotr32H:Pd,rotr32L:kd,rotlSH:Eu,rotlSL:vu,rotlBH:Bu,rotlBL:Cu,add:Nd,add3L:Id,add3H:Rd,add4L:Od,add4H:Sd,add5H:Ld,add5L:Td},$=Ud,[_d,Hd]=(()=>$.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),fr=new Uint32Array(80),hr=new Uint32Array(80);class Md extends yu{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:x,Gl:g,Hh:p,Hl:A}=this;return[t,e,r,s,i,o,a,c,l,u,f,h,x,g,p,A]}set(t,e,r,s,i,o,a,c,l,u,f,h,x,g,p,A){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=x|0,this.Gl=g|0,this.Hh=p|0,this.Hl=A|0}process(t,e){for(let y=0;y<16;y++,e+=4)fr[y]=t.getUint32(e),hr[y]=t.getUint32(e+=4);for(let y=16;y<80;y++){const E=fr[y-15]|0,B=hr[y-15]|0,v=$.rotrSH(E,B,1)^$.rotrSH(E,B,8)^$.shrSH(E,B,7),F=$.rotrSL(E,B,1)^$.rotrSL(E,B,8)^$.shrSL(E,B,7),P=fr[y-2]|0,L=hr[y-2]|0,C=$.rotrSH(P,L,19)^$.rotrBH(P,L,61)^$.shrSH(P,L,6),k=$.rotrSL(P,L,19)^$.rotrBL(P,L,61)^$.shrSL(P,L,6),S=$.add4L(F,k,hr[y-7],hr[y-16]),T=$.add4H(S,v,C,fr[y-7],fr[y-16]);fr[y]=T|0,hr[y]=S|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:x,Fl:g,Gh:p,Gl:A,Hh:w,Hl:m}=this;for(let y=0;y<80;y++){const E=$.rotrSH(f,h,14)^$.rotrSH(f,h,18)^$.rotrBH(f,h,41),B=$.rotrSL(f,h,14)^$.rotrSL(f,h,18)^$.rotrBL(f,h,41),v=f&x^~f&p,F=h&g^~h&A,P=$.add5L(m,B,F,Hd[y],hr[y]),L=$.add5H(P,w,E,v,_d[y],fr[y]),C=P|0,k=$.rotrSH(r,s,28)^$.rotrBH(r,s,34)^$.rotrBH(r,s,39),S=$.rotrSL(r,s,28)^$.rotrBL(r,s,34)^$.rotrBL(r,s,39),T=r&i^r&a^i&a,V=s&o^s&c^o&c;w=p|0,m=A|0,p=x|0,A=g|0,x=f|0,g=h|0,{h:f,l:h}=$.add(l|0,u|0,L|0,C|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const R=$.add3L(C,S,V);r=$.add3H(R,L,k,T),s=R|0}({h:r,l:s}=$.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=$.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=$.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=$.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=$.add(this.Eh|0,this.El|0,f|0,h|0),{h:x,l:g}=$.add(this.Fh|0,this.Fl|0,x|0,g|0),{h:p,l:A}=$.add(this.Gh|0,this.Gl|0,p|0,A|0),{h:w,l:m}=$.add(this.Hh|0,this.Hl|0,w|0,m|0),this.set(r,s,i,o,a,c,l,u,f,h,x,g,p,A,w,m)}roundClean(){fr.fill(0),hr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Gd=Da(()=>new Md);function zd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const jc=zd();jc.crypto||jc.msCrypto;function Qd(n){switch(n){case"sha256":return mu.create();case"sha512":return Gd.create()}D(!1,"invalid hashing algorithm name","algorithm",n)}const[Fu,Du,Pu]=[[],[],[]],Vd=BigInt(0),qs=BigInt(1),Kd=BigInt(2),Jd=BigInt(7),Wd=BigInt(256),qd=BigInt(113);for(let n=0,t=qs,e=1,r=0;n<24;n++){[e,r]=[r,(2*e+3*r)%5],Fu.push(2*(5*r+e)),Du.push((n+1)*(n+2)/2%64);let s=Vd;for(let i=0;i<7;i++)t=(t<<qs^(t>>Jd)*qd)%Wd,t&Kd&&(s^=qs<<(qs<<BigInt(i))-qs);Pu.push(s)}const[Zd,jd]=bu(Pu,!0),Xc=(n,t,e)=>e>32?Bu(n,t,e):Eu(n,t,e),Yc=(n,t,e)=>e>32?Cu(n,t,e):vu(n,t,e);function Xd(n,t=24){const e=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)e[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=e[c],u=e[c+1],f=Xc(l,u,1)^e[a],h=Yc(l,u,1)^e[a+1];for(let x=0;x<50;x+=10)n[o+x]^=f,n[o+x+1]^=h}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=Du[o],c=Xc(s,i,a),l=Yc(s,i,a),u=Fu[o];s=n[u],i=n[u+1],n[u]=c,n[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)e[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~e[(a+2)%10]&e[(a+4)%10]}n[0]^=Zd[r],n[1]^=jd[r]}e.fill(0)}class Pa extends Fa{constructor(t,e,r,s=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,o0(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fd(this.state)}keccak(){Xd(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Os(this);const{blockLen:e,state:r}=this;t=k0(t);const s=t.length;for(let i=0;i<s;){const o=Math.min(e-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:s}=this;t[r]^=e,e&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Os(this,!1),Ca(t),this.finish();const e=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(e.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return o0(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(xu(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new Pa(e,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Yd=(n,t,e)=>Da(()=>new Pa(t,n,e)),$d=Yd(1,136,256/8);let ku=!1;const Nu=function(n){return $d(n)};let Iu=Nu;function bt(n){const t=et(n,"data");return Q(Iu(t))}bt._=Nu;bt.lock=function(){ku=!0};bt.register=function(n){if(ku)throw new TypeError("keccak256 is locked");Iu=n};Object.freeze(bt);const Ru=function(n){return Qd("sha256").update(n).digest()};let Ou=Ru,Su=!1;function Ms(n){const t=et(n,"data");return Q(Ou(t))}Ms._=Ru;Ms.lock=function(){Su=!0};Ms.register=function(n){if(Su)throw new Error("sha256 is locked");Ou=n};Object.freeze(Ms);Object.freeze(Ms);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tu=BigInt(0),N0=BigInt(1),tx=BigInt(2),I0=n=>n instanceof Uint8Array,ex=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function Ss(n){if(!I0(n))throw new Error("Uint8Array expected");let t="";for(let e=0;e<n.length;e++)t+=ex[n[e]];return t}function Lu(n){const t=n.toString(16);return t.length&1?`0${t}`:t}function ka(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function Ts(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const t=n.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const e=new Uint8Array(t/2);for(let r=0;r<e.length;r++){const s=r*2,i=n.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function An(n){return ka(Ss(n))}function Na(n){if(!I0(n))throw new Error("Uint8Array expected");return ka(Ss(Uint8Array.from(n).reverse()))}function Ls(n,t){return Ts(n.toString(16).padStart(t*2,"0"))}function Ia(n,t){return Ls(n,t).reverse()}function rx(n){return Ts(Lu(n))}function pe(n,t,e){let r;if(typeof t=="string")try{r=Ts(t)}catch(i){throw new Error(`${n} must be valid hex string, got "${t}". Cause: ${i}`)}else if(I0(t))r=Uint8Array.from(t);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof e=="number"&&s!==e)throw new Error(`${n} expected ${e} bytes, got ${s}`);return r}function si(...n){const t=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let e=0;return n.forEach(r=>{if(!I0(r))throw new Error("Uint8Array expected");t.set(r,e),e+=r.length}),t}function nx(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function sx(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function ix(n){let t;for(t=0;n>Tu;n>>=N0,t+=1);return t}function ox(n,t){return n>>BigInt(t)&N0}const ax=(n,t,e)=>n|(e?N0:Tu)<<BigInt(t),Ra=n=>(tx<<BigInt(n-1))-N0,Po=n=>new Uint8Array(n),$c=n=>Uint8Array.from(n);function Uu(n,t,e){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let r=Po(n),s=Po(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>e(s,r,...f),c=(f=Po())=>{s=a($c([0]),f),r=a(),f.length!==0&&(s=a($c([1]),f),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){r=a();const x=r.slice();h.push(x),f+=r.length}return si(...h)};return(f,h)=>{o(),c(f);let x;for(;!(x=h(l()));)c();return o(),x}}const cx={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,t)=>t.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Si(n,t,e={}){const r=(s,i,o)=>{const a=cx[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(e))r(s,i,!0);return n}const lx=Object.freeze(Object.defineProperty({__proto__:null,bitGet:ox,bitLen:ix,bitMask:Ra,bitSet:ax,bytesToHex:Ss,bytesToNumberBE:An,bytesToNumberLE:Na,concatBytes:si,createHmacDrbg:Uu,ensureBytes:pe,equalBytes:nx,hexToBytes:Ts,hexToNumber:ka,numberToBytesBE:Ls,numberToBytesLE:Ia,numberToHexUnpadded:Lu,numberToVarBytesBE:rx,utf8ToBytes:sx,validateObject:Si},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ct=BigInt(0),mt=BigInt(1),Gr=BigInt(2),ux=BigInt(3),qo=BigInt(4),tl=BigInt(5),el=BigInt(8);BigInt(9);BigInt(16);function Vt(n,t){const e=n%t;return e>=Ct?e:t+e}function fx(n,t,e){if(e<=Ct||t<Ct)throw new Error("Expected power/modulo > 0");if(e===mt)return Ct;let r=mt;for(;t>Ct;)t&mt&&(r=r*n%e),n=n*n%e,t>>=mt;return r}function ie(n,t,e){let r=n;for(;t-- >Ct;)r*=r,r%=e;return r}function Zo(n,t){if(n===Ct||t<=Ct)throw new Error(`invert: expected positive integers, got n=${n} mod=${t}`);let e=Vt(n,t),r=t,s=Ct,i=mt;for(;e!==Ct;){const a=r/e,c=r%e,l=s-i*a;r=e,e=c,s=i,i=l}if(r!==mt)throw new Error("invert: does not exist");return Vt(s,t)}function hx(n){const t=(n-mt)/Gr;let e,r,s;for(e=n-mt,r=0;e%Gr===Ct;e/=Gr,r++);for(s=Gr;s<n&&fx(s,t,n)!==n-mt;s++);if(r===1){const o=(n+mt)/qo;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(e+mt)/Gr;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,s),e),f=a.pow(c,i),h=a.pow(c,e);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let x=1;for(let p=a.sqr(h);x<l&&!a.eql(p,a.ONE);x++)p=a.sqr(p);const g=a.pow(u,mt<<BigInt(l-x-1));u=a.sqr(g),f=a.mul(f,g),h=a.mul(h,u),l=x}return f}}function dx(n){if(n%qo===ux){const t=(n+mt)/qo;return function(r,s){const i=r.pow(s,t);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%el===tl){const t=(n-tl)/el;return function(r,s){const i=r.mul(s,Gr),o=r.pow(i,t),a=r.mul(s,o),c=r.mul(r.mul(a,Gr),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),s))throw new Error("Cannot find square root");return l}}return hx(n)}const xx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function px(n){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=xx.reduce((r,s)=>(r[s]="function",r),t);return Si(n,e)}function gx(n,t,e){if(e<Ct)throw new Error("Expected power > 0");if(e===Ct)return n.ONE;if(e===mt)return t;let r=n.ONE,s=t;for(;e>Ct;)e&mt&&(r=n.mul(r,s)),s=n.sqr(s),e>>=mt;return r}function Ax(n,t){const e=new Array(t.length),r=t.reduce((i,o,a)=>n.is0(o)?i:(e[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return t.reduceRight((i,o,a)=>n.is0(o)?i:(e[a]=n.mul(i,e[a]),n.mul(i,o)),s),e}function _u(n,t){const e=t!==void 0?t:n.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function yx(n,t,e=!1,r={}){if(n<=Ct)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=_u(n,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=dx(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:Ra(s),ZERO:Ct,ONE:mt,create:c=>Vt(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ct<=c&&c<n},is0:c=>c===Ct,isOdd:c=>(c&mt)===mt,neg:c=>Vt(-c,n),eql:(c,l)=>c===l,sqr:c=>Vt(c*c,n),add:(c,l)=>Vt(c+l,n),sub:(c,l)=>Vt(c-l,n),mul:(c,l)=>Vt(c*l,n),pow:(c,l)=>gx(a,c,l),div:(c,l)=>Vt(c*Zo(l,n),n),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Zo(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>Ax(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>e?Ia(c,i):Ls(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return e?Na(c):An(c)}});return Object.freeze(a)}function Hu(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const t=n.toString(2).length;return Math.ceil(t/8)}function Mu(n){const t=Hu(n);return t+Math.ceil(t/2)}function mx(n,t,e=!1){const r=n.length,s=Hu(t),i=Mu(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=e?An(n):Na(n),a=Vt(o,t-mt)+mt;return e?Ia(a,s):Ls(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wx=BigInt(0),ko=BigInt(1);function bx(n,t){const e=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(t/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:e,unsafeLadder(s,i){let o=n.ZERO,a=s;for(;i>wx;)i&ko&&(o=o.add(a)),a=a.double(),i>>=ko;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let l=s,u=l;for(let f=0;f<o;f++){u=l,c.push(u);for(let h=1;h<a;h++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let l=n.ZERO,u=n.BASE;const f=BigInt(2**s-1),h=2**s,x=BigInt(s);for(let g=0;g<a;g++){const p=g*c;let A=Number(o&f);o>>=x,A>c&&(A-=h,o+=ko);const w=p,m=p+Math.abs(A)-1,y=g%2!==0,E=A<0;A===0?u=u.add(e(y,i[w])):l=l.add(e(E,i[m]))}return{p:l,f:u}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,a(l))),this.wNAF(c,l,o)}}}function Gu(n){return px(n.Fp),Si(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._u(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ex(n){const t=Gu(n);Si(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:r,a:s}=t;if(e){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:vx,hexToBytes:Bx}=lx,Kr={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(n){const{Err:t}=Kr;if(n.length<2||n[0]!==2)throw new t("Invalid signature integer tag");const e=n[1],r=n.subarray(2,e+2);if(!e||r.length!==e)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:vx(r),l:n.subarray(e+2)}},toSig(n){const{Err:t}=Kr,e=typeof n=="string"?Bx(n):n;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let r=e.length;if(r<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:i}=Kr._parseInt(e.subarray(2)),{d:o,l:a}=Kr._parseInt(i);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,e=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=t(e(n.s)),s=t(e(n.r)),i=r.length/2,o=s.length/2,a=e(i),c=e(o);return`30${e(o+i+4)}02${c}${s}02${a}${r}`}},$e=BigInt(0),he=BigInt(1);BigInt(2);const rl=BigInt(3);BigInt(4);function Cx(n){const t=Ex(n),{Fp:e}=t,r=t.toBytes||((g,p,A)=>{const w=p.toAffine();return si(Uint8Array.from([4]),e.toBytes(w.x),e.toBytes(w.y))}),s=t.fromBytes||(g=>{const p=g.subarray(1),A=e.fromBytes(p.subarray(0,e.BYTES)),w=e.fromBytes(p.subarray(e.BYTES,2*e.BYTES));return{x:A,y:w}});function i(g){const{a:p,b:A}=t,w=e.sqr(g),m=e.mul(w,g);return e.add(e.add(m,e.mul(g,p)),A)}if(!e.eql(e.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&$e<g&&g<t.n}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:p,nByteLength:A,wrapPrivateKey:w,n:m}=t;if(p&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=Ss(g)),typeof g!="string"||!p.includes(g.length))throw new Error("Invalid key");g=g.padStart(A*2,"0")}let y;try{y=typeof g=="bigint"?g:An(pe("private key",g,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof g}`)}return w&&(y=Vt(y,m)),a(y),y}const l=new Map;function u(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(p,A,w){if(this.px=p,this.py=A,this.pz=w,p==null||!e.isValid(p))throw new Error("x required");if(A==null||!e.isValid(A))throw new Error("y required");if(w==null||!e.isValid(w))throw new Error("z required")}static fromAffine(p){const{x:A,y:w}=p||{};if(!p||!e.isValid(A)||!e.isValid(w))throw new Error("invalid affine point");if(p instanceof f)throw new Error("projective point not allowed");const m=y=>e.eql(y,e.ZERO);return m(A)&&m(w)?f.ZERO:new f(A,w,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const A=e.invertBatch(p.map(w=>w.pz));return p.map((w,m)=>w.toAffine(A[m])).map(f.fromAffine)}static fromHex(p){const A=f.fromAffine(s(pe("pointHex",p)));return A.assertValidity(),A}static fromPrivateKey(p){return f.BASE.multiply(c(p))}_setWindowSize(p){this._WINDOW_SIZE=p,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:p,y:A}=this.toAffine();if(!e.isValid(p)||!e.isValid(A))throw new Error("bad point: x or y not FE");const w=e.sqr(A),m=i(p);if(!e.eql(w,m))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:p}=this.toAffine();if(e.isOdd)return!e.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);const{px:A,py:w,pz:m}=this,{px:y,py:E,pz:B}=p,v=e.eql(e.mul(A,B),e.mul(y,m)),F=e.eql(e.mul(w,B),e.mul(E,m));return v&&F}negate(){return new f(this.px,e.neg(this.py),this.pz)}double(){const{a:p,b:A}=t,w=e.mul(A,rl),{px:m,py:y,pz:E}=this;let B=e.ZERO,v=e.ZERO,F=e.ZERO,P=e.mul(m,m),L=e.mul(y,y),C=e.mul(E,E),k=e.mul(m,y);return k=e.add(k,k),F=e.mul(m,E),F=e.add(F,F),B=e.mul(p,F),v=e.mul(w,C),v=e.add(B,v),B=e.sub(L,v),v=e.add(L,v),v=e.mul(B,v),B=e.mul(k,B),F=e.mul(w,F),C=e.mul(p,C),k=e.sub(P,C),k=e.mul(p,k),k=e.add(k,F),F=e.add(P,P),P=e.add(F,P),P=e.add(P,C),P=e.mul(P,k),v=e.add(v,P),C=e.mul(y,E),C=e.add(C,C),P=e.mul(C,k),B=e.sub(B,P),F=e.mul(C,L),F=e.add(F,F),F=e.add(F,F),new f(B,v,F)}add(p){u(p);const{px:A,py:w,pz:m}=this,{px:y,py:E,pz:B}=p;let v=e.ZERO,F=e.ZERO,P=e.ZERO;const L=t.a,C=e.mul(t.b,rl);let k=e.mul(A,y),S=e.mul(w,E),T=e.mul(m,B),V=e.add(A,w),R=e.add(y,E);V=e.mul(V,R),R=e.add(k,S),V=e.sub(V,R),R=e.add(A,m);let G=e.add(y,B);return R=e.mul(R,G),G=e.add(k,T),R=e.sub(R,G),G=e.add(w,m),v=e.add(E,B),G=e.mul(G,v),v=e.add(S,T),G=e.sub(G,v),P=e.mul(L,R),v=e.mul(C,T),P=e.add(v,P),v=e.sub(S,P),P=e.add(S,P),F=e.mul(v,P),S=e.add(k,k),S=e.add(S,k),T=e.mul(L,T),R=e.mul(C,R),S=e.add(S,T),T=e.sub(k,T),T=e.mul(L,T),R=e.add(R,T),k=e.mul(S,R),F=e.add(F,k),k=e.mul(G,R),v=e.mul(V,v),v=e.sub(v,k),k=e.mul(V,S),P=e.mul(G,P),P=e.add(P,k),new f(v,F,P)}subtract(p){return this.add(p.negate())}is0(){return this.equals(f.ZERO)}wNAF(p){return x.wNAFCached(this,l,p,A=>{const w=e.invertBatch(A.map(m=>m.pz));return A.map((m,y)=>m.toAffine(w[y])).map(f.fromAffine)})}multiplyUnsafe(p){const A=f.ZERO;if(p===$e)return A;if(a(p),p===he)return this;const{endo:w}=t;if(!w)return x.unsafeLadder(this,p);let{k1neg:m,k1:y,k2neg:E,k2:B}=w.splitScalar(p),v=A,F=A,P=this;for(;y>$e||B>$e;)y&he&&(v=v.add(P)),B&he&&(F=F.add(P)),P=P.double(),y>>=he,B>>=he;return m&&(v=v.negate()),E&&(F=F.negate()),F=new f(e.mul(F.px,w.beta),F.py,F.pz),v.add(F)}multiply(p){a(p);let A=p,w,m;const{endo:y}=t;if(y){const{k1neg:E,k1:B,k2neg:v,k2:F}=y.splitScalar(A);let{p:P,f:L}=this.wNAF(B),{p:C,f:k}=this.wNAF(F);P=x.constTimeNegate(E,P),C=x.constTimeNegate(v,C),C=new f(e.mul(C.px,y.beta),C.py,C.pz),w=P.add(C),m=L.add(k)}else{const{p:E,f:B}=this.wNAF(A);w=E,m=B}return f.normalizeZ([w,m])[0]}multiplyAndAddUnsafe(p,A,w){const m=f.BASE,y=(B,v)=>v===$e||v===he||!B.equals(m)?B.multiplyUnsafe(v):B.multiply(v),E=y(this,A).add(y(p,w));return E.is0()?void 0:E}toAffine(p){const{px:A,py:w,pz:m}=this,y=this.is0();p==null&&(p=y?e.ONE:e.inv(m));const E=e.mul(A,p),B=e.mul(w,p),v=e.mul(m,p);if(y)return{x:e.ZERO,y:e.ZERO};if(!e.eql(v,e.ONE))throw new Error("invZ was invalid");return{x:E,y:B}}isTorsionFree(){const{h:p,isTorsionFree:A}=t;if(p===he)return!0;if(A)return A(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:A}=t;return p===he?this:A?A(f,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return this.assertValidity(),r(f,this,p)}toHex(p=!0){return Ss(this.toRawBytes(p))}}f.BASE=new f(t.Gx,t.Gy,e.ONE),f.ZERO=new f(e.ZERO,e.ONE,e.ZERO);const h=t.nBitLength,x=bx(f,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function Fx(n){const t=Gu(n);return Si(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Dx(n){const t=Fx(n),{Fp:e,n:r}=t,s=e.BYTES+1,i=2*e.BYTES+1;function o(R){return $e<R&&R<e.ORDER}function a(R){return Vt(R,r)}function c(R){return Zo(R,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:h}=Cx({...t,toBytes(R,G,W){const q=G.toAffine(),Z=e.toBytes(q.x),X=si;return W?X(Uint8Array.from([G.hasEvenY()?2:3]),Z):X(Uint8Array.from([4]),Z,e.toBytes(q.y))},fromBytes(R){const G=R.length,W=R[0],q=R.subarray(1);if(G===s&&(W===2||W===3)){const Z=An(q);if(!o(Z))throw new Error("Point is not on curve");const X=f(Z);let O=e.sqrt(X);const U=(O&he)===he;return(W&1)===1!==U&&(O=e.neg(O)),{x:Z,y:O}}else if(G===i&&W===4){const Z=e.fromBytes(q.subarray(0,e.BYTES)),X=e.fromBytes(q.subarray(e.BYTES,2*e.BYTES));return{x:Z,y:X}}else throw new Error(`Point of length ${G} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),x=R=>Ss(Ls(R,t.nByteLength));function g(R){const G=r>>he;return R>G}function p(R){return g(R)?a(-R):R}const A=(R,G,W)=>An(R.slice(G,W));class w{constructor(G,W,q){this.r=G,this.s=W,this.recovery=q,this.assertValidity()}static fromCompact(G){const W=t.nByteLength;return G=pe("compactSignature",G,W*2),new w(A(G,0,W),A(G,W,2*W))}static fromDER(G){const{r:W,s:q}=Kr.toSig(pe("DER",G));return new w(W,q)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(G){return new w(this.r,this.s,G)}recoverPublicKey(G){const{r:W,s:q,recovery:Z}=this,X=F(pe("msgHash",G));if(Z==null||![0,1,2,3].includes(Z))throw new Error("recovery id invalid");const O=Z===2||Z===3?W+t.n:W;if(O>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const U=Z&1?"03":"02",M=l.fromHex(U+x(O)),_=c(O),ct=a(-X*_),ot=a(q*_),dt=l.BASE.multiplyAndAddUnsafe(M,ct,ot);if(!dt)throw new Error("point at infinify");return dt.assertValidity(),dt}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ts(this.toDERHex())}toDERHex(){return Kr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ts(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const m={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=Mu(t.n);return mx(t.randomBytes(R),t.n)},precompute(R=8,G=l.BASE){return G._setWindowSize(R),G.multiply(BigInt(3)),G}};function y(R,G=!0){return l.fromPrivateKey(R).toRawBytes(G)}function E(R){const G=R instanceof Uint8Array,W=typeof R=="string",q=(G||W)&&R.length;return G?q===s||q===i:W?q===2*s||q===2*i:R instanceof l}function B(R,G,W=!0){if(E(R))throw new Error("first arg must be private key");if(!E(G))throw new Error("second arg must be public key");return l.fromHex(G).multiply(u(R)).toRawBytes(W)}const v=t.bits2int||function(R){const G=An(R),W=R.length*8-t.nBitLength;return W>0?G>>BigInt(W):G},F=t.bits2int_modN||function(R){return a(v(R))},P=Ra(t.nBitLength);function L(R){if(typeof R!="bigint")throw new Error("bigint expected");if(!($e<=R&&R<P))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ls(R,t.nByteLength)}function C(R,G,W=k){if(["recovered","canonical"].some(qt=>qt in W))throw new Error("sign() legacy options not supported");const{hash:q,randomBytes:Z}=t;let{lowS:X,prehash:O,extraEntropy:U}=W;X==null&&(X=!0),R=pe("msgHash",R),O&&(R=pe("prehashed msgHash",q(R)));const M=F(R),_=u(G),ct=[L(_),L(M)];if(U!=null){const qt=U===!0?Z(e.BYTES):U;ct.push(pe("extraEntropy",qt))}const ot=si(...ct),dt=M;function Y(qt){const Zt=v(qt);if(!h(Zt))return;const Dn=c(Zt),ne=l.BASE.multiply(Zt).toAffine(),xt=a(ne.x);if(xt===$e)return;const wt=a(Dn*a(dt+xt*_));if(wt===$e)return;let Ur=(ne.x===xt?0:2)|Number(ne.y&he),or=wt;return X&&g(wt)&&(or=p(wt),Ur^=1),new w(xt,or,Ur)}return{seed:ot,k2sig:Y}}const k={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};function T(R,G,W=k){const{seed:q,k2sig:Z}=C(R,G,W),X=t;return Uu(X.hash.outputLen,X.nByteLength,X.hmac)(q,Z)}l.BASE._setWindowSize(8);function V(R,G,W,q=S){var ne;const Z=R;if(G=pe("msgHash",G),W=pe("publicKey",W),"strict"in q)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:O}=q;let U,M;try{if(typeof Z=="string"||Z instanceof Uint8Array)try{U=w.fromDER(Z)}catch(xt){if(!(xt instanceof Kr.Err))throw xt;U=w.fromCompact(Z)}else if(typeof Z=="object"&&typeof Z.r=="bigint"&&typeof Z.s=="bigint"){const{r:xt,s:wt}=Z;U=new w(xt,wt)}else throw new Error("PARSE");M=l.fromHex(W)}catch(xt){if(xt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&U.hasHighS())return!1;O&&(G=t.hash(G));const{r:_,s:ct}=U,ot=F(G),dt=c(ct),Y=a(ot*dt),qt=a(_*dt),Zt=(ne=l.BASE.multiplyAndAddUnsafe(M,Y,qt))==null?void 0:ne.toAffine();return Zt?a(Zt.x)===_:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:B,sign:T,verify:V,ProjectivePoint:l,Signature:w,utils:m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Px(n){return{hash:n,hmac:(t,...e)=>Au(n,t,xd(...e)),randomBytes:pd}}function kx(n,t){const e=r=>Dx({...n,...Px(r)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nl=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Nx=BigInt(1),jo=BigInt(2),sl=(n,t)=>(n+t/jo)/t;function Ix(n){const t=zu,e=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=n*n*n%t,u=l*l*n%t,f=ie(u,e,t)*u%t,h=ie(f,e,t)*u%t,x=ie(h,jo,t)*l%t,g=ie(x,s,t)*x%t,p=ie(g,i,t)*g%t,A=ie(p,a,t)*p%t,w=ie(A,c,t)*A%t,m=ie(w,a,t)*p%t,y=ie(m,e,t)*u%t,E=ie(y,o,t)*g%t,B=ie(E,r,t)*l%t,v=ie(B,jo,t);if(!Xo.eql(Xo.sqr(v),n))throw new Error("Cannot find square root");return v}const Xo=yx(zu,void 0,void 0,{sqrt:Ix}),dr=kx({a:BigInt(0),b:BigInt(7),Fp:Xo,n:nl,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const t=nl,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Nx*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,o=BigInt("0x100000000000000000000000000000000"),a=sl(i*n,t),c=sl(-r*n,t);let l=Vt(n-a*e-c*s,t),u=Vt(-a*r-c*i,t);const f=l>o,h=u>o;if(f&&(l=t-l),h&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:f,k1:l,k2neg:h,k2:u}}}},mu);BigInt(0);dr.ProjectivePoint;const ii="0x0000000000000000000000000000000000000000",il="0x0000000000000000000000000000000000000000000000000000000000000000",ol=BigInt(0),al=BigInt(1),cl=BigInt(2),ll=BigInt(27),ul=BigInt(28),Vi=BigInt(35),Nn={};function fl(n){return nr(Et(n),32)}var Xn,Pe,Yn,nn;const xe=class xe{constructor(t,e,r,s){I(this,Xn,void 0);I(this,Pe,void 0);I(this,Yn,void 0);I(this,nn,void 0);F0(t,Nn,"Signature"),b(this,Xn,e),b(this,Pe,r),b(this,Yn,s),b(this,nn,null)}get r(){return d(this,Xn)}set r(t){D(Mn(t)===32,"invalid r","value",t),b(this,Xn,Q(t))}get s(){return D(parseInt(d(this,Pe).substring(0,3))<8,"non-canonical s; use ._s","s",d(this,Pe)),d(this,Pe)}set s(t){D(Mn(t)===32,"invalid s","value",t),b(this,Pe,Q(t))}get _s(){return d(this,Pe)}isValid(){return parseInt(d(this,Pe).substring(0,3))<8}get v(){return d(this,Yn)}set v(t){const e=rt(t,"value");D(e===27||e===28,"invalid v","v",t),b(this,Yn,e)}get networkV(){return d(this,nn)}get legacyChainId(){const t=this.networkV;return t==null?null:xe.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=et(this.s);return this.yParity&&(t[0]|=128),Q(t)}get compactSerialized(){return At([this.r,this.yParityAndS])}get serialized(){return At([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new xe(Nn,this.r,this._s,this.v);return this.networkV&&b(t,nn,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(t){const e=J(t,"v");return e==ll||e==ul?ol:(D(e>=Vi,"invalid EIP-155 v","v",t),(e-Vi)/cl)}static getChainIdV(t,e){return J(t)*cl+BigInt(35+e-27)}static getNormalizedV(t){const e=J(t);return e===ol||e===ll?27:e===al||e===ul?28:(D(e>=Vi,"invalid v","v",t),e&al?27:28)}static from(t){function e(l,u){D(l,u,"signature",t)}if(t==null)return new xe(Nn,il,il,27);if(typeof t=="string"){const l=et(t,"signature");if(l.length===64){const u=Q(l.slice(0,32)),f=l.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new xe(Nn,u,Q(f),h)}if(l.length===65){const u=Q(l.slice(0,32)),f=Q(l.slice(32,64)),h=xe.getNormalizedV(l[64]);return new xe(Nn,u,f,h)}e(!1,"invalid raw signature length")}if(t instanceof xe)return t.clone();const r=t.r;e(r!=null,"missing r");const s=fl(r),i=function(l,u){if(l!=null)return fl(l);if(u!=null){e(ft(u,32),"invalid yParityAndS");const f=et(u);return f[0]&=127,Q(f)}e(!1,"missing s")}(t.s,t.yParityAndS),{networkV:o,v:a}=function(l,u,f){if(l!=null){const h=J(l);return{networkV:h>=Vi?h:void 0,v:xe.getNormalizedV(h)}}if(u!=null)return e(ft(u,32),"invalid yParityAndS"),{v:et(u)[0]&128?28:27};if(f!=null){switch(rt(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),c=new xe(Nn,s,i,a);return o&&b(c,nn,o),e(t.yParity==null||rt(t.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Xn=new WeakMap,Pe=new WeakMap,Yn=new WeakMap,nn=new WeakMap;let Jt=xe;var Ke;const zr=class zr{constructor(t){I(this,Ke,void 0);D(Mn(t)===32,"invalid private key","privateKey","[REDACTED]"),b(this,Ke,Q(t))}get privateKey(){return d(this,Ke)}get publicKey(){return zr.computePublicKey(d(this,Ke))}get compressedPublicKey(){return zr.computePublicKey(d(this,Ke),!0)}sign(t){D(Mn(t)===32,"invalid digest length","digest",t);const e=dr.sign(_t(t),_t(d(this,Ke)),{lowS:!0});return Jt.from({r:Rr(e.r,32),s:Rr(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=zr.computePublicKey(t);return Q(dr.getSharedSecret(_t(d(this,Ke)),et(e),!1))}static computePublicKey(t,e){let r=et(t,"key");if(r.length===32){const i=dr.getPublicKey(r,!!e);return Q(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=dr.ProjectivePoint.fromHex(r);return Q(s.toRawBytes(e))}static recoverPublicKey(t,e){D(Mn(t)===32,"invalid digest length","digest",t);const r=Jt.from(e);let s=dr.Signature.fromCompact(_t(At([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(_t(t));return D(i!=null,"invalid signature for digest","signature",e),"0x"+i.toHex(!1)}static addPoints(t,e,r){const s=dr.ProjectivePoint.fromHex(zr.computePublicKey(t).substring(2)),i=dr.ProjectivePoint.fromHex(zr.computePublicKey(e).substring(2));return"0x"+s.add(i).toHex(!!r)}};Ke=new WeakMap;let oi=zr;const Rx=BigInt(0),Ox=BigInt(36);function hl(n){n=n.toLowerCase();const t=n.substring(2).split(""),e=new Uint8Array(40);for(let s=0;s<40;s++)e[s]=t[s].charCodeAt(0);const r=et(bt(e));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(r[s>>1]&15)>=8&&(t[s+1]=t[s+1].toUpperCase());return"0x"+t.join("")}const Oa={};for(let n=0;n<10;n++)Oa[String(n)]=String(n);for(let n=0;n<26;n++)Oa[String.fromCharCode(65+n)]=String(10+n);const dl=15;function Sx(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let t=n.split("").map(r=>Oa[r]).join("");for(;t.length>=dl;){let r=t.substring(0,dl);t=parseInt(r,10)%97+t.substring(r.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}const Tx=function(){const n={};for(let t=0;t<36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];n[e]=BigInt(t)}return n}();function Lx(n){n=n.toLowerCase();let t=Rx;for(let e=0;e<n.length;e++)t=t*Ox+Tx[n[e]];return t}function lt(n){if(D(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const t=hl(n);return D(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===n,"bad address checksum","address",n),t}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){D(n.substring(2,4)===Sx(n),"bad icap checksum","address",n);let t=Lx(n.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return hl("0x"+t)}D(!1,"invalid address","address",n)}function Ux(n){const t=lt(n.from);let r=J(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,lt(gt(bt(Sr([t,r])),12))}function Qu(n){return n&&typeof n.getAddress=="function"}async function No(n,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&&(H(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),D(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),lt(e)}function Mt(n,t){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?lt(n):(H(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),No(n,t.resolveName(n)));if(Qu(n))return No(n,n.getAddress());if(n&&typeof n.then=="function")return No(n,n);D(!1,"unsupported addressable value","target",n)}const He={};function K(n,t){let e=!1;return t<0&&(e=!0,t*=-1),new St(He,`${e?"":"u"}int${t}`,n,{signed:e,width:t})}function at(n,t){return new St(He,`bytes${t||""}`,n,{size:t})}const xl=Symbol.for("_ethers_typed");var sn;const Me=class Me{constructor(t,e,r,s){N(this,"type");N(this,"value");I(this,sn,void 0);N(this,"_typedSymbol");s==null&&(s=null),F0(He,t,"Typed"),j(this,{_typedSymbol:xl,type:e,value:r}),b(this,sn,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return d(this,sn)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return d(this,sn)===!0?-1:d(this,sn)===!1?this.value.length:null}static from(t,e){return new Me(He,t,e)}static uint8(t){return K(t,8)}static uint16(t){return K(t,16)}static uint24(t){return K(t,24)}static uint32(t){return K(t,32)}static uint40(t){return K(t,40)}static uint48(t){return K(t,48)}static uint56(t){return K(t,56)}static uint64(t){return K(t,64)}static uint72(t){return K(t,72)}static uint80(t){return K(t,80)}static uint88(t){return K(t,88)}static uint96(t){return K(t,96)}static uint104(t){return K(t,104)}static uint112(t){return K(t,112)}static uint120(t){return K(t,120)}static uint128(t){return K(t,128)}static uint136(t){return K(t,136)}static uint144(t){return K(t,144)}static uint152(t){return K(t,152)}static uint160(t){return K(t,160)}static uint168(t){return K(t,168)}static uint176(t){return K(t,176)}static uint184(t){return K(t,184)}static uint192(t){return K(t,192)}static uint200(t){return K(t,200)}static uint208(t){return K(t,208)}static uint216(t){return K(t,216)}static uint224(t){return K(t,224)}static uint232(t){return K(t,232)}static uint240(t){return K(t,240)}static uint248(t){return K(t,248)}static uint256(t){return K(t,256)}static uint(t){return K(t,256)}static int8(t){return K(t,-8)}static int16(t){return K(t,-16)}static int24(t){return K(t,-24)}static int32(t){return K(t,-32)}static int40(t){return K(t,-40)}static int48(t){return K(t,-48)}static int56(t){return K(t,-56)}static int64(t){return K(t,-64)}static int72(t){return K(t,-72)}static int80(t){return K(t,-80)}static int88(t){return K(t,-88)}static int96(t){return K(t,-96)}static int104(t){return K(t,-104)}static int112(t){return K(t,-112)}static int120(t){return K(t,-120)}static int128(t){return K(t,-128)}static int136(t){return K(t,-136)}static int144(t){return K(t,-144)}static int152(t){return K(t,-152)}static int160(t){return K(t,-160)}static int168(t){return K(t,-168)}static int176(t){return K(t,-176)}static int184(t){return K(t,-184)}static int192(t){return K(t,-192)}static int200(t){return K(t,-200)}static int208(t){return K(t,-208)}static int216(t){return K(t,-216)}static int224(t){return K(t,-224)}static int232(t){return K(t,-232)}static int240(t){return K(t,-240)}static int248(t){return K(t,-248)}static int256(t){return K(t,-256)}static int(t){return K(t,-256)}static bytes1(t){return at(t,1)}static bytes2(t){return at(t,2)}static bytes3(t){return at(t,3)}static bytes4(t){return at(t,4)}static bytes5(t){return at(t,5)}static bytes6(t){return at(t,6)}static bytes7(t){return at(t,7)}static bytes8(t){return at(t,8)}static bytes9(t){return at(t,9)}static bytes10(t){return at(t,10)}static bytes11(t){return at(t,11)}static bytes12(t){return at(t,12)}static bytes13(t){return at(t,13)}static bytes14(t){return at(t,14)}static bytes15(t){return at(t,15)}static bytes16(t){return at(t,16)}static bytes17(t){return at(t,17)}static bytes18(t){return at(t,18)}static bytes19(t){return at(t,19)}static bytes20(t){return at(t,20)}static bytes21(t){return at(t,21)}static bytes22(t){return at(t,22)}static bytes23(t){return at(t,23)}static bytes24(t){return at(t,24)}static bytes25(t){return at(t,25)}static bytes26(t){return at(t,26)}static bytes27(t){return at(t,27)}static bytes28(t){return at(t,28)}static bytes29(t){return at(t,29)}static bytes30(t){return at(t,30)}static bytes31(t){return at(t,31)}static bytes32(t){return at(t,32)}static address(t){return new Me(He,"address",t)}static bool(t){return new Me(He,"bool",!!t)}static bytes(t){return new Me(He,"bytes",t)}static string(t){return new Me(He,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Me(He,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===xl}static dereference(t,e){if(Me.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}};sn=new WeakMap;let St=Me;class _x extends ir{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=St.dereference(e,"string");try{r=lt(r)}catch(s){return this._throwError(s.message,e)}return t.writeValue(r)}decode(t){return lt(Rr(t.readValue(),20))}}class Hx extends ir{constructor(e){super(e.name,e.type,"_",e.dynamic);N(this,"coder");this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}function Vu(n,t,e){let r=[];if(Array.isArray(e))r=e;else if(e&&typeof e=="object"){let c={};r=t.map(l=>{const u=l.localName;return H(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),H(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:e}),c[u]=!0,e[u]})}else D(!1,"invalid tuple value","tuple",e);D(t.length===r.length,"types/value length mismatch","tuple",e);let s=new Vo,i=new Vo,o=[];t.forEach((c,l)=>{let u=r[l];if(c.dynamic){let f=i.length;c.encode(i,u);let h=s.writeUpdatableValue();o.push(x=>{h(x+f)})}else c.encode(s,u)}),o.forEach(c=>{c(s.length)});let a=n.appendWriter(s);return a+=n.appendWriter(i),a}function Ku(n,t){let e=[],r=[],s=n.subReader(0);return t.forEach(i=>{let o=null;if(i.dynamic){let a=n.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(l){if(kt(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(n)}catch(a){if(kt(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");e.push(o),r.push(i.localName||null)}),Rs.fromItems(e,r)}class Mx extends ir{constructor(e,r,s){const i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,s,o);N(this,"coder");N(this,"length");j(this,{coder:e,length:r})}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(e);return r}encode(e,r){const s=St.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,e.writeValue(s.length)),tu(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return Vu(e,o,s)}decode(e){let r=this.length;r===-1&&(r=e.readIndex(),H(r*Ht<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:r*Ht,length:e.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new Hx(this.coder));return Ku(e,s)}}class Gx extends ir{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const r=St.dereference(e,"bool");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class Ju extends ir{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=_t(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class zx extends Ju{constructor(t){super("bytes",t)}decode(t){return Q(super.decode(t))}}class Qx extends ir{constructor(e,r){let s="bytes"+String(e);super(s,s,r,!1);N(this,"size");j(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let s=_t(St.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(s)}decode(e){return Q(e.readBytes(this.size))}}const Vx=new Uint8Array([]);class Kx extends ir{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes(Vx)}decode(t){return t.readBytes(0),null}}const Jx=BigInt(0),Wx=BigInt(1),qx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Zx extends ir{constructor(e,r,s){const i=(r?"int":"uint")+e*8;super(i,i,s,!1);N(this,"size");N(this,"signed");j(this,{size:e,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,r){let s=J(St.dereference(r,this.type)),i=Zs(qx,Ht*8);if(this.signed){let o=Zs(i,this.size*8-1);(s>o||s<-(o+Wx))&&this._throwError("value out-of-bounds",r),s=nu(s,8*Ht)}else(s<Jx||s>Zs(i,this.size*8))&&this._throwError("value out-of-bounds",r);return e.writeValue(s)}decode(e){let r=Zs(e.readValue(),this.size*8);return this.signed&&(r=Kh(r,this.size*8)),r}}class jx extends Ju{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,er(St.dereference(e,"string")))}decode(t){return i0(super.decode(t))}}class Ki extends ir{constructor(e,r){let s=!1;const i=[];e.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);N(this,"coders");j(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(s=>{e.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){const s=St.dereference(r,"tuple");return Vu(e,this.coders,s)}decode(e){return Ku(e,this.coders)}}function Io(n,t){return{address:lt(n),storageKeys:t.map((e,r)=>(D(ft(e,32),"invalid slot",`storageKeys[${r}]`,e),e.toLowerCase()))}}function Cn(n){if(Array.isArray(n))return n.map((e,r)=>Array.isArray(e)?(D(e.length===2,"invalid slot set",`value[${r}]`,e),Io(e[0],e[1])):(D(e!=null&&typeof e=="object","invalid address-slot set","value",n),Io(e.address,e.storageKeys)));D(n!=null&&typeof n=="object","invalid access list","value",n);const t=Object.keys(n).map(e=>{const r=n[e].reduce((s,i)=>(s[i]=!0,s),{});return Io(e,Object.keys(r).sort())});return t.sort((e,r)=>e.address.localeCompare(r.address)),t}function Wu(n){return{address:lt(n.address),nonce:J(n.nonce!=null?n.nonce:0),chainId:J(n.chainId!=null?n.chainId:0),signature:Jt.from(n.signature)}}function Xx(n){let t;return typeof n=="string"?t=oi.computePublicKey(n,!1):t=n.publicKey,lt(bt("0x"+t.substring(4)).substring(26))}function Yx(n,t){return Xx(oi.recoverPublicKey(n,t))}const Bt=BigInt(0),$x=BigInt(2),tp=BigInt(27),ep=BigInt(28),rp=BigInt(35),np=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ro=4096*32;function sp(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return et(n.blobToKzgCommitment(Q(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return et(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return et(n.blobToKZGCommitment(Q(r)));D(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,s)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return et(n.computeBlobProof(Q(r),Q(s)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,s);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return et(n.computeBlobKZGProof(Q(r),Q(s)));D(!1,"unsupported KZG library","kzg",n)}}}function pl(n,t){let e=n.toString(16);for(;e.length<2;)e="0"+e;return e+=Ms(t).substring(4),"0x"+e}function Gs(n){return n==="0x"?null:lt(n)}function R0(n,t){try{return Cn(n)}catch(e){D(!1,e.message,t,n)}}function ip(n,t){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const e=[];for(let r=0;r<n.length;r++){const s=n[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);e.push({address:Gs(s[1]),nonce:ut(s[2],"nonce"),chainId:ut(s[0],"chainId"),signature:Jt.from({yParity:Fn(s[3],"yParity"),r:nr(s[4],32),s:nr(s[5],32)})})}return e}catch(e){D(!1,e.message,t,n)}}function Fn(n,t){return n==="0x"?0:rt(n,t)}function ut(n,t){if(n==="0x")return Bt;const e=J(n,t);return D(e<=np,"value exceeds uint size",t,e),e}function st(n,t){const e=J(n,"value"),r=Et(e);return D(r.length<=32,"value too large",`tx.${t}`,e),r}function O0(n){return Cn(n).map(t=>[t.address,t.storageKeys])}function op(n){return n.map(t=>[st(t.chainId,"chainId"),t.address,st(t.nonce,"nonce"),st(t.signature.yParity,"yParity"),Et(t.signature.r),Et(t.signature.s)])}function ap(n,t){D(Array.isArray(n),`invalid ${t}`,"value",n);for(let e=0;e<n.length;e++)D(ft(n[e],32),"invalid ${ param } hash",`value[${e}]`,n[e]);return n}function cp(n){const t=Oi(n);D(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",n);const e={type:0,nonce:Fn(t[0],"nonce"),gasPrice:ut(t[1],"gasPrice"),gasLimit:ut(t[2],"gasLimit"),to:Gs(t[3]),value:ut(t[4],"value"),data:Q(t[5]),chainId:Bt};if(t.length===6)return e;const r=ut(t[6],"v"),s=ut(t[7],"r"),i=ut(t[8],"s");if(s===Bt&&i===Bt)e.chainId=r;else{let o=(r-rp)/$x;o<Bt&&(o=Bt),e.chainId=o,D(o!==Bt||r===tp||r===ep,"non-canonical legacy v","v",t[6]),e.signature=Jt.from({r:nr(t[7],32),s:nr(t[8],32),v:r})}return e}function lp(n,t){const e=[st(n.nonce,"nonce"),st(n.gasPrice||0,"gasPrice"),st(n.gasLimit,"gasLimit"),n.to||"0x",st(n.value,"value"),n.data];let r=Bt;if(n.chainId!=Bt)r=J(n.chainId,"tx.chainId"),D(!t||t.networkV==null||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(n.signature){const i=n.signature.legacyChainId;i!=null&&(r=i)}if(!t)return r!==Bt&&(e.push(Et(r)),e.push("0x"),e.push("0x")),Sr(e);let s=BigInt(27+t.yParity);return r!==Bt?s=Jt.getChainIdV(r,t.v):BigInt(t.v)!==s&&D(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(Et(s)),e.push(Et(t.r)),e.push(Et(t.s)),Sr(e)}function S0(n,t){let e;try{if(e=Fn(t[0],"yParity"),e!==0&&e!==1)throw new Error("bad yParity")}catch{D(!1,"invalid yParity","yParity",t[0])}const r=nr(t[1],32),s=nr(t[2],32),i=Jt.from({r,s,yParity:e});n.signature=i}function up(n){const t=Oi(et(n).slice(1));D(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",Q(n));const e={type:2,chainId:ut(t[0],"chainId"),nonce:Fn(t[1],"nonce"),maxPriorityFeePerGas:ut(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ut(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ut(t[4],"gasLimit"),to:Gs(t[5]),value:ut(t[6],"value"),data:Q(t[7]),accessList:R0(t[8],"accessList")};return t.length===9||S0(e,t.slice(9)),e}function fp(n,t){const e=[st(n.chainId,"chainId"),st(n.nonce,"nonce"),st(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),st(n.maxFeePerGas||0,"maxFeePerGas"),st(n.gasLimit,"gasLimit"),n.to||"0x",st(n.value,"value"),n.data,O0(n.accessList||[])];return t&&(e.push(st(t.yParity,"yParity")),e.push(Et(t.r)),e.push(Et(t.s))),At(["0x02",Sr(e)])}function hp(n){const t=Oi(et(n).slice(1));D(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",Q(n));const e={type:1,chainId:ut(t[0],"chainId"),nonce:Fn(t[1],"nonce"),gasPrice:ut(t[2],"gasPrice"),gasLimit:ut(t[3],"gasLimit"),to:Gs(t[4]),value:ut(t[5],"value"),data:Q(t[6]),accessList:R0(t[7],"accessList")};return t.length===8||S0(e,t.slice(8)),e}function dp(n,t){const e=[st(n.chainId,"chainId"),st(n.nonce,"nonce"),st(n.gasPrice||0,"gasPrice"),st(n.gasLimit,"gasLimit"),n.to||"0x",st(n.value,"value"),n.data,O0(n.accessList||[])];return t&&(e.push(st(t.yParity,"recoveryParam")),e.push(Et(t.r)),e.push(Et(t.s))),At(["0x01",Sr(e)])}function xp(n){let t=Oi(et(n).slice(1)),e="3",r=null;if(t.length===4&&Array.isArray(t[0])){e="3 (network format)";const i=t[1],o=t[2],a=t[3];D(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),D(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),D(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),D(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",t),D(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let c=0;c<t[1].length;c++)r.push({data:i[c],commitment:o[c],proof:a[c]});t=t[0]}D(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${e}`,"data",Q(n));const s={type:3,chainId:ut(t[0],"chainId"),nonce:Fn(t[1],"nonce"),maxPriorityFeePerGas:ut(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ut(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ut(t[4],"gasLimit"),to:Gs(t[5]),value:ut(t[6],"value"),data:Q(t[7]),accessList:R0(t[8],"accessList"),maxFeePerBlobGas:ut(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(s.blobs=r),D(s.to!=null,`invalid address for transaction type: ${e}`,"data",n),D(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let i=0;i<s.blobVersionedHashes.length;i++)D(ft(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",n);return t.length===11||S0(s,t.slice(11)),s}function pp(n,t,e){const r=[st(n.chainId,"chainId"),st(n.nonce,"nonce"),st(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),st(n.maxFeePerGas||0,"maxFeePerGas"),st(n.gasLimit,"gasLimit"),n.to||ii,st(n.value,"value"),n.data,O0(n.accessList||[]),st(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),ap(n.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(st(t.yParity,"yParity")),r.push(Et(t.r)),r.push(Et(t.s)),e)?At(["0x03",Sr([r,e.map(s=>s.data),e.map(s=>s.commitment),e.map(s=>s.proof)])]):At(["0x03",Sr(r)])}function gp(n){const t=Oi(et(n).slice(1));D(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",Q(n));const e={type:4,chainId:ut(t[0],"chainId"),nonce:Fn(t[1],"nonce"),maxPriorityFeePerGas:ut(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ut(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ut(t[4],"gasLimit"),to:Gs(t[5]),value:ut(t[6],"value"),data:Q(t[7]),accessList:R0(t[8],"accessList"),authorizationList:ip(t[9],"authorizationList")};return t.length===10||S0(e,t.slice(10)),e}function Ap(n,t){const e=[st(n.chainId,"chainId"),st(n.nonce,"nonce"),st(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),st(n.maxFeePerGas||0,"maxFeePerGas"),st(n.gasLimit,"gasLimit"),n.to||"0x",st(n.value,"value"),n.data,O0(n.accessList||[]),op(n.authorizationList||[])];return t&&(e.push(st(t.yParity,"yParity")),e.push(Et(t.r)),e.push(Et(t.s))),At(["0x04",Sr(e)])}var ye,$n,ts,es,rs,ns,ss,is,os,as,cs,ls,on,Ar,ke,yr,us,fs,ji;const Fe=class Fe{constructor(){I(this,fs);I(this,ye,void 0);I(this,$n,void 0);I(this,ts,void 0);I(this,es,void 0);I(this,rs,void 0);I(this,ns,void 0);I(this,ss,void 0);I(this,is,void 0);I(this,os,void 0);I(this,as,void 0);I(this,cs,void 0);I(this,ls,void 0);I(this,on,void 0);I(this,Ar,void 0);I(this,ke,void 0);I(this,yr,void 0);I(this,us,void 0);b(this,ye,null),b(this,$n,null),b(this,es,0),b(this,rs,Bt),b(this,ns,null),b(this,ss,null),b(this,is,null),b(this,ts,"0x"),b(this,os,Bt),b(this,as,Bt),b(this,cs,null),b(this,ls,null),b(this,on,null),b(this,Ar,null),b(this,ke,null),b(this,yr,null),b(this,us,null)}get type(){return d(this,ye)}set type(t){switch(t){case null:b(this,ye,null);break;case 0:case"legacy":b(this,ye,0);break;case 1:case"berlin":case"eip-2930":b(this,ye,1);break;case 2:case"london":case"eip-1559":b(this,ye,2);break;case 3:case"cancun":case"eip-4844":b(this,ye,3);break;case 4:case"pectra":case"eip-7702":b(this,ye,4);break;default:D(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const t=d(this,$n);return t==null&&this.type===3?ii:t}set to(t){b(this,$n,t==null?null:lt(t))}get nonce(){return d(this,es)}set nonce(t){b(this,es,rt(t,"value"))}get gasLimit(){return d(this,rs)}set gasLimit(t){b(this,rs,J(t))}get gasPrice(){const t=d(this,ns);return t==null&&(this.type===0||this.type===1)?Bt:t}set gasPrice(t){b(this,ns,t==null?null:J(t,"gasPrice"))}get maxPriorityFeePerGas(){const t=d(this,ss);return t??(this.type===2||this.type===3?Bt:null)}set maxPriorityFeePerGas(t){b(this,ss,t==null?null:J(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){const t=d(this,is);return t??(this.type===2||this.type===3?Bt:null)}set maxFeePerGas(t){b(this,is,t==null?null:J(t,"maxFeePerGas"))}get data(){return d(this,ts)}set data(t){b(this,ts,Q(t))}get value(){return d(this,os)}set value(t){b(this,os,J(t,"value"))}get chainId(){return d(this,as)}set chainId(t){b(this,as,J(t))}get signature(){return d(this,cs)||null}set signature(t){b(this,cs,t==null?null:Jt.from(t))}get accessList(){const t=d(this,ls)||null;return t??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){b(this,ls,t==null?null:Cn(t))}get authorizationList(){const t=d(this,us)||null;return t==null&&this.type===4?[]:t}set authorizationList(t){b(this,us,t==null?null:t.map(e=>Wu(e)))}get maxFeePerBlobGas(){const t=d(this,on);return t==null&&this.type===3?Bt:t}set maxFeePerBlobGas(t){b(this,on,t==null?null:J(t,"maxFeePerBlobGas"))}get blobVersionedHashes(){let t=d(this,Ar);return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){D(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let e=0;e<t.length;e++)D(ft(t[e],32),"invalid blobVersionedHash",`value[${e}]`,t[e])}b(this,Ar,t)}get blobs(){return d(this,yr)==null?null:d(this,yr).map(t=>Object.assign({},t))}set blobs(t){if(t==null){b(this,yr,null);return}const e=[],r=[];for(let s=0;s<t.length;s++){const i=t[s];if(va(i)){H(d(this,ke),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=et(i);if(D(o.length<=Ro,"blob is too large",`blobs[${s}]`,i),o.length!==Ro){const l=new Uint8Array(Ro);l.set(o),o=l}const a=d(this,ke).blobToKzgCommitment(o),c=Q(d(this,ke).computeBlobKzgProof(o,a));e.push({data:Q(o),commitment:Q(a),proof:c}),r.push(pl(1,a))}else{const o=Q(i.commitment);e.push({data:Q(i.data),commitment:o,proof:Q(i.proof)}),r.push(pl(1,o))}}b(this,yr,e),b(this,Ar,r)}get kzg(){return d(this,ke)}set kzg(t){t==null?b(this,ke,null):b(this,ke,sp(t))}get hash(){return this.signature==null?null:bt(z(this,fs,ji).call(this,!0,!1))}get unsignedHash(){return bt(this.unsignedSerialized)}get from(){return this.signature==null?null:Yx(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:oi.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return z(this,fs,ji).call(this,!0,!0)}get unsignedSerialized(){return z(this,fs,ji).call(this,!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=d(this,on)!=null||d(this,Ar);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&H(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),H(!e||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),H(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):e?i.push(2):t?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Fe.from(this)}toJSON(){const t=e=>e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new Fe;if(typeof t=="string"){const r=et(t);if(r[0]>=127)return Fe.from(cp(r));switch(r[0]){case 1:return Fe.from(hp(r));case 2:return Fe.from(up(r));case 3:return Fe.from(xp(r));case 4:return Fe.from(gp(r))}H(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new Fe;return t.type!=null&&(e.type=t.type),t.to!=null&&(e.to=t.to),t.nonce!=null&&(e.nonce=t.nonce),t.gasLimit!=null&&(e.gasLimit=t.gasLimit),t.gasPrice!=null&&(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(e.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(e.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(e.data=t.data),t.value!=null&&(e.value=t.value),t.chainId!=null&&(e.chainId=t.chainId),t.signature!=null&&(e.signature=Jt.from(t.signature)),t.accessList!=null&&(e.accessList=t.accessList),t.authorizationList!=null&&(e.authorizationList=t.authorizationList),t.blobVersionedHashes!=null&&(e.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(e.kzg=t.kzg),t.blobs!=null&&(e.blobs=t.blobs),t.hash!=null&&(D(e.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),D(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(D(e.isSigned(),"unsigned transaction cannot define '.from'","tx",t),D(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}};ye=new WeakMap,$n=new WeakMap,ts=new WeakMap,es=new WeakMap,rs=new WeakMap,ns=new WeakMap,ss=new WeakMap,is=new WeakMap,os=new WeakMap,as=new WeakMap,cs=new WeakMap,ls=new WeakMap,on=new WeakMap,Ar=new WeakMap,ke=new WeakMap,yr=new WeakMap,us=new WeakMap,fs=new WeakSet,ji=function(t,e){H(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=t?this.signature:null;switch(this.inferType()){case 0:return lp(this,r);case 1:return dp(this,r);case 2:return fp(this,r);case 3:return pp(this,r,e?this.blobs:null);case 4:return Ap(this,r)}H(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let a0=Fe;function mn(n){return bt(er(n))}var yp="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const gl=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Al=4;function mp(n){let t=0;function e(){return n[t++]<<8|n[t++]}let r=e(),s=1,i=[0,1];for(let B=1;B<r;B++)i.push(s+=e());let o=e(),a=t;t+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|n[t++],c=8),l>>--c&1}const f=31,h=2**f,x=h>>>1,g=x>>1,p=h-1;let A=0;for(let B=0;B<f;B++)A=A<<1|u();let w=[],m=0,y=h;for(;;){let B=Math.floor(((A-m+1)*s-1)/y),v=0,F=r;for(;F-v>1;){let C=v+F>>>1;B<i[C]?F=C:v=C}if(v==0)break;w.push(v);let P=m+Math.floor(y*i[v]/s),L=m+Math.floor(y*i[v+1]/s)-1;for(;!((P^L)&x);)A=A<<1&p|u(),P=P<<1&p,L=L<<1&p|1;for(;P&~L&g;)A=A&x|A<<1&p>>>1|u(),P=P<<1^x,L=(L^x)<<1|x|1;m=P,y=1+L-P}let E=r-4;return w.map(B=>{switch(B-E){case 3:return E+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return E+256+(n[a++]<<8|n[a++]);case 1:return E+n[a++];default:return B-1}})}function wp(n){let t=0;return()=>n[t++]}function qu(n){return wp(mp(bp(n)))}function bp(n){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>t[s.charCodeAt(0)]=i);let e=n.length,r=new Uint8Array(6*e>>3);for(let s=0,i=0,o=0,a=0;s<e;s++)a=a<<6|t[n.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function Ep(n){return n&1?~n>>1:n>>1}function vp(n,t){let e=Array(n);for(let r=0,s=0;r<n;r++)e[r]=s+=Ep(t());return e}function ai(n,t=0){let e=[];for(;;){let r=n(),s=n();if(!s)break;t+=r;for(let i=0;i<s;i++)e.push(t+i);t+=s+1}return e}function Zu(n){return ci(()=>{let t=ai(n);if(t.length)return t})}function ju(n){let t=[];for(;;){let e=n();if(e==0)break;t.push(Bp(e,n))}for(;;){let e=n()-1;if(e<0)break;t.push(Cp(e,n))}return t.flat()}function ci(n){let t=[];for(;;){let e=n(t.length);if(!e)break;t.push(e)}return t}function Xu(n,t,e){let r=Array(n).fill().map(()=>[]);for(let s=0;s<t;s++)vp(n,e).forEach((i,o)=>r[o].push(i));return r}function Bp(n,t){let e=1+t(),r=t(),s=ci(t);return Xu(s.length,1+n,t).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((u,f)=>{let h=f*r;return[c+f*e,l.map(x=>x+h)]})})}function Cp(n,t){let e=1+t();return Xu(e,1+n,t).map(s=>[s[0],s.slice(1)])}function Fp(n){let t=[],e=ai(n);return s(r([]),[]),t;function r(i){let o=n(),a=ci(()=>{let c=ai(n).map(l=>e[l]);if(c.length)return r(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&t.push(a);for(let l of o)for(let u of l.Q)s(l,[...a,u],c)}}}function Dp(n){return n.toString(16).toUpperCase().padStart(2,"0")}function Yu(n){return`{${Dp(n)}}`}function Pp(n){let t=[];for(let e=0,r=n.length;e<r;){let s=n.codePointAt(e);e+=s<65536?1:2,t.push(s)}return t}function Us(n){let e=n.length;if(e<4096)return String.fromCodePoint(...n);let r=[];for(let s=0;s<e;)r.push(String.fromCodePoint(...n.slice(s,s+=4096)));return r.join("")}function kp(n,t){let e=n.length,r=e-t.length;for(let s=0;r==0&&s<e;s++)r=n[s]-t[s];return r}var Np="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const li=44032,c0=4352,l0=4449,u0=4519,$u=19,tf=21,_s=28,f0=tf*_s,Ip=$u*f0,Rp=li+Ip,Op=c0+$u,Sp=l0+tf,Tp=u0+_s;function Xs(n){return n>>24&255}function ef(n){return n&16777215}let Yo,yl,$o,Xi;function Lp(){let n=qu(Np);Yo=new Map(Zu(n).flatMap((t,e)=>t.map(r=>[r,e+1<<24]))),yl=new Set(ai(n)),$o=new Map,Xi=new Map;for(let[t,e]of ju(n)){if(!yl.has(t)&&e.length==2){let[r,s]=e,i=Xi.get(r);i||(i=new Map,Xi.set(r,i)),i.set(s,t)}$o.set(t,e.reverse())}}function rf(n){return n>=li&&n<Rp}function Up(n,t){if(n>=c0&&n<Op&&t>=l0&&t<Sp)return li+(n-c0)*f0+(t-l0)*_s;if(rf(n)&&t>u0&&t<Tp&&(n-li)%_s==0)return n+(t-u0);{let e=Xi.get(n);return e&&(e=e.get(t),e)?e:-1}}function nf(n){Yo||Lp();let t=[],e=[],r=!1;function s(i){let o=Yo.get(i);o&&(r=!0,i|=o),t.push(i)}for(let i of n)for(;;){if(i<128)t.push(i);else if(rf(i)){let o=i-li,a=o/f0|0,c=o%f0/_s|0,l=o%_s;s(c0+a),s(l0+c),l>0&&s(u0+l)}else{let o=$o.get(i);o?e.push(...o):s(i)}if(!e.length)break;i=e.pop()}if(r&&t.length>1){let i=Xs(t[0]);for(let o=1;o<t.length;o++){let a=Xs(t[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let l=t[c+1];if(t[c+1]=t[c],t[c]=l,!c||(i=Xs(t[--c]),i<=a))break}i=Xs(t[o])}}return t}function _p(n){let t=[],e=[],r=-1,s=0;for(let i of n){let o=Xs(i),a=ef(i);if(r==-1)o==0?r=a:t.push(a);else if(s>0&&s>=o)o==0?(t.push(r,...e),e.length=0,r=a):e.push(a),s=o;else{let c=Up(r,a);c>=0?r=c:s==0&&o==0?(t.push(r),r=a):(e.push(a),s=o)}}return r>=0&&t.push(r,...e),t}function sf(n){return nf(n).map(ef)}function Hp(n){return _p(nf(n))}const ml=45,of=".",af=65039,cf=1,h0=n=>Array.from(n);function ui(n,t){return n.P.has(t)||n.Q.has(t)}class Mp extends Array{get is_emoji(){return!0}}let ta,lf,Jr,ea,uf,Gn,Oo,Rn,Hr,wl,ra;function Sa(){if(ta)return;let n=qu(yp);const t=()=>ai(n),e=()=>new Set(t()),r=(u,f)=>f.forEach(h=>u.add(h));ta=new Map(ju(n)),lf=e(),Jr=t(),ea=new Set(t().map(u=>Jr[u])),Jr=new Set(Jr),uf=e(),e();let s=Zu(n),i=n();const o=()=>{let u=new Set;return t().forEach(f=>r(u,s[f])),r(u,t()),u};Gn=ci(u=>{let f=ci(n).map(h=>h+96);if(f.length){let h=u>=i;f[0]-=32,f=Us(f),h&&(f=`Restricted[${f}]`);let x=o(),g=o(),p=!n();return{N:f,P:x,Q:g,M:p,R:h}}}),Oo=e(),Rn=new Map;let a=t().concat(h0(Oo)).sort((u,f)=>u-f);a.forEach((u,f)=>{let h=n(),x=a[f]=h?a[f-h]:{V:[],M:new Map};x.V.push(u),Oo.has(u)||Rn.set(u,x)});for(let{V:u,M:f}of new Set(Rn.values())){let h=[];for(let g of u){let p=Gn.filter(w=>ui(w,g)),A=h.find(({G:w})=>p.some(m=>w.has(m)));A||(A={G:new Set,V:[]},h.push(A)),A.V.push(g),r(A.G,p)}let x=h.flatMap(g=>h0(g.G));for(let{G:g,V:p}of h){let A=new Set(x.filter(w=>!g.has(w)));for(let w of p)f.set(w,A)}}Hr=new Set;let c=new Set;const l=u=>Hr.has(u)?c.add(u):Hr.add(u);for(let u of Gn){for(let f of u.P)l(f);for(let f of u.Q)l(f)}for(let u of Hr)!Rn.has(u)&&!c.has(u)&&Rn.set(u,cf);r(Hr,sf(Hr)),wl=Fp(n).map(u=>Mp.from(u)).sort(kp),ra=new Map;for(let u of wl){let f=[ra];for(let h of u){let x=f.map(g=>{let p=g.get(h);return p||(p=new Map,g.set(h,p)),p});h===af?f.push(...x):f=x}for(let h of f)h.V=u}}function Ta(n){return(ff(n)?"":`${La(T0([n]))} `)+Yu(n)}function La(n){return`"${n}"â`}function Gp(n){if(n.length>=4&&n[2]==ml&&n[3]==ml)throw new Error(`invalid label extension: "${Us(n.slice(0,4))}"`)}function zp(n){for(let e=n.lastIndexOf(95);e>0;)if(n[--e]!==95)throw new Error("underscore allowed only at start")}function Qp(n){let t=n[0],e=gl.get(t);if(e)throw ei(`leading ${e}`);let r=n.length,s=-1;for(let i=1;i<r;i++){t=n[i];let o=gl.get(t);if(o){if(s==i)throw ei(`${e} + ${o}`);s=i+1,e=o}}if(s==r)throw ei(`trailing ${e}`)}function T0(n,t=1/0,e=Yu){let r=[];Vp(n[0])&&r.push("â"),n.length>t&&(t>>=1,n=[...n.slice(0,t),8230,...n.slice(-t)]);let s=0,i=n.length;for(let o=0;o<i;o++){let a=n[o];ff(a)&&(r.push(Us(n.slice(s,o))),r.push(e(a)),s=o+1)}return r.push(Us(n.slice(s,i))),r.join("")}function Vp(n){return Sa(),Jr.has(n)}function ff(n){return Sa(),uf.has(n)}function Kp(n){return Zp(Jp(n,Hp,Yp))}function Jp(n,t,e){if(!n)return[];Sa();let r=0;return n.split(of).map(s=>{let i=Pp(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=Xp(i,t,e),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(zp(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(h=>h<128))Gp(u),l="ASCII";else{let h=a.flatMap(x=>x.is_emoji?[]:x);if(!h.length)l="Emoji";else{if(Jr.has(u[0]))throw ei("leading combining mark");for(let p=1;p<c;p++){let A=a[p];if(!A.is_emoji&&Jr.has(A[0]))throw ei(`emoji + combining mark: "${Us(a[p-1])} + ${T0([A[0]])}"`)}Qp(u);let x=h0(new Set(h)),[g]=qp(x);jp(g,h),Wp(g,x),l=g.N}}o.type=l}catch(a){o.error=a}return o})}function Wp(n,t){let e,r=[];for(let s of t){let i=Rn.get(s);if(i===cf)return;if(i){let o=i.M.get(s);if(e=e?e.filter(a=>o.has(a)):h0(o),!e.length)return}else r.push(s)}if(e){for(let s of e)if(r.every(i=>ui(s,i)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function qp(n){let t=Gn;for(let e of n){let r=t.filter(s=>ui(s,e));if(!r.length)throw Gn.some(s=>ui(s,e))?df(t[0],e):hf(e);if(t=r,r.length==1)break}return t}function Zp(n){return n.map(({input:t,error:e,output:r})=>{if(e){let s=e.message;throw new Error(n.length==1?s:`Invalid label ${La(T0(t,63))}: ${s}`)}return Us(r)}).join(of)}function hf(n){return new Error(`disallowed character: ${Ta(n)}`)}function df(n,t){let e=Ta(t),r=Gn.find(s=>s.P.has(t));return r&&(e=`${r.N} ${e}`),new Error(`illegal mixture: ${n.N} + ${e}`)}function ei(n){return new Error(`illegal placement: ${n}`)}function jp(n,t){for(let e of t)if(!ui(n,e))throw df(n,e);if(n.M){let e=sf(t);for(let r=1,s=e.length;r<s;r++)if(ea.has(e[r])){let i=r+1;for(let o;i<s&&ea.has(o=e[i]);i++)for(let a=r;a<i;a++)if(e[a]==o)throw new Error(`duplicate non-spacing marks: ${Ta(o)}`);if(i-r>Al)throw new Error(`excessive non-spacing marks: ${La(T0(e.slice(r-1,i)))} (${i-r}/${Al})`);r=i}}}function Xp(n,t,e){let r=[],s=[];for(n=n.slice().reverse();n.length;){let i=$p(n);if(i)s.length&&(r.push(t(s)),s=[]),r.push(e(i));else{let o=n.pop();if(Hr.has(o))s.push(o);else{let a=ta.get(o);if(a)s.push(...a);else if(!lf.has(o))throw hf(o)}}}return s.length&&r.push(t(s)),r}function Yp(n){return n.filter(t=>t!=af)}function $p(n,t){let e=ra,r,s=n.length;for(;s&&(e=e.get(n[--s]),!!e);){let{V:i}=e;i&&(r=i,t&&t.push(...n.slice(s).reverse()),n.length=s)}return r}const xf=new Uint8Array(32);xf.fill(0);function bl(n){return D(n.length!==0,"invalid ENS name; empty component","comp",n),n}function pf(n){const t=er(t1(n)),e=[];if(n.length===0)return e;let r=0;for(let s=0;s<t.length;s++)t[s]===46&&(e.push(bl(t.slice(r,s))),r=s+1);return D(r<t.length,"invalid ENS name; empty component","name",n),e.push(bl(t.slice(r))),e}function t1(n){try{if(n.length===0)throw new Error("empty label");return Kp(n)}catch(t){D(!1,`invalid ENS name (${t.message})`,"name",n)}}function na(n){D(typeof n=="string","invalid ENS name; not a string","name",n),D(n.length,"invalid ENS name (empty label)","name",n);let t=xf;const e=pf(n);for(;e.length;)t=bt(At([t,bt(e.pop())]));return Q(t)}function e1(n,t){const e=t??63;return D(e<=255,"DNS encoded label cannot exceed 255","length",e),Q(At(pf(n).map(r=>{D(r.length<=e,`label ${JSON.stringify(n)} exceeds ${e} bytes`,"name",n);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}const gf=new Uint8Array(32);gf.fill(0);const r1=BigInt(-1),Af=BigInt(0),yf=BigInt(1),n1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function s1(n){const t=et(n),e=t.length%32;return e?At([t,gf.slice(e)]):Q(t)}const i1=Rr(yf,32),o1=Rr(Af,32),El={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},So=["name","version","chainId","verifyingContract","salt"];function vl(n){return function(t){return D(typeof t=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,t),t}}const a1={name:vl("name"),version:vl("version"),chainId:function(n){const t=J(n,"domain.chainId");return D(t>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(t)?Number(t):be(t)},verifyingContract:function(n){try{return lt(n).toLowerCase()}catch{}D(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const t=et(n,"domain.salt");return D(t.length===32,'invalid domain value "salt"',"domain.salt",n),Q(t)}};function To(n){{const t=n.match(/^(u?)int(\d+)$/);if(t){const e=t[1]==="",r=parseInt(t[2]);D(r%8===0&&r!==0&&r<=256&&t[2]===String(r),"invalid numeric width","type",n);const s=Zs(n1,e?r-1:r),i=e?(s+yf)*r1:Af;return function(o){const a=J(o,"value");return D(a>=i&&a<=s,`value out-of-bounds for ${n}`,"value",a),Rr(e?nu(a,256):a,32)}}}{const t=n.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return D(e!==0&&e<=32&&t[1]===String(e),"invalid bytes width","type",n),function(r){const s=et(r);return D(s.length===e,`invalid length for ${n}`,"value",r),s1(r)}}}switch(n){case"address":return function(t){return nr(lt(t),32)};case"bool":return function(t){return t?i1:o1};case"bytes":return function(t){return bt(t)};case"string":return function(t){return mn(t)}}return null}function Bl(n,t){return`${n}(${t.map(({name:e,type:r})=>r+" "+e).join(",")})`}function Ji(n){const t=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:n}}var mi,Je,hs,m0,mf;const oe=class oe{constructor(t){I(this,m0);N(this,"primaryType");I(this,mi,void 0);I(this,Je,void 0);I(this,hs,void 0);b(this,Je,new Map),b(this,hs,new Map);const e=new Map,r=new Map,s=new Map,i={};Object.keys(t).forEach(c=>{i[c]=t[c].map(({name:l,type:u})=>{let{base:f,index:h}=Ji(u);return f==="int"&&!t.int&&(f="int256"),f==="uint"&&!t.uint&&(f="uint256"),{name:l,type:f+(h||"")}}),e.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),b(this,mi,JSON.stringify(i));for(const c in i){const l=new Set;for(const u of i[c]){D(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",t),l.add(u.name);const f=Ji(u.type).base;D(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",t),!To(f)&&(D(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",t),r.get(f).push(c),e.get(c).add(f))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);D(o.length!==0,"missing primary type","types",t),D(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",t),j(this,{primaryType:o[0]});function a(c,l){D(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",t),l.add(c);for(const u of e.get(c))if(r.has(u)){a(u,l);for(const f of l)s.get(f).add(u)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of s){const u=Array.from(l);u.sort(),d(this,Je).set(c,Bl(c,i[c])+u.map(f=>Bl(f,i[f])).join(""))}}get types(){return JSON.parse(d(this,mi))}getEncoder(t){let e=d(this,hs).get(t);return e||(e=z(this,m0,mf).call(this,t),d(this,hs).set(t,e)),e}encodeType(t){const e=d(this,Je).get(t);return D(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return bt(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(To(t))return r(t,e);const s=Ji(t).array;if(s)return D(s.count===-1||s.count===e.length,`array length mismatch; expected length ${s.count}`,"value",e),e.map(o=>this._visit(s.prefix,o,r));const i=this.types[t];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,e[a],r),o),{});D(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new oe(t)}static getPrimaryType(t){return oe.from(t).primaryType}static hashStruct(t,e,r){return oe.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){if(t[r]==null)continue;const s=El[r];D(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:s})}return e.sort((r,s)=>So.indexOf(r.name)-So.indexOf(s.name)),oe.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return At(["0x1901",oe.hashDomain(t),oe.from(e).hash(r)])}static hash(t,e,r){return bt(oe.encode(t,e,r))}static async resolveNames(t,e,r,s){t=Object.assign({},t);for(const a in t)t[a]==null&&delete t[a];const i={};t.verifyingContract&&!ft(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=oe.from(e);o.visit(r,(a,c)=>(a==="address"&&!ft(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:t,value:r}}static getPayload(t,e,r){oe.hashDomain(t);const s={},i=[];So.forEach(c=>{const l=t[c];l!=null&&(s[c]=a1[c](l),i.push({name:c,type:El[c]}))});const o=oe.from(e);e=o.types;const a=Object.assign({},e);return D(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return Q(et(l));if(c.match(/^u?int/))return J(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return D(typeof l=="string","invalid string","value",l),l}D(!1,"unsupported type","type",c)})}}};mi=new WeakMap,Je=new WeakMap,hs=new WeakMap,m0=new WeakSet,mf=function(t){{const s=To(t);if(s)return s}const e=Ji(t).array;if(e){const s=e.prefix,i=this.getEncoder(s);return o=>{D(e.count===-1||e.count===o.length,`array length mismatch; expected length ${e.count}`,"value",o);let a=o.map(i);return d(this,Je).has(s)&&(a=a.map(bt)),bt(At(a))}}const r=this.types[t];if(r){const s=mn(d(this,Je).get(t));return i=>{const o=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(i[a]);return d(this,Je).has(c)?bt(l):l});return o.unshift(s),At(o)}}D(!1,`unknown type: ${t}`,"type",t)};let d0=oe;function Gt(n){const t=new Set;return n.forEach(e=>t.add(e)),Object.freeze(t)}const c1="external public payable override",l1=Gt(c1.split(" ")),wf="constant external internal payable private public pure view override",u1=Gt(wf.split(" ")),bf="constructor error event fallback function receive struct",Ef=Gt(bf.split(" ")),vf="calldata memory storage payable indexed",f1=Gt(vf.split(" ")),h1="tuple returns",d1=[bf,vf,h1,wf].join(" "),x1=Gt(d1.split(" ")),p1={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},g1=new RegExp("^(\\s*)"),A1=new RegExp("^([0-9]+)"),y1=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Bf=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Cf=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Dt,me,wi,sa;const w0=class w0{constructor(t){I(this,wi);I(this,Dt,void 0);I(this,me,void 0);b(this,Dt,0),b(this,me,t.slice())}get offset(){return d(this,Dt)}get length(){return d(this,me).length-d(this,Dt)}clone(){return new w0(d(this,me))}reset(){b(this,Dt,0)}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=z(this,wi,sa).call(this,d(this,Dt)+1,t.match+1);return b(this,Dt,t.match+1),e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;d(this,Dt)<t.match-1;){const r=this.peek().linkNext;e.push(z(this,wi,sa).call(this,d(this,Dt)+1,r)),b(this,Dt,r)}return b(this,Dt,t.match+1),e}peek(){if(d(this,Dt)>=d(this,me).length)throw new Error("out-of-bounds");return d(this,me)[d(this,Dt)]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&&t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return Js(this,Dt)._++,t}toString(){const t=[];for(let e=d(this,Dt);e<d(this,me).length;e++){const r=d(this,me)[e];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(" ")}>`}};Dt=new WeakMap,me=new WeakMap,wi=new WeakSet,sa=function(t=0,e=0){return new w0(d(this,me).slice(t,e).map(r=>Object.freeze(Object.assign({},r,{match:r.match-t,linkBack:r.linkBack-t,linkNext:r.linkNext-t}))))};let ve=w0;function Lr(n){const t=[],e=o=>{const a=i<n.length?JSON.stringify(n[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<n.length;){let o=n.substring(i),a=o.match(g1);a&&(i+=a[1].length,o=n.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(c);let l=p1[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")r.push(t.length-1),s.push(t.length-1);else if(l=="CLOSE_PAREN")r.length===0&&e("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1;else if(l==="COMMA")c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1,s.push(t.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const f=t.pop().text;u=f+u,t[t.length-1].value=rt(f)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=u}continue}if(a=o.match(y1),a){if(c.text=a[1],i+=c.text.length,x1.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Cf)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(A1),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new ve(t.map(o=>Object.freeze(o)))}function Cl(n,t){let e=[];for(const r in t.keys())n.has(r)&&e.push(r);if(e.length>1)throw new Error(`conflicting types: ${e.join(", ")}`)}function L0(n,t){if(t.peekKeyword(Ef)){const e=t.pop().text;if(e!==n)throw new Error(`expected ${n}, got ${e}`)}return t.popType("ID")}function sr(n,t){const e=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||t&&!t.has(r))break;if(n.pop(),e.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);e.add(r)}return Object.freeze(e)}function Ff(n){let t=sr(n,u1);return Cl(t,Gt("constant payable nonpayable".split(" "))),Cl(t,Gt("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function rr(n,t){return n.popParams().map(e=>Nt.from(e,t))}function Df(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return J(n.pop().text);throw new Error("invalid gas")}return null}function wn(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const m1=new RegExp(/^(.*)\[([0-9]*)\]$/);function Fl(n){const t=n.match(Cf);if(D(t,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(t[2]){const e=parseInt(t[2]);D(e!==0&&e<=32,"invalid bytes length","type",n)}else if(t[3]){const e=parseInt(t[3]);D(e!==0&&e<=256&&e%8===0,"invalid numeric width","type",n)}return n}const pt={},Wt=Symbol.for("_ethers_internal"),Dl="_ParamTypeInternal",Pl="_ErrorInternal",kl="_EventInternal",Nl="_ConstructorInternal",Il="_FallbackInternal",Rl="_FunctionInternal",Ol="_StructInternal";var ds,Yi;const ae=class ae{constructor(t,e,r,s,i,o,a,c){I(this,ds);N(this,"name");N(this,"type");N(this,"baseType");N(this,"indexed");N(this,"components");N(this,"arrayLength");N(this,"arrayChildren");if(F0(t,pt,"ParamType"),Object.defineProperty(this,Wt,{value:Dl}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");j(this,{name:e,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(t){if(t==null&&(t="sighash"),t==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(t)))),JSON.stringify(s)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map(r=>r.format(t)).join(t==="full"?", ":",")+")":e+=this.type,t!=="sighash"&&(this.indexed===!0&&(e+=" indexed"),t==="full"&&this.name&&(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map(s=>r.arrayChildren.walk(s,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map((s,i)=>r.components[i].walk(s,e))}return e(this.type,t)}async walkAsync(t,e){const r=[],s=[t];return z(this,ds,Yi).call(this,r,t,e,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(t,e){if(ae.isParamType(t))return t;if(typeof t=="string")try{return ae.from(Lr(t),e)}catch{D(!1,"invalid param type","obj",t)}else if(t instanceof ve){let a="",c="",l=null;sr(t,Gt(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(c="tuple",l=t.popParams().map(p=>ae.from(p)),a=`tuple(${l.map(p=>p.format()).join(",")})`):(a=Fl(t.popType("TYPE")),c=a);let u=null,f=null;for(;t.length&&t.peekType("BRACKET");){const p=t.pop();u=new ae(pt,"",a,c,null,l,f,u),f=p.value,a+=p.text,c="array",l=null}let h=null;if(sr(t,f1).has("indexed")){if(!e)throw new Error("");h=!0}const g=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new ae(pt,g,a,c,h,l,f,u)}const r=t.name;D(!r||typeof r=="string"&&r.match(Bf),"invalid name","obj.name",r);let s=t.indexed;s!=null&&(D(e,"parameter cannot be indexed","obj.indexed",t.indexed),s=!!s);let i=t.type,o=i.match(m1);if(o){const a=parseInt(o[2]||"-1"),c=ae.from({type:o[1],components:t.components});return new ae(pt,r||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=t.components!=null?t.components.map(l=>ae.from(l)):null;return new ae(pt,r||"",i,"tuple",s,a,null,null)}return i=Fl(t.type),new ae(pt,r||"",i,i,s,null,null,null)}static isParamType(t){return t&&t[Wt]===Dl}};ds=new WeakSet,Yi=function(t,e,r,s){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=e.slice();a.forEach((c,l)=>{var u;z(u=o,ds,Yi).call(u,t,c,r,f=>{a[l]=f})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(e))a=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in e))throw new Error(`missing value for component ${c.name}`);return e[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{var u;z(u=o[l],ds,Yi).call(u,t,c,r,f=>{a[l]=f})}),s(a);return}const i=r(this.type,e);i.then?t.push(async function(){s(await i)}()):s(i)};let Nt=ae;class bn{constructor(t,e,r){N(this,"type");N(this,"inputs");F0(t,pt,"Fragment"),r=Object.freeze(r.slice()),j(this,{type:e,inputs:r})}static from(t){if(typeof t=="string"){try{bn.from(JSON.parse(t))}catch{}return bn.from(Lr(t))}if(t instanceof ve)switch(t.peekKeyword(Ef)){case"constructor":return tr.from(t);case"error":return Kt.from(t);case"event":return Le.from(t);case"fallback":case"receive":return Ge.from(t);case"function":return Ue.from(t);case"struct":return yn.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return tr.from(t);case"error":return Kt.from(t);case"event":return Le.from(t);case"fallback":case"receive":return Ge.from(t);case"function":return Ue.from(t);case"struct":return yn.from(t)}H(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}D(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return tr.isFragment(t)}static isError(t){return Kt.isFragment(t)}static isEvent(t){return Le.isFragment(t)}static isFunction(t){return Ue.isFragment(t)}static isStruct(t){return yn.isFragment(t)}}class U0 extends bn{constructor(e,r,s,i){super(e,r,i);N(this,"name");D(typeof s=="string"&&s.match(Bf),"invalid identifier","name",s),i=Object.freeze(i.slice()),j(this,{name:s})}}function fi(n,t){return"("+t.map(e=>e.format(n)).join(n==="full"?", ":",")+")"}class Kt extends U0{constructor(t,e,r){super(t,"error",e,r),Object.defineProperty(this,Wt,{value:Pl})}get selector(){return mn(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(t)))});const e=[];return t!=="sighash"&&e.push("error"),e.push(this.name+fi(t,this.inputs)),e.join(" ")}static from(t){if(Kt.isFragment(t))return t;if(typeof t=="string")return Kt.from(Lr(t));if(t instanceof ve){const e=L0("error",t),r=rr(t);return wn(t),new Kt(pt,e,r)}return new Kt(pt,t.name,t.inputs?t.inputs.map(Nt.from):[])}static isFragment(t){return t&&t[Wt]===Pl}}class Le extends U0{constructor(e,r,s,i){super(e,"event",r,s);N(this,"anonymous");Object.defineProperty(this,Wt,{value:kl}),j(this,{anonymous:i})}get topicHash(){return mn(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});const r=[];return e!=="sighash"&&r.push("event"),r.push(this.name+fi(e,this.inputs)),e!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(e,r){return r=(r||[]).map(i=>Nt.from(i)),new Le(pt,e,r,!1).topicHash}static from(e){if(Le.isFragment(e))return e;if(typeof e=="string")try{return Le.from(Lr(e))}catch{D(!1,"invalid event fragment","obj",e)}else if(e instanceof ve){const r=L0("event",e),s=rr(e,!0),i=!!sr(e,Gt(["anonymous"])).has("anonymous");return wn(e),new Le(pt,r,s,i)}return new Le(pt,e.name,e.inputs?e.inputs.map(r=>Nt.from(r,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Wt]===kl}}class tr extends bn{constructor(e,r,s,i,o){super(e,r,s);N(this,"payable");N(this,"gas");Object.defineProperty(this,Wt,{value:Nl}),j(this,{payable:i,gas:o})}format(e){if(H(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});const r=[`constructor${fi(e,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(tr.isFragment(e))return e;if(typeof e=="string")try{return tr.from(Lr(e))}catch{D(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof ve){sr(e,Gt(["constructor"]));const r=rr(e),s=!!sr(e,l1).has("payable"),i=Df(e);return wn(e),new tr(pt,"constructor",r,s,i)}return new tr(pt,"constructor",e.inputs?e.inputs.map(Nt.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Wt]===Nl}}class Ge extends bn{constructor(e,r,s){super(e,"fallback",r);N(this,"payable");Object.defineProperty(this,Wt,{value:Il}),j(this,{payable:s})}format(e){const r=this.inputs.length===0?"receive":"fallback";if(e==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(e){if(Ge.isFragment(e))return e;if(typeof e=="string")try{return Ge.from(Lr(e))}catch{D(!1,"invalid fallback fragment","obj",e)}else if(e instanceof ve){const r=e.toString(),s=e.peekKeyword(Gt(["fallback","receive"]));if(D(s,"type must be fallback or receive","obj",r),e.popKeyword(Gt(["fallback","receive"]))==="receive"){const c=rr(e);return D(c.length===0,"receive cannot have arguments","obj.inputs",c),sr(e,Gt(["payable"])),wn(e),new Ge(pt,[],!0)}let o=rr(e);o.length?D(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[Nt.from("bytes")];const a=Ff(e);if(D(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),sr(e,Gt(["returns"])).has("returns")){const c=rr(e);D(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return wn(e),new Ge(pt,o,a==="payable")}if(e.type==="receive")return new Ge(pt,[],!0);if(e.type==="fallback"){const r=[Nt.from("bytes")],s=e.stateMutability==="payable";return new Ge(pt,r,s)}D(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Wt]===Il}}class Ue extends U0{constructor(e,r,s,i,o,a){super(e,"function",r,i);N(this,"constant");N(this,"outputs");N(this,"stateMutability");N(this,"payable");N(this,"gas");Object.defineProperty(this,Wt,{value:Rl}),o=Object.freeze(o.slice()),j(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return mn(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(e))),outputs:this.outputs.map(s=>JSON.parse(s.format(e)))});const r=[];return e!=="sighash"&&r.push("function"),r.push(this.name+fi(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(fi(e,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(e,r){return r=(r||[]).map(i=>Nt.from(i)),new Ue(pt,e,"view",r,[],null).selector}static from(e){if(Ue.isFragment(e))return e;if(typeof e=="string")try{return Ue.from(Lr(e))}catch{D(!1,"invalid function fragment","obj",e)}else if(e instanceof ve){const s=L0("function",e),i=rr(e),o=Ff(e);let a=[];sr(e,Gt(["returns"])).has("returns")&&(a=rr(e));const c=Df(e);return wn(e),new Ue(pt,s,o,i,a,c)}let r=e.stateMutability;return r==null&&(r="payable",typeof e.constant=="boolean"?(r="view",e.constant||(r="payable",typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable")),new Ue(pt,e.name,r,e.inputs?e.inputs.map(Nt.from):[],e.outputs?e.outputs.map(Nt.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Wt]===Rl}}class yn extends U0{constructor(t,e,r){super(t,"struct",e,r),Object.defineProperty(this,Wt,{value:Ol})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return yn.from(Lr(t))}catch{D(!1,"invalid struct fragment","obj",t)}else if(t instanceof ve){const e=L0("struct",t),r=rr(t);return wn(t),new yn(pt,e,r)}return new yn(pt,t.name,t.inputs?t.inputs.map(Nt.from):[])}static isFragment(t){return t&&t[Wt]===Ol}}const Be=new Map;Be.set(0,"GENERIC_PANIC");Be.set(1,"ASSERT_FALSE");Be.set(17,"OVERFLOW");Be.set(18,"DIVIDE_BY_ZERO");Be.set(33,"ENUM_RANGE_ERROR");Be.set(34,"BAD_STORAGE_DATA");Be.set(49,"STACK_UNDERFLOW");Be.set(50,"ARRAY_RANGE_ERROR");Be.set(65,"OUT_OF_MEMORY");Be.set(81,"UNINITIALIZED_FUNCTION_CALL");const w1=new RegExp(/^bytes([0-9]*)$/),b1=new RegExp(/^(u?int)([0-9]*)$/);let Lo=null,Sl=1024;function E1(n,t,e,r){let s="missing revert data",i=null;const o=null;let a=null;if(e){s="execution reverted";const l=et(e);if(e=Q(e),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Q(l.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Q(l.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Be.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:t.to?lt(t.to):null,data:t.data||"0x"};return t.from&&(c.from=lt(t.from)),ht(s,"CALL_EXCEPTION",{action:n,data:e,reason:i,transaction:c,invocation:o,revert:a})}var mr,On;const b0=class b0{constructor(){I(this,mr)}getDefaultValue(t){const e=t.map(s=>z(this,mr,On).call(this,Nt.from(s)));return new Ki(e,"_").defaultValue()}encode(t,e){tu(e.length,t.length,"types/values length mismatch");const r=t.map(o=>z(this,mr,On).call(this,Nt.from(o))),s=new Ki(r,"_"),i=new Vo;return s.encode(i,e),i.data}decode(t,e,r){const s=t.map(o=>z(this,mr,On).call(this,Nt.from(o)));return new Ki(s,"_").decode(new Ko(e,r,Sl))}static _setDefaultMaxInflation(t){D(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),Sl=t}static defaultAbiCoder(){return Lo==null&&(Lo=new b0),Lo}static getBuiltinCallException(t,e,r){return E1(t,e,r,b0.defaultAbiCoder())}};mr=new WeakSet,On=function(t){if(t.isArray())return new Mx(z(this,mr,On).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new Ki(t.components.map(r=>z(this,mr,On).call(this,r)),t.name);switch(t.baseType){case"address":return new _x(t.name);case"bool":return new Gx(t.name);case"string":return new jx(t.name);case"bytes":return new zx(t.name);case"":return new Kx(t.name)}let e=t.type.match(b1);if(e){let r=parseInt(e[2]||"256");return D(r!==0&&r<=256&&r%8===0,"invalid "+e[1]+" bit length","param",t),new Zx(r/8,e[1]==="int",t.name)}if(e=t.type.match(w1),e){let r=parseInt(e[1]);return D(r!==0&&r<=32,"invalid bytes length","param",t),new Qx(r,t.name)}D(!1,"invalid type","type",t.type)};let hi=b0;class v1{constructor(t,e,r){N(this,"fragment");N(this,"name");N(this,"signature");N(this,"topic");N(this,"args");const s=t.name,i=t.format();j(this,{fragment:t,name:s,signature:i,topic:e,args:r})}}class B1{constructor(t,e,r,s){N(this,"fragment");N(this,"name");N(this,"args");N(this,"signature");N(this,"selector");N(this,"value");const i=t.name,o=t.format();j(this,{fragment:t,name:i,args:r,signature:o,selector:e,value:s})}}class C1{constructor(t,e,r){N(this,"fragment");N(this,"name");N(this,"args");N(this,"signature");N(this,"selector");const s=t.name,i=t.format();j(this,{fragment:t,name:s,args:r,signature:i,selector:e})}}class Tl{constructor(t){N(this,"hash");N(this,"_isIndexed");j(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&&t._isIndexed)}}const Ll={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Ul={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let t="unknown panic code";return n>=0&&n<=255&&Ll[n.toString()]&&(t=Ll[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${t})`}}};var Ne,Ie,Re,It,xs,$i,ps,t0;const Qr=class Qr{constructor(t){I(this,xs);I(this,ps);N(this,"fragments");N(this,"deploy");N(this,"fallback");N(this,"receive");I(this,Ne,void 0);I(this,Ie,void 0);I(this,Re,void 0);I(this,It,void 0);let e=[];typeof t=="string"?e=JSON.parse(t):e=t,b(this,Re,new Map),b(this,Ne,new Map),b(this,Ie,new Map);const r=[];for(const o of e)try{r.push(bn.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}j(this,{fragments:Object.freeze(r)});let s=null,i=!1;b(this,It,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}j(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(D(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=d(this,Re);break;case"event":c=d(this,Ie);break;case"error":c=d(this,Ne);break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||j(this,{deploy:tr.from("constructor()")}),j(this,{fallback:s,receive:i})}format(t){const e=t?"minimal":"full";return this.fragments.map(s=>s.format(e))}formatJson(){const t=this.fragments.map(e=>e.format("json"));return JSON.stringify(t.map(e=>JSON.parse(e)))}getAbiCoder(){return hi.defaultAbiCoder()}getFunctionName(t){const e=z(this,xs,$i).call(this,t,null,!1);return D(e,"no matching function","key",t),e.name}hasFunction(t){return!!z(this,xs,$i).call(this,t,null,!1)}getFunction(t,e){return z(this,xs,$i).call(this,t,e||null,!0)}forEachFunction(t){const e=Array.from(d(this,Re).keys());e.sort((r,s)=>r.localeCompare(s));for(let r=0;r<e.length;r++){const s=e[r];t(d(this,Re).get(s),r)}}getEventName(t){const e=z(this,ps,t0).call(this,t,null,!1);return D(e,"no matching event","key",t),e.name}hasEvent(t){return!!z(this,ps,t0).call(this,t,null,!1)}getEvent(t,e){return z(this,ps,t0).call(this,t,e||null,!0)}forEachEvent(t){const e=Array.from(d(this,Ie).keys());e.sort((r,s)=>r.localeCompare(s));for(let r=0;r<e.length;r++){const s=e[r];t(d(this,Ie).get(s),r)}}getError(t,e){if(ft(t)){const s=t.toLowerCase();if(Ul[s])return Kt.from(Ul[s].signature);for(const i of d(this,Ne).values())if(s===i.selector)return i;return null}if(t.indexOf("(")===-1){const s=[];for(const[i,o]of d(this,Ne))i.split("(")[0]===t&&s.push(o);if(s.length===0)return t==="Error"?Kt.from("error Error(string)"):t==="Panic"?Kt.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");D(!1,`ambiguous error description (i.e. ${i})`,"name",t)}return s[0]}if(t=Kt.from(t).format(),t==="Error(string)")return Kt.from("error Error(string)");if(t==="Panic(uint256)")return Kt.from("error Panic(uint256)");const r=d(this,Ne).get(t);return r||null}forEachError(t){const e=Array.from(d(this,Ne).keys());e.sort((r,s)=>r.localeCompare(s));for(let r=0;r<e.length;r++){const s=e[r];t(d(this,Ne).get(s),r)}}_decodeParams(t,e){return d(this,It).decode(t,e)}_encodeParams(t,e){return d(this,It).encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const r=this.getError(t);D(r,"unknown error","fragment",t),t=r}return D(gt(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,gt(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const r=this.getError(t);D(r,"unknown error","fragment",t),t=r}return At([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const r=this.getFunction(t);D(r,"unknown function","fragment",t),t=r}return D(gt(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,gt(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const r=this.getFunction(t);D(r,"unknown function","fragment",t),t=r}return At([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const i=this.getFunction(t);D(i,"unknown function","fragment",t),t=i}let r="invalid length for result data";const s=_t(e);if(s.length%32===0)try{return d(this,It).decode(t.outputs,s)}catch{r="could not decode result data"}H(!1,r,"BAD_DATA",{value:Q(s),info:{method:t.name,signature:t.format()}})}makeError(t,e){const r=et(t,"data"),s=hi.getBuiltinCallException("call",e,r),i="execution reverted (unknown custom error)";if(s.message.startsWith(i)){const a=Q(r.slice(0,4)),c=this.getError(a);if(c)try{const l=d(this,It).decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(e);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(t,e){if(typeof t=="string"){const r=this.getFunction(t);D(r,"unknown function","fragment",t),t=r}return Q(d(this,It).encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const i=this.getEvent(t);D(i,"unknown event","eventFragment",t),t=i}H(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const s=(i,o)=>i.type==="string"?mn(o):i.type==="bytes"?bt(Q(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Rr(o):i.type.match(/^bytes/)?o=Vh(o,32):i.type==="address"&&d(this,It).encode(["address"],[o]),nr(Q(o),32));for(e.forEach((i,o)=>{const a=t.inputs[o];if(!a.indexed){D(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?D(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(c=>s(a,c))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(t,e){if(typeof t=="string"){const o=this.getEvent(t);D(o,"unknown event","eventFragment",t),t=o}const r=[],s=[],i=[];return t.anonymous||r.push(t.topicHash),D(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((o,a)=>{const c=e[a];if(o.indexed)if(o.type==="string")r.push(mn(c));else if(o.type==="bytes")r.push(bt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(d(this,It).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:d(this,It).encode(s,i),topics:r}}decodeEventLog(t,e,r){if(typeof t=="string"){const x=this.getEvent(t);D(x,"unknown event","eventFragment",t),t=x}if(r!=null&&!t.anonymous){const x=t.topicHash;D(ft(r[0],32)&&r[0].toLowerCase()===x,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];t.inputs.forEach((x,g)=>{x.indexed?x.type==="string"||x.type==="bytes"||x.baseType==="tuple"||x.baseType==="array"?(s.push(Nt.from({type:"bytes32",name:x.name})),o.push(!0)):(s.push(x),o.push(!1)):(i.push(x),o.push(!1))});const a=r!=null?d(this,It).decode(s,At(r)):null,c=d(this,It).decode(i,e,!0),l=[],u=[];let f=0,h=0;return t.inputs.forEach((x,g)=>{let p=null;if(x.indexed)if(a==null)p=new Tl(null);else if(o[g])p=new Tl(a[h++]);else try{p=a[h++]}catch(A){p=A}else try{p=c[f++]}catch(A){p=A}l.push(p),u.push(x.name||null)}),Rs.fromItems(l,u)}parseTransaction(t){const e=et(t.data,"tx.data"),r=J(t.value!=null?t.value:0,"tx.value"),s=this.getFunction(Q(e.slice(0,4)));if(!s)return null;const i=d(this,It).decode(s.inputs,e.slice(4));return new B1(s,s.selector,i,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new v1(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=Q(t),r=this.getError(gt(e,0,4));if(!r)return null;const s=d(this,It).decode(r.inputs,gt(e,4));return new C1(r,r.selector,s)}static from(t){return t instanceof Qr?t:typeof t=="string"?new Qr(JSON.parse(t)):typeof t.formatJson=="function"?new Qr(t.formatJson()):typeof t.format=="function"?new Qr(t.format("json")):new Qr(t)}};Ne=new WeakMap,Ie=new WeakMap,Re=new WeakMap,It=new WeakMap,xs=new WeakSet,$i=function(t,e,r){if(ft(t)){const i=t.toLowerCase();for(const o of d(this,Re).values())if(i===o.selector)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,Re))o.split("(")[0]===t&&i.push(a);if(e){const o=e.length>0?e[e.length-1]:null;let a=e.length,c=!0;St.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=i.length-1;l>=0;l--){const u=i[l].inputs.length;u!==a&&(!c||u!==a-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const u=i[l].inputs;for(let f=0;f<e.length;f++)if(St.isTyped(e[f])){if(f>=u.length){if(e[f].type==="overrides")continue;i.splice(l,1);break}if(e[f].type!==u[f].baseType){i.splice(l,1);break}}}}if(i.length===1&&e&&e.length!==i[0].inputs.length){const o=e[e.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");D(!1,`ambiguous function description (i.e. matches ${o})`,"key",t)}return i[0]}const s=d(this,Re).get(Ue.from(t).format());return s||null},ps=new WeakSet,t0=function(t,e,r){if(ft(t)){const i=t.toLowerCase();for(const o of d(this,Ie).values())if(i===o.topicHash)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,Ie))o.split("(")[0]===t&&i.push(a);if(e){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<e.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<e.length;c++)if(St.isTyped(e[c])&&e[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");D(!1,`ambiguous event description (i.e. matches ${o})`,"key",t)}return i[0]}const s=d(this,Ie).get(Le.from(t).format());return s||null};let ia=Qr;const Pf=BigInt(0);function zn(n){return n??null}function yt(n){return n==null?null:n.toString()}class _l{constructor(t,e,r){N(this,"gasPrice");N(this,"maxFeePerGas");N(this,"maxPriorityFeePerGas");j(this,{gasPrice:zn(t),maxFeePerGas:zn(e),maxPriorityFeePerGas:zn(r)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:yt(t),maxFeePerGas:yt(e),maxPriorityFeePerGas:yt(r)}}}function x0(n){const t={};n.to&&(t.to=n.to),n.from&&(t.from=n.from),n.data&&(t.data=Q(n.data));const e="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of e)!(s in n)||n[s]==null||(t[s]=J(n[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in n)||n[s]==null||(t[s]=rt(n[s],`request.${s}`));return n.accessList&&(t.accessList=Cn(n.accessList)),n.authorizationList&&(t.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(t.blockTag=n.blockTag),"enableCcipRead"in n&&(t.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(t.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(t.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(t.kzg=n.kzg),"blobs"in n&&n.blobs&&(t.blobs=n.blobs.map(s=>va(s)?Q(s):Object.assign({},s))),t}var We;class F1{constructor(t,e){N(this,"provider");N(this,"number");N(this,"hash");N(this,"timestamp");N(this,"parentHash");N(this,"parentBeaconBlockRoot");N(this,"nonce");N(this,"difficulty");N(this,"gasLimit");N(this,"gasUsed");N(this,"stateRoot");N(this,"receiptsRoot");N(this,"blobGasUsed");N(this,"excessBlobGas");N(this,"miner");N(this,"prevRandao");N(this,"extraData");N(this,"baseFeePerGas");I(this,We,void 0);b(this,We,t.transactions.map(r=>typeof r!="string"?new di(r,e):r)),j(this,{provider:e,hash:zn(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:zn(t.prevRandao),extraData:t.extraData,baseFeePerGas:zn(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return d(this,We).map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=d(this,We).slice();return t.length===0?[]:(H(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,parentBeaconBlockRoot:h,stateRoot:x,receiptsRoot:g,timestamp:p,transactions:A}=this;return{_type:"Block",baseFeePerGas:yt(t),difficulty:yt(e),extraData:r,gasLimit:yt(s),gasUsed:yt(i),blobGasUsed:yt(this.blobGasUsed),excessBlobGas:yt(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,timestamp:p,parentBeaconBlockRoot:h,stateRoot:x,receiptsRoot:g,transactions:A}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return d(this,We).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=d(this,We)[t];else{const r=t.toLowerCase();for(const s of d(this,We))if(typeof s=="string"){if(s!==r)continue;e=s;break}else{if(s.hash!==r)continue;e=s;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const r of e)if(r.hash===t)return r;D(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return D1(this)}}We=new WeakMap;class Ti{constructor(t,e){N(this,"provider");N(this,"transactionHash");N(this,"blockHash");N(this,"blockNumber");N(this,"removed");N(this,"address");N(this,"data");N(this,"topics");N(this,"index");N(this,"transactionIndex");this.provider=e;const r=Object.freeze(t.topics.slice());j(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:t,blockHash:e,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return H(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return H(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return H(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return P1(this)}}var bi;class kf{constructor(t,e){N(this,"provider");N(this,"to");N(this,"from");N(this,"contractAddress");N(this,"hash");N(this,"index");N(this,"blockHash");N(this,"blockNumber");N(this,"logsBloom");N(this,"gasUsed");N(this,"blobGasUsed");N(this,"cumulativeGasUsed");N(this,"gasPrice");N(this,"blobGasPrice");N(this,"type");N(this,"status");N(this,"root");I(this,bi,void 0);b(this,bi,Object.freeze(t.logs.map(s=>new Ti(s,e))));let r=Pf;t.effectiveGasPrice!=null?r=t.effectiveGasPrice:t.gasPrice!=null&&(r=t.gasPrice),j(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:r,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return d(this,bi)}toJSON(){const{to:t,from:e,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:yt(this.cumulativeGasUsed),from:e,gasPrice:yt(this.gasPrice),blobGasUsed:yt(this.blobGasUsed),blobGasPrice:yt(this.blobGasPrice),gasUsed:yt(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:f,status:u,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return If(this)}reorderedEvent(t){return H(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Nf(this,t)}}bi=new WeakMap;var wr;const Va=class Va{constructor(t,e){N(this,"provider");N(this,"blockNumber");N(this,"blockHash");N(this,"index");N(this,"hash");N(this,"type");N(this,"to");N(this,"from");N(this,"nonce");N(this,"gasLimit");N(this,"gasPrice");N(this,"maxPriorityFeePerGas");N(this,"maxFeePerGas");N(this,"maxFeePerBlobGas");N(this,"data");N(this,"value");N(this,"chainId");N(this,"signature");N(this,"accessList");N(this,"blobVersionedHashes");N(this,"authorizationList");I(this,wr,void 0);this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.authorizationList=t.authorizationList!=null?t.authorizationList:null,b(this,wr,-1)}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:s,type:i,to:o,from:a,nonce:c,data:l,signature:u,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:t,blockHash:e,blobVersionedHashes:h,chainId:yt(this.chainId),data:l,from:a,gasLimit:yt(this.gasLimit),gasPrice:yt(this.gasPrice),hash:s,maxFeePerGas:yt(this.maxFeePerGas),maxPriorityFeePerGas:yt(this.maxPriorityFeePerGas),maxFeePerBlobGas:yt(this.maxFeePerBlobGas),nonce:c,signature:u,to:o,index:r,type:i,value:yt(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const r=await this.getTransaction();r&&(t=r.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:r}=await Ut({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:r-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const r=t??1,s=e??0;let i=d(this,wr),o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:h,nonce:x}=await Ut({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(x<this.nonce){i=h;return}if(a)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(o===-1&&(o=i-3,o<d(this,wr)&&(o=d(this,wr)));o<=h;){if(a)return null;const p=await this.provider.getBlock(o,!0);if(p==null)return;for(const A of p)if(A===this.hash)return;for(let A=0;A<p.length;A++){const w=await p.getTransaction(A);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;const m=await this.provider.getTransactionReceipt(w.hash);if(m==null||h-m.blockNumber+1<r)return;let y="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?y="repriced":w.data==="0x"&&w.from===w.to&&w.value===Pf&&(y="cancelled"),H(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:y==="replaced"||y==="cancelled",reason:y,replacement:w.replaceableTransaction(i),hash:w.hash,receipt:m})}}o++}},l=h=>{if(h==null||h.status!==0)return h;H(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(u);if(u){if(r===1||await u.confirmations()>=r)return l(u)}else if(await c(),r===0)return null;return await new Promise((h,x)=>{const g=[],p=()=>{g.forEach(w=>w())};if(g.push(()=>{a=!0}),s>0){const w=setTimeout(()=>{p(),x(ht("wait for transaction timeout","TIMEOUT"))},s);g.push(()=>{clearTimeout(w)})}const A=async w=>{if(await w.confirmations()>=r){p();try{h(l(w))}catch(m){x(m)}}};if(g.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),i>=0){const w=async()=>{try{await c()}catch(m){if(kt(m,"TRANSACTION_REPLACED")){p(),x(m);return}}a||this.provider.once("block",w)};g.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return H(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),If(this)}reorderedEvent(t){return H(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),H(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Nf(this,t)}replaceableTransaction(t){D(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new Va(this,this.provider);return b(e,wr,t),e}};wr=new WeakMap;let di=Va;function D1(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function Nf(n,t){return{orphan:"reorder-transaction",tx:n,other:t}}function If(n){return{orphan:"drop-transaction",tx:n}}function P1(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class Ua extends Ti{constructor(e,r,s){super(e,e.provider);N(this,"interface");N(this,"fragment");N(this,"args");const i=r.decodeEventLog(s,e.data,e.topics);j(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Rf extends Ti{constructor(e,r){super(e,e.provider);N(this,"error");j(this,{error:r})}}var gs;class k1 extends kf{constructor(e,r,s){super(s,r);I(this,gs,void 0);b(this,gs,e)}get logs(){return super.logs.map(e=>{const r=e.topics.length?d(this,gs).getEvent(e.topics[0]):null;if(r)try{return new Ua(e,d(this,gs),r)}catch(s){return new Rf(e,s)}return e})}}gs=new WeakMap;var Ei;class _a extends di{constructor(e,r,s){super(s,r);I(this,Ei,void 0);b(this,Ei,e)}async wait(e,r){const s=await super.wait(e,r);return s==null?null:new k1(d(this,Ei),this.provider,s)}}Ei=new WeakMap;class Of extends su{constructor(e,r,s,i){super(e,r,s);N(this,"log");j(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class N1 extends Of{constructor(t,e,r,s,i){super(t,e,r,new Ua(i,t.interface,s));const o=t.interface.decodeEventLog(s,this.log.data,this.log.topics);j(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Hl=BigInt(0);function Sf(n){return n&&typeof n.call=="function"}function Tf(n){return n&&typeof n.estimateGas=="function"}function _0(n){return n&&typeof n.resolveName=="function"}function Lf(n){return n&&typeof n.sendTransaction=="function"}function Uf(n){if(n!=null){if(_0(n))return n;if(n.provider)return n.provider}}var vi;class I1{constructor(t,e,r){I(this,vi,void 0);N(this,"fragment");if(j(this,{fragment:e}),e.inputs.length<r.length)throw new Error("too many arguments");const s=En(t.runner,"resolveName"),i=_0(s)?s:null;b(this,vi,async function(){const o=await Promise.all(e.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(h=>Mt(h,i))):Mt(f,i):f)));return t.interface.encodeFilterTopics(e,o)}())}getTopicFilter(){return d(this,vi)}}vi=new WeakMap;function En(n,t){return n==null?null:typeof n[t]=="function"?n:n.provider&&typeof n.provider[t]=="function"?n.provider:null}function Wr(n){return n==null?null:n.provider||null}async function _f(n,t){const e=St.dereference(n,"overrides");D(typeof e=="object","invalid overrides parameter","overrides",n);const r=x0(e);return D(r.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),D(r.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function R1(n,t,e){const r=En(n,"resolveName"),s=_0(r)?r:null;return await Promise.all(t.map((i,o)=>i.walkAsync(e[o],(a,c)=>(c=St.dereference(c,a),a==="address"?Mt(c,s):c))))}function O1(n){const t=async function(o){const a=await _f(o,["data"]);a.to=await n.getAddress(),a.from&&(a.from=await Mt(a.from,Uf(n.runner)));const c=n.interface,l=J(a.value||Hl,"overrides.value")===Hl,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&D(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),D(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=c.receive||c.fallback&&c.fallback.payable;return D(f||l,"cannot send value to non-payable fallback","overrides.value",a.value),D(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},e=async function(o){const a=En(n.runner,"call");H(Sf(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await t(o);try{return await a.call(c)}catch(l){throw Ea(l)&&l.data?n.interface.makeError(l.data,c):l}},r=async function(o){const a=n.runner;H(Lf(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await t(o)),l=Wr(n.runner);return new _a(n.interface,l,c)},s=async function(o){const a=En(n.runner,"estimateGas");return H(Tf(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await t(o))},i=async o=>await r(o);return j(i,{_contract:n,estimateGas:s,populateTransaction:t,send:r,staticCall:e}),i}function S1(n,t){const e=function(...l){const u=n.interface.getFunction(t,l);return H(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:l}}),u},r=async function(...l){const u=e(...l);let f={};if(u.inputs.length+1===l.length&&(f=await _f(l.pop()),f.from&&(f.from=await Mt(f.from,Uf(n.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await R1(n.runner,u.inputs,l);return Object.assign({},f,await Ut({to:n.getAddress(),data:n.interface.encodeFunctionData(u,h)}))},s=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},i=async function(...l){const u=n.runner;H(Lf(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await r(...l)),h=Wr(n.runner);return new _a(n.interface,h,f)},o=async function(...l){const u=En(n.runner,"estimateGas");return H(Tf(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...l))},a=async function(...l){const u=En(n.runner,"call");H(Sf(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...l);let h="0x";try{h=await u.call(f)}catch(g){throw Ea(g)&&g.data?n.interface.makeError(g.data,f):g}const x=e(...l);return n.interface.decodeFunctionResult(x,h)},c=async(...l)=>e(...l).constant?await s(...l):await i(...l);return j(c,{name:n.interface.getFunctionName(t),_contract:n,_key:t,getFragment:e,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=n.interface.getFunction(t);return H(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),l}}),c}function T1(n,t){const e=function(...s){const i=n.interface.getEvent(t,s);return H(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:s}}),i},r=function(...s){return new I1(n,e(...s),s)};return j(r,{name:n.interface.getEventName(t),_contract:n,_key:t,getFragment:e}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=n.interface.getEvent(t);return H(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),s}}),r}const p0=Symbol.for("_ethersInternal_contract"),Hf=new WeakMap;function L1(n,t){Hf.set(n[p0],t)}function Yt(n){return Hf.get(n[p0])}function U1(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function Ha(n,t){let e,r=null;if(Array.isArray(t)){const i=function(o){if(ft(o,32))return o;const a=n.interface.getEvent(o);return D(a,"unknown fragment","name",o),a.topicHash};e=t.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else t==="*"?e=[null]:typeof t=="string"?ft(t,32)?e=[t]:(r=n.interface.getEvent(t),D(r,"unknown fragment","event",t),e=[r.topicHash]):U1(t)?e=await t.getTopicFilter():"fragment"in t?(r=t.fragment,e=[r.topicHash]):D(!1,"unknown event name","event",t);e=e.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=e.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:e}}async function Ys(n,t){const{subs:e}=Yt(n);return e.get((await Ha(n,t)).tag)||null}async function Ml(n,t,e){const r=Wr(n.runner);H(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:i,topics:o}=await Ha(n,e),{addr:a,subs:c}=Yt(n);let l=c.get(i);if(!l){const f={address:a||n,topics:o},h=A=>{let w=s;if(w==null)try{w=n.interface.getEvent(A.topics[0])}catch{}if(w){const m=w,y=s?n.interface.decodeEventLog(s,A.data,A.topics):[];aa(n,e,y,E=>new N1(n,E,e,m,A))}else aa(n,e,[],m=>new Of(n,m,e,A))};let x=[];l={tag:i,listeners:[],start:()=>{x.length||x.push(r.on(f,h))},stop:async()=>{if(x.length==0)return;let A=x;x=[],await Promise.all(A),r.off(f,h)}},c.set(i,l)}return l}let oa=Promise.resolve();async function _1(n,t,e,r){await oa;const s=await Ys(n,t);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=Array.from(e);r&&c.push(r(a?null:o));try{o.call(n,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Yt(n).subs.delete(s.tag)),i>0}async function aa(n,t,e,r){try{await oa}catch{}const s=_1(n,t,e,r);return oa=s,await s}const Wi=["then"];var Eg;const ni=class ni{constructor(t,e,r,s){N(this,"target");N(this,"interface");N(this,"runner");N(this,"filters");N(this,Eg);N(this,"fallback");D(typeof t=="string"||Qu(t),"invalid value for Contract target","target",t),r==null&&(r=null);const i=ia.from(e);j(this,{target:t,runner:r,interface:i}),Object.defineProperty(this,p0,{value:{}});let o,a=null,c=null;if(s){const f=Wr(r);c=new _a(this.interface,f,s)}let l=new Map;if(typeof t=="string")if(ft(t))a=t,o=Promise.resolve(t);else{const f=En(r,"resolveName");if(!_0(f))throw ht("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(t).then(h=>{if(h==null)throw ht("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return Yt(this).addr=h,h})}else o=t.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Yt(this).addr=f,f});L1(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(f,h,x)=>{if(typeof h=="symbol"||Wi.indexOf(h)>=0)return Reflect.get(f,h,x);try{return this.getEvent(h)}catch(g){if(!kt(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>Wi.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return j(this,{filters:u}),j(this,{fallback:i.receive||i.fallback?O1(this):null}),new Proxy(this,{get:(f,h,x)=>{if(typeof h=="symbol"||h in f||Wi.indexOf(h)>=0)return Reflect.get(f,h,x);try{return f.getFunction(h)}catch(g){if(!kt(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>typeof h=="symbol"||h in f||Wi.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(t){return new ni(this.target,this.interface,t)}attach(t){return new ni(t,this.interface,this.runner)}async getAddress(){return await Yt(this).addrPromise}async getDeployedCode(){const t=Wr(this.runner);H(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Wr(this.runner);return H(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Yt(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),S1(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),T1(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,r){e==null&&(e=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=Yt(this),o=s||await i,{fragment:a,topics:c}=await Ha(this,t),l={address:o,topics:c,fromBlock:e,toBlock:r},u=Wr(this.runner);return H(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=>{let h=a;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new Ua(f,this.interface,h)}catch(x){return new Rf(f,x)}return new Ti(f,u)})}async on(t,e){const r=await Ml(this,"on",t);return r.listeners.push({listener:e,once:!1}),r.start(),this}async once(t,e){const r=await Ml(this,"once",t);return r.listeners.push({listener:e,once:!0}),r.start(),this}async emit(t,...e){return await aa(this,t,e,null)}async listenerCount(t){if(t){const s=await Ys(this,t);return s?s.listeners.length:0}const{subs:e}=Yt(this);let r=0;for(const{listeners:s}of e.values())r+=s.length;return r}async listeners(t){if(t){const s=await Ys(this,t);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:e}=Yt(this);let r=[];for(const{listeners:s}of e.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(t,e){const r=await Ys(this,t);if(!r)return this;if(e){const s=r.listeners.map(({listener:i})=>i).indexOf(e);s>=0&&r.listeners.splice(s,1)}return(e==null||r.listeners.length===0)&&(r.stop(),Yt(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const e=await Ys(this,t);if(!e)return this;e.stop(),Yt(this).subs.delete(e.tag)}else{const{subs:e}=Yt(this);for(const{tag:r,stop:s}of e.values())s(),e.delete(r)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends ni{constructor(s,i=null){super(s,t,i)}}return e}static from(t,e,r){return r==null&&(r=null),new this(t,e,r)}};Eg=p0;let ca=ni;function H1(){return ca}class ri extends H1(){}function Uo(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):D(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class M1{constructor(t){N(this,"name");j(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const Mf=new RegExp("^(ipfs)://(.*)$","i"),Gl=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Mf,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var br,an,Er,Sn,E0,Gf;const _n=class _n{constructor(t,e,r){I(this,Er);N(this,"provider");N(this,"address");N(this,"name");I(this,br,void 0);I(this,an,void 0);j(this,{provider:t,address:e,name:r}),b(this,br,null),b(this,an,new ri(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return d(this,br)==null&&b(this,br,(async()=>{try{return await d(this,an).supportsInterface("0x9061b923")}catch(t){if(kt(t,"CALL_EXCEPTION"))return!1;throw b(this,br,null),t}})()),await d(this,br)}async getAddress(t){if(t==null&&(t=60),t===60)try{const i=await z(this,Er,Sn).call(this,"addr(bytes32)");return i==null||i===ii?null:i}catch(i){if(kt(i,"CALL_EXCEPTION"))return null;throw i}if(t>=0&&t<2147483648){let i=t+2147483648;const o=await z(this,Er,Sn).call(this,"addr(bytes32,uint)",[i]);if(ft(o,20))return lt(o)}let e=null;for(const i of this.provider.plugins)if(i instanceof M1&&i.supportsCoinType(t)){e=i;break}if(e==null)return null;const r=await z(this,Er,Sn).call(this,"addr(bytes32,uint)",[t]);if(r==null||r==="0x")return null;const s=await e.decodeAddress(t,r);if(s!=null)return s;H(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:r}})}async getText(t){const e=await z(this,Er,Sn).call(this,"text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await z(this,Er,Sn).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const s=e[1]==="e3010170"?"ipfs":"ipns",i=parseInt(e[4],16);if(e[5].length===i*2)return`${s}://${Wh("0x"+e[2])}`}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;H(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let r=0;r<Gl.length;r++){const s=e.match(Gl[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const o=Uo(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:o}),{linkage:t,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:i,value:e});const a=await this.getAddress();if(a==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const c=(s[2]||"").split("/");if(c.length!==2)return t.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:t};const l=c[1],u=new ri(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const p=await u.ownerOf(l);if(a!==p)return t.push({type:"!owner",value:p}),{url:null,linkage:t};t.push({type:"owner",value:p})}else if(i==="erc1155"){const p=await u.balanceOf(a,l);if(!p)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:p.toString()})}let f=await u[o](l);if(f==null||f==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",Rr(l,32).substring(2)),t.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=Uo(f)),t.push({type:"metadata-url",value:f});let h={};const x=await new Or(f).send();x.assertOk();try{h=x.bodyJson}catch{try{t.push({type:"!metadata",value:x.bodyText})}catch{const w=x.body;return w&&t.push({type:"!metadata",value:Q(w)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let g=h.image;if(typeof g!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(Mf)==null)return t.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:g}),g=Uo(g)}return t.push({type:"url",value:g}),{linkage:t,url:g}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),r=e.getPlugin("org.ethers.plugins.network.Ens");return H(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),r.address}static async fromName(t,e){var s;let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const i=await z(s=_n,E0,Gf).call(s,t,r);if(i!=null){const o=new _n(t,i,e);return r!==e&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};br=new WeakMap,an=new WeakMap,Er=new WeakSet,Sn=async function(t,e){e=(e||[]).slice();const r=d(this,an).interface;e.unshift(na(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(t),H(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[e1(this.name,255),r.encodeFunctionData(s,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const i=await d(this,an)[t](...e);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!kt(i,"CALL_EXCEPTION"))throw i}return null},E0=new WeakSet,Gf=async function(t,e){const r=await _n.getEnsAddress(t);try{const i=await new ri(r,["function resolver(bytes32) view returns (address)"],t).resolver(na(e),{enableCcipRead:!0});return i===ii?null:i}catch(s){throw s}return null},I(_n,E0);let g0=_n;const zl=BigInt(0);function nt(n,t){return function(e){return e==null?t:n(e)}}function xi(n,t){return e=>{if(t&&e==null)return null;if(!Array.isArray(e))throw new Error("not an array");return e.map(r=>n(r))}}function Li(n,t){return e=>{const r={};for(const s in n){let i=s;if(t&&s in t&&!(i in e)){for(const o of t[s])if(o in e){i=o;break}}try{const o=n[s](e[i]);o!==void 0&&(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";H(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:e})}}return r}}function G1(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}D(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Hs(n){return D(ft(n,!0),"invalid data","value",n),n}function Pt(n){return D(ft(n,32),"invalid hash","value",n),n}const z1=Li({address:lt,blockHash:Pt,blockNumber:rt,data:Hs,index:rt,removed:nt(G1,!1),topics:xi(Pt),transactionHash:Pt,transactionIndex:rt},{index:["logIndex"]});function Q1(n){return z1(n)}const V1=Li({hash:nt(Pt),parentHash:Pt,parentBeaconBlockRoot:nt(Pt,null),number:rt,timestamp:rt,nonce:nt(Hs),difficulty:J,gasLimit:J,gasUsed:J,stateRoot:nt(Pt,null),receiptsRoot:nt(Pt,null),blobGasUsed:nt(J,null),excessBlobGas:nt(J,null),miner:nt(lt),prevRandao:nt(Pt,null),extraData:Hs,baseFeePerGas:nt(J)},{prevRandao:["mixHash"]});function K1(n){const t=V1(n);return t.transactions=n.transactions.map(e=>typeof e=="string"?e:zf(e)),t}const J1=Li({transactionIndex:rt,blockNumber:rt,transactionHash:Pt,address:lt,topics:xi(Pt),data:Hs,index:rt,blockHash:Pt},{index:["logIndex"]});function W1(n){return J1(n)}const q1=Li({to:nt(lt,null),from:nt(lt,null),contractAddress:nt(lt,null),index:rt,root:nt(Q),gasUsed:J,blobGasUsed:nt(J,null),logsBloom:nt(Hs),blockHash:Pt,hash:Pt,logs:xi(W1),blockNumber:rt,cumulativeGasUsed:J,effectiveGasPrice:nt(J),blobGasPrice:nt(J,null),status:nt(rt),type:nt(rt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Z1(n){return q1(n)}function zf(n){n.to&&J(n.to)===zl&&(n.to="0x0000000000000000000000000000000000000000");const t=Li({hash:Pt,index:nt(rt,void 0),type:e=>e==="0x"||e==null?0:rt(e),accessList:nt(Cn,null),blobVersionedHashes:nt(xi(Pt,!0),null),authorizationList:nt(xi(e=>{let r;if(e.signature)r=e.signature;else{let s=e.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},e,{yParity:s})}return{address:lt(e.address),chainId:J(e.chainId),nonce:J(e.nonce),signature:Jt.from(r)}},!1),null),blockHash:nt(Pt,null),blockNumber:nt(rt,null),transactionIndex:nt(rt,null),from:lt,gasPrice:nt(J),maxPriorityFeePerGas:nt(J),maxFeePerGas:nt(J),maxFeePerBlobGas:nt(J,null),gasLimit:J,to:nt(lt,null),value:J,nonce:rt,data:Hs,creates:nt(lt,null),chainId:nt(J,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(t.to==null&&t.creates==null&&(t.creates=Ux(t)),(n.type===1||n.type===2)&&n.accessList==null&&(t.accessList=[]),n.signature?t.signature=Jt.from(n.signature):t.signature=Jt.from(n),t.chainId==null){const e=t.signature.legacyChainId;e!=null&&(t.chainId=e)}return t.blockHash&&J(t.blockHash)===zl&&(t.blockHash=null),t}const j1="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Ui{constructor(t){N(this,"name");j(this,{name:t})}clone(){return new Ui(this.name)}}class H0 extends Ui{constructor(e,r){e==null&&(e=0);super(`org.ethers.network.plugins.GasCost#${e||0}`);N(this,"effectiveBlock");N(this,"txBase");N(this,"txCreate");N(this,"txDataZero");N(this,"txDataNonzero");N(this,"txAccessListStorageKey");N(this,"txAccessListAddress");const s={effectiveBlock:e};function i(o,a){let c=(r||{})[o];c==null&&(c=a),D(typeof c=="number",`invalud value for ${o}`,"costs",r),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),j(this,s)}clone(){return new H0(this.effectiveBlock,this)}}class M0 extends Ui{constructor(e,r){super("org.ethers.plugins.network.Ens");N(this,"address");N(this,"targetNetwork");j(this,{address:e||j1,targetNetwork:r??1})}clone(){return new M0(this.address,this.targetNetwork)}}var Bi,Ci;class X1 extends Ui{constructor(e,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");I(this,Bi,void 0);I(this,Ci,void 0);b(this,Bi,e),b(this,Ci,r)}get url(){return d(this,Bi)}get processFunc(){return d(this,Ci)}clone(){return this}}Bi=new WeakMap,Ci=new WeakMap;const _o=new Map;var As,ys,vr;const Hn=class Hn{constructor(t,e){I(this,As,void 0);I(this,ys,void 0);I(this,vr,void 0);b(this,As,t),b(this,ys,J(e)),b(this,vr,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return d(this,As)}set name(t){b(this,As,t)}get chainId(){return d(this,ys)}set chainId(t){b(this,ys,J(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===J(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===J(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===J(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(d(this,vr).values())}attachPlugin(t){if(d(this,vr).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,vr).set(t.name,t.clone()),this}getPlugin(t){return d(this,vr).get(t)||null}getPlugins(t){return this.plugins.filter(e=>e.name.split("#")[0]===t)}clone(){const t=new Hn(this.name,this.chainId);return this.plugins.forEach(e=>{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new H0;let r=e.txBase;if(t.to==null&&(r+=e.txCreate),t.data)for(let s=2;s<t.data.length;s+=2)t.data.substring(s,s+2)==="00"?r+=e.txDataZero:r+=e.txDataNonzero;if(t.accessList){const s=Cn(t.accessList);for(const i in s)r+=e.txAccessListAddress+e.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(t){if(Y1(),t==null)return Hn.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=_o.get(t);if(e)return e();if(typeof t=="bigint")return new Hn("unknown",t);D(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){D(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new Hn(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&e.attachPlugin(new M0(t.ensAddress,t.ensNetwork)),e}D(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&&(t=BigInt(t));const r=_o.get(t);r&&D(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",t),_o.set(t,e)}};As=new WeakMap,ys=new WeakMap,vr=new WeakMap;let _e=Hn;function Ql(n,t){const e=String(n);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=e.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function Vl(n){return new X1(n,async(t,e,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),t()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Ql(a.maxFee,9),maxPriorityFeePerGas:Ql(a.maxPriorityFee,9)}}catch(i){H(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let Kl=!1;function Y1(){if(Kl)return;Kl=!0;function n(t,e,r){const s=function(){const i=new _e(t,e);return r.ensNetwork!=null&&i.attachPlugin(new M0(null,r.ensNetwork)),i.attachPlugin(new H0),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};_e.register(t,s),_e.register(e,s),r.altNames&&r.altNames.forEach(i=>{_e.register(i,s)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[Vl("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Vl("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function la(n){return JSON.parse(JSON.stringify(n))}var qe,ce,Br,Oe,ms,e0;class $1{constructor(t){I(this,ms);I(this,qe,void 0);I(this,ce,void 0);I(this,Br,void 0);I(this,Oe,void 0);b(this,qe,t),b(this,ce,null),b(this,Br,4e3),b(this,Oe,-2)}get pollingInterval(){return d(this,Br)}set pollingInterval(t){b(this,Br,t)}start(){d(this,ce)||(b(this,ce,d(this,qe)._setTimeout(z(this,ms,e0).bind(this),d(this,Br))),z(this,ms,e0).call(this))}stop(){d(this,ce)&&(d(this,qe)._clearTimeout(d(this,ce)),b(this,ce,null))}pause(t){this.stop(),t&&b(this,Oe,-2)}resume(){this.start()}}qe=new WeakMap,ce=new WeakMap,Br=new WeakMap,Oe=new WeakMap,ms=new WeakSet,e0=async function(){try{const t=await d(this,qe).getBlockNumber();if(d(this,Oe)===-2){b(this,Oe,t);return}if(t!==d(this,Oe)){for(let e=d(this,Oe)+1;e<=t;e++){if(d(this,ce)==null)return;await d(this,qe).emit("block",e)}b(this,Oe,t)}}catch{}d(this,ce)!=null&&b(this,ce,d(this,qe)._setTimeout(z(this,ms,e0).bind(this),d(this,Br)))};var cn,ln,Cr;class Ma{constructor(t){I(this,cn,void 0);I(this,ln,void 0);I(this,Cr,void 0);b(this,cn,t),b(this,Cr,!1),b(this,ln,e=>{this._poll(e,d(this,cn))})}async _poll(t,e){throw new Error("sub-classes must override this")}start(){d(this,Cr)||(b(this,Cr,!0),d(this,ln).call(this,-2),d(this,cn).on("block",d(this,ln)))}stop(){d(this,Cr)&&(b(this,Cr,!1),d(this,cn).off("block",d(this,ln)))}pause(t){this.stop()}resume(){this.start()}}cn=new WeakMap,ln=new WeakMap,Cr=new WeakMap;var ws,Ze;class tg extends Ma{constructor(e,r){super(e);I(this,ws,void 0);I(this,Ze,void 0);b(this,ws,r),b(this,Ze,-2)}pause(e){e&&b(this,Ze,-2),super.pause(e)}async _poll(e,r){const s=await r.getBlock(d(this,ws));s!=null&&(d(this,Ze)===-2?b(this,Ze,s.number):s.number>d(this,Ze)&&(r.emit(d(this,ws),s.number),b(this,Ze,s.number)))}}ws=new WeakMap,Ze=new WeakMap;var v0;class eg extends Ma{constructor(e,r){super(e);I(this,v0,void 0);b(this,v0,la(r))}async _poll(e,r){throw new Error("@TODO")}}v0=new WeakMap;var bs;class rg extends Ma{constructor(e,r){super(e);I(this,bs,void 0);b(this,bs,r)}async _poll(e,r){const s=await r.getTransactionReceipt(d(this,bs));s&&r.emit(d(this,bs),s)}}bs=new WeakMap;var je,Es,vs,Fr,le,B0,Qf;class Ga{constructor(t,e){I(this,B0);I(this,je,void 0);I(this,Es,void 0);I(this,vs,void 0);I(this,Fr,void 0);I(this,le,void 0);b(this,je,t),b(this,Es,la(e)),b(this,vs,z(this,B0,Qf).bind(this)),b(this,Fr,!1),b(this,le,-2)}start(){d(this,Fr)||(b(this,Fr,!0),d(this,le)===-2&&d(this,je).getBlockNumber().then(t=>{b(this,le,t)}),d(this,je).on("block",d(this,vs)))}stop(){d(this,Fr)&&(b(this,Fr,!1),d(this,je).off("block",d(this,vs)))}pause(t){this.stop(),t&&b(this,le,-2)}resume(){this.start()}}je=new WeakMap,Es=new WeakMap,vs=new WeakMap,Fr=new WeakMap,le=new WeakMap,B0=new WeakSet,Qf=async function(t){if(d(this,le)===-2)return;const e=la(d(this,Es));e.fromBlock=d(this,le)+1,e.toBlock=t;const r=await d(this,je).getLogs(e);if(r.length===0){d(this,le)<t-60&&b(this,le,t-60);return}for(const s of r)d(this,je).emit(d(this,Es),s),b(this,le,s.blockNumber)};const ng=BigInt(2),sg=10;function qi(n){return n&&typeof n.then=="function"}function r0(n,t){return n+":"+JSON.stringify(t,(e,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class Vf{constructor(t){N(this,"name");j(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function ig(n){return JSON.parse(JSON.stringify(n))}function ua(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function Ho(n,t){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(ft(n,32)){const e=n.toLowerCase();return{type:"transaction",tag:r0("tx",{hash:e}),hash:e}}if(n.orphan){const e=n;return{type:"orphan",tag:r0("orphan",e),filter:ig(e)}}if(n.address||n.topics){const e=n,r={topics:(e.topics||[]).map(s=>s==null?null:Array.isArray(s)?ua(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(e.address){const s=[],i=[],o=a=>{ft(a)?s.push(a):i.push((async()=>{s.push(await Mt(a,t))})())};Array.isArray(e.address)?e.address.forEach(o):o(e.address),i.length&&await Promise.all(i),r.address=ua(s.map(a=>a.toLowerCase()))}return{filter:r,tag:r0("event",r),type:"event"}}D(!1,"unknown ProviderEvent","event",n)}function Mo(){return new Date().getTime()}const og={cacheTimeout:250,pollingInterval:4e3};var Rt,Dr,Ot,Bs,re,un,Pr,Xe,Fi,ue,Cs,Fs,Tt,Xt,Di,fa,Pi,ha,fn,$s,ki,da,hn,ti,Ds,n0;class ag{constructor(t,e){I(this,Tt);I(this,Di);I(this,Pi);I(this,fn);I(this,ki);I(this,hn);I(this,Ds);I(this,Rt,void 0);I(this,Dr,void 0);I(this,Ot,void 0);I(this,Bs,void 0);I(this,re,void 0);I(this,un,void 0);I(this,Pr,void 0);I(this,Xe,void 0);I(this,Fi,void 0);I(this,ue,void 0);I(this,Cs,void 0);I(this,Fs,void 0);if(b(this,Fs,Object.assign({},og,e||{})),t==="any")b(this,un,!0),b(this,re,null);else if(t){const r=_e.from(t);b(this,un,!1),b(this,re,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else b(this,un,!1),b(this,re,null);b(this,Xe,-1),b(this,Pr,new Map),b(this,Rt,new Map),b(this,Dr,new Map),b(this,Ot,null),b(this,Bs,!1),b(this,Fi,1),b(this,ue,new Map),b(this,Cs,!1)}get pollingInterval(){return d(this,Fs).pollingInterval}get provider(){return this}get plugins(){return Array.from(d(this,Dr).values())}attachPlugin(t){if(d(this,Dr).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return d(this,Dr).set(t.name,t.connect(this)),this}getPlugin(t){return d(this,Dr).get(t)||null}get disableCcipRead(){return d(this,Cs)}set disableCcipRead(t){b(this,Cs,!!t)}async ccipReadFetch(t,e,r){if(this.disableCcipRead||r.length===0||t.to==null)return null;const s=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",s).replace("{data}",i),u=new Or(l);c.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let f="unknown error",h;try{h=await u.send()}catch(x){o.push(x.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:x}});continue}try{const x=h.bodyJson;if(x.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:x}),x.data;x.message&&(f=x.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:x})}catch{}H(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:c,errorMessage:f}}),o.push(f)}H(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:r,errorMessages:o}})}_wrapBlock(t,e){return new F1(K1(t),this)}_wrapLog(t,e){return new Ti(Q1(t),this)}_wrapTransactionReceipt(t,e){return new kf(Z1(t),this)}_wrapTransactionResponse(t,e){return new di(zf(t),this)}_detectNetwork(){H(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){H(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=rt(await z(this,Tt,Xt).call(this,{method:"getBlockNumber"}),"%response");return d(this,Xe)>=0&&b(this,Xe,t),t}_getAddress(t){return Mt(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}if(ft(t))return ft(t,32)?t:be(t);if(typeof t=="bigint"&&(t=rt(t,"blockTag")),typeof t=="number")return t>=0?be(t):d(this,Xe)>=0?be(d(this,Xe)+t):this.getBlockNumber().then(e=>be(e+t));D(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(c=>c==null?null:Array.isArray(c)?ua(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in t?t.blockHash:void 0,s=(c,l,u)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(r&&(l!=null||u!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),e.length&&(h.topics=e),l&&(h.fromBlock=l),u&&(h.toBlock=u),r&&(h.blockHash=r),h};let i=[];if(t.address)if(Array.isArray(t.address))for(const c of t.address)i.push(this._getAddress(c));else i.push(this._getAddress(t.address));let o;"fromBlock"in t&&(o=this._getBlockTag(t.fromBlock));let a;return"toBlock"in t&&(a=this._getBlockTag(t.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(t){const e=x0(t),r=[];if(["to","from"].forEach(s=>{if(e[s]==null)return;const i=Mt(e[s],this);qi(i)?r.push(async function(){e[s]=await i}()):e[s]=i}),e.blockTag!=null){const s=this._getBlockTag(e.blockTag);qi(s)?r.push(async function(){e.blockTag=await s}()):e.blockTag=s}return r.length?async function(){return await Promise.all(r),e}():e}async getNetwork(){if(d(this,re)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw d(this,re)===s&&b(this,re,null),i}})();return b(this,re,s),(await s).clone()}const t=d(this,re),[e,r]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==r.chainId&&(d(this,un)?(this.emit("network",r,e),d(this,re)===t&&b(this,re,Promise.resolve(r))):H(!1,`network changed: ${e.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await Ut({_block:z(this,ki,da).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await z(this,Tt,Xt).call(this,{method:"getGasPrice"});return J(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await z(this,Tt,Xt).call(this,{method:"getPriorityFee"});return J(u,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(s,t);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*ng+c),new _l(i,a,c)},r=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new Or(r.url),i=await r.processFunc(e,this,s);return new _l(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return qi(e)&&(e=await e),J(await z(this,Tt,Xt).call(this,{method:"estimateGas",transaction:e}),"%response")}async call(t){const{tx:e,blockTag:r}=await Ut({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await z(this,Pi,ha).call(this,z(this,Di,fa).call(this,e,r,t.enableCcipRead?0:-1))}async getBalance(t,e){return J(await z(this,fn,$s).call(this,{method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return rt(await z(this,fn,$s).call(this,{method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return Q(await z(this,fn,$s).call(this,{method:"getCode"},t,e))}async getStorage(t,e,r){const s=J(e,"position");return Q(await z(this,fn,$s).call(this,{method:"getStorage",position:s},t,r))}async broadcastTransaction(t){const{blockNumber:e,hash:r,network:s}=await Ut({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=a0.from(t);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(e)}async getBlock(t,e){const{network:r,params:s}=await Ut({network:this.getNetwork(),params:z(this,ki,da).call(this,t,!!e)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(t){const{network:e,params:r}=await Ut({network:this.getNetwork(),params:z(this,Tt,Xt).call(this,{method:"getTransaction",hash:t})});return r==null?null:this._wrapTransactionResponse(r,e)}async getTransactionReceipt(t){const{network:e,params:r}=await Ut({network:this.getNetwork(),params:z(this,Tt,Xt).call(this,{method:"getTransactionReceipt",hash:t})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await z(this,Tt,Xt).call(this,{method:"getTransaction",hash:t});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,e)}async getTransactionResult(t){const{result:e}=await Ut({network:this.getNetwork(),result:z(this,Tt,Xt).call(this,{method:"getTransactionResult",hash:t})});return e==null?null:Q(e)}async getLogs(t){let e=this._getFilter(t);qi(e)&&(e=await e);const{network:r,params:s}=await Ut({network:this.getNetwork(),params:z(this,Tt,Xt).call(this,{method:"getLogs",filter:e})});return s.map(i=>this._wrapLog(i,r))}_getProvider(t){H(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await g0.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=lt(t);const e=na(t.substring(2).toLowerCase()+".addr.reverse");try{const r=await g0.getEnsAddress(this),i=await new ri(r,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(i==null||i===ii)return null;const a=await new ri(i,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(a)!==t?null:a}catch(r){if(kt(r,"BAD_DATA")&&r.value==="0x"||kt(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(t,e,r){const s=e??1;return s===0?this.getTransactionReceipt(t):new Promise(async(i,o)=>{let a=null;const c=async l=>{try{const u=await this.getTransactionReceipt(t);if(u!=null&&l-u.blockNumber+1>=s){i(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(ht("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(t){H(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=d(this,ue).get(t);e&&(e.timer&&clearTimeout(e.timer),d(this,ue).delete(t))}_setTimeout(t,e){e==null&&(e=0);const r=Js(this,Fi)._++,s=()=>{d(this,ue).delete(r),t()};if(this.paused)d(this,ue).set(r,{timer:null,func:s,time:e});else{const i=setTimeout(s,e);d(this,ue).set(r,{timer:i,func:s,time:Mo()})}return r}_forEachSubscriber(t){for(const e of d(this,Rt).values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new Vf(t.type);case"block":{const e=new $1(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new tg(this,t.type);case"event":return new Ga(this,t.filter);case"transaction":return new rg(this,t.hash);case"orphan":return new eg(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const r of d(this,Rt).values())if(r.subscriber===t){r.started&&r.subscriber.stop(),r.subscriber=e,r.started&&e.start(),d(this,Ot)!=null&&e.pause(d(this,Ot));break}}async on(t,e){const r=await z(this,Ds,n0).call(this,t);return r.listeners.push({listener:e,once:!1}),r.started||(r.subscriber.start(),r.started=!0,d(this,Ot)!=null&&r.subscriber.pause(d(this,Ot))),this}async once(t,e){const r=await z(this,Ds,n0).call(this,t);return r.listeners.push({listener:e,once:!0}),r.started||(r.subscriber.start(),r.started=!0,d(this,Ot)!=null&&r.subscriber.pause(d(this,Ot))),this}async emit(t,...e){const r=await z(this,hn,ti).call(this,t,e);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const a=new su(this,o?null:i,t);try{i.call(this,...e,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),d(this,Rt).delete(r.tag)),s>0}async listenerCount(t){if(t){const r=await z(this,hn,ti).call(this,t);return r?r.listeners.length:0}let e=0;for(const{listeners:r}of d(this,Rt).values())e+=r.length;return e}async listeners(t){if(t){const r=await z(this,hn,ti).call(this,t);return r?r.listeners.map(({listener:s})=>s):[]}let e=[];for(const{listeners:r}of d(this,Rt).values())e=e.concat(r.map(({listener:s})=>s));return e}async off(t,e){const r=await z(this,hn,ti).call(this,t);if(!r)return this;if(e){const s=r.listeners.map(({listener:i})=>i).indexOf(e);s>=0&&r.listeners.splice(s,1)}return(!e||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),d(this,Rt).delete(r.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:r,subscriber:s}=await z(this,Ds,n0).call(this,t);r&&s.stop(),d(this,Rt).delete(e)}else for(const[e,{started:r,subscriber:s}]of d(this,Rt))r&&s.stop(),d(this,Rt).delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return d(this,Bs)}destroy(){this.removeAllListeners();for(const t of d(this,ue).keys())this._clearTimeout(t);b(this,Bs,!0)}get paused(){return d(this,Ot)!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(b(this,Xe,-1),d(this,Ot)!=null){if(d(this,Ot)==!!t)return;H(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=>e.pause(t)),b(this,Ot,!!t);for(const e of d(this,ue).values())e.timer&&clearTimeout(e.timer),e.time=Mo()-e.time}resume(){if(d(this,Ot)!=null){this._forEachSubscriber(t=>t.resume()),b(this,Ot,null);for(const t of d(this,ue).values()){let e=t.time;e<0&&(e=0),t.time=Mo(),setTimeout(t.func,e)}}}}Rt=new WeakMap,Dr=new WeakMap,Ot=new WeakMap,Bs=new WeakMap,re=new WeakMap,un=new WeakMap,Pr=new WeakMap,Xe=new WeakMap,Fi=new WeakMap,ue=new WeakMap,Cs=new WeakMap,Fs=new WeakMap,Tt=new WeakSet,Xt=async function(t){const e=d(this,Fs).cacheTimeout;if(e<0)return await this._perform(t);const r=r0(t.method,t);let s=d(this,Pr).get(r);return s||(s=this._perform(t),d(this,Pr).set(r,s),setTimeout(()=>{d(this,Pr).get(r)===s&&d(this,Pr).delete(r)},e)),await s},Di=new WeakSet,fa=async function(t,e,r){H(r<sg,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const s=x0(t);try{return Q(await this._perform({method:"call",transaction:s,blockTag:e}))}catch(i){if(!this.disableCcipRead&&Ea(i)&&i.data&&r>=0&&e==="latest"&&s.to!=null&&gt(i.data,0,4)==="0x556f1830"){const o=i.data,a=await Mt(s.to,this);let c;try{c=hg(gt(i.data,4))}catch(f){H(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}H(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);H(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const u={to:a,data:At([c.selector,fg([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await z(this,Di,fa).call(this,u,e,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}},Pi=new WeakSet,ha=async function(t){const{value:e}=await Ut({network:this.getNetwork(),value:t});return e},fn=new WeakSet,$s=async function(t,e,r){let s=this._getAddress(e),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await z(this,Pi,ha).call(this,z(this,Tt,Xt).call(this,Object.assign(t,{address:s,blockTag:i})))},ki=new WeakSet,da=async function(t,e){if(ft(t,32))return await z(this,Tt,Xt).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let r=this._getBlockTag(t);return typeof r!="string"&&(r=await r),await z(this,Tt,Xt).call(this,{method:"getBlock",blockTag:r,includeTransactions:e})},hn=new WeakSet,ti=async function(t,e){let r=await Ho(t,this);return r.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(r=await Ho({orphan:"drop-log",log:e[0]},this)),d(this,Rt).get(r.tag)||null},Ds=new WeakSet,n0=async function(t){const e=await Ho(t,this),r=e.tag;let s=d(this,Rt).get(r);return s||(s={subscriber:this._getSubscriber(e),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},d(this,Rt).set(r,s)),s};function cg(n,t){try{const e=xa(n,t);if(e)return i0(e)}catch{}return null}function xa(n,t){if(n==="0x")return null;try{const e=rt(gt(n,t,t+32)),r=rt(gt(n,e,e+32));return gt(n,e+32,e+32+r)}catch{}return null}function Jl(n){const t=Et(n);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function lg(n){if(n.length%32===0)return n;const t=new Uint8Array(Math.ceil(n.length/32)*32);return t.set(n),t}const ug=new Uint8Array([]);function fg(n){const t=[];let e=0;for(let r=0;r<n.length;r++)t.push(ug),e+=32;for(let r=0;r<n.length;r++){const s=et(n[r]);t[r]=Jl(e),t.push(Jl(s.length)),t.push(lg(s)),e+=32+Math.ceil(s.length/32)*32}return At(t)}const Wl="0x0000000000000000000000000000000000000000000000000000000000000000";function hg(n){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};H(Mn(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=gt(n,0,32);H(gt(e,0,12)===gt(Wl,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=gt(e,12);try{const r=[],s=rt(gt(n,32,64)),i=rt(gt(n,s,s+32)),o=gt(n,s+32);for(let a=0;a<i;a++){const c=cg(o,a*32);if(c==null)throw new Error("abort");r.push(c)}t.urls=r}catch{H(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=xa(n,64);if(r==null)throw new Error("abort");t.calldata=r}catch{H(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}H(gt(n,100,128)===gt(Wl,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=gt(n,96,100);try{const r=xa(n,128);if(r==null)throw new Error("abort");t.extraData=r}catch{H(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>t[r]),t}function _r(n,t){if(n.provider)return n.provider;H(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function ql(n,t){let e=x0(t);if(e.to!=null&&(e.to=Mt(e.to,n)),e.from!=null){const r=e.from;e.from=Promise.all([n.getAddress(),Mt(r,n)]).then(([s,i])=>(D(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else e.from=n.getAddress();return await Ut(e)}class dg{constructor(t){N(this,"provider");j(this,{provider:t||null})}async getNonce(t){return _r(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await ql(this,t)}async populateTransaction(t){const e=_r(this,"populateTransaction"),r=await ql(this,t);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=J(r.chainId);D(o===s.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?D(!1,"eip-1559 transaction do not support gasPrice","tx",t):(r.type===0||r.type===1)&&i&&D(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await e.getFeeData();H(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await e.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(H(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):H(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Ut(r)}async populateAuthorization(t){const e=Object.assign({},t);return e.chainId==null&&(e.chainId=(await _r(this,"getNetwork").getNetwork()).chainId),e.nonce==null&&(e.nonce=await this.getNonce()),e}async estimateGas(t){return _r(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return _r(this,"call").call(await this.populateCall(t))}async resolveName(t){return await _r(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=_r(this,"sendTransaction"),r=await this.populateTransaction(t);delete r.from;const s=a0.from(r);return await e.broadcastTransaction(await this.signTransaction(s))}authorize(t){H(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function xg(n){return JSON.parse(JSON.stringify(n))}var Lt,Se,dn,kr,xn,Ps,Ni,pa,Ii,ga;class Kf{constructor(t){I(this,Ni);I(this,Ii);I(this,Lt,void 0);I(this,Se,void 0);I(this,dn,void 0);I(this,kr,void 0);I(this,xn,void 0);I(this,Ps,void 0);b(this,Lt,t),b(this,Se,null),b(this,dn,z(this,Ni,pa).bind(this)),b(this,kr,!1),b(this,xn,null),b(this,Ps,!1)}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}start(){d(this,kr)||(b(this,kr,!0),z(this,Ni,pa).call(this,-2))}stop(){d(this,kr)&&(b(this,kr,!1),b(this,Ps,!0),z(this,Ii,ga).call(this),d(this,Lt).off("block",d(this,dn)))}pause(t){t&&z(this,Ii,ga).call(this),d(this,Lt).off("block",d(this,dn))}resume(){this.start()}}Lt=new WeakMap,Se=new WeakMap,dn=new WeakMap,kr=new WeakMap,xn=new WeakMap,Ps=new WeakMap,Ni=new WeakSet,pa=async function(t){try{d(this,Se)==null&&b(this,Se,this._subscribe(d(this,Lt)));let e=null;try{e=await d(this,Se)}catch(i){if(!kt(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(e==null){b(this,Se,null),d(this,Lt)._recoverSubscriber(this,this._recover(d(this,Lt)));return}const r=await d(this,Lt).getNetwork();if(d(this,xn)||b(this,xn,r),d(this,xn).chainId!==r.chainId)throw new Error("chaid changed");if(d(this,Ps))return;const s=await d(this,Lt).send("eth_getFilterChanges",[e]);await this._emitResults(d(this,Lt),s)}catch(e){console.log("@TODO",e)}d(this,Lt).once("block",d(this,dn))},Ii=new WeakSet,ga=function(){const t=d(this,Se);t&&(b(this,Se,null),t.then(e=>{d(this,Lt).destroyed||d(this,Lt).send("eth_uninstallFilter",[e])}))};var pn;class pg extends Kf{constructor(e,r){super(e);I(this,pn,void 0);b(this,pn,xg(r))}_recover(e){return new Ga(e,d(this,pn))}async _subscribe(e){return await e.send("eth_newFilter",[d(this,pn)])}async _emitResults(e,r){for(const s of r)e.emit(d(this,pn),e._wrapLog(s,e._network))}}pn=new WeakMap;class gg extends Kf{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const r of e)t.emit("pending",r)}}const Ag="bigint,boolean,function,number,string,symbol".split(/,/g);function s0(n){if(n==null||Ag.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(s0);if(typeof n=="object")return Object.keys(n).reduce((t,e)=>(t[e]=n[e],t),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function yg(n){return new Promise(t=>{setTimeout(t,n)})}function In(n){return n&&n.toLowerCase()}function Zl(n){return n&&typeof n.pollingInterval=="number"}const Jf={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Go extends dg{constructor(e,r){super(e);N(this,"address");r=lt(r),j(this,{address:r})}connect(e){H(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const r=s0(e),s=[];if(r.from){const o=r.from;s.push((async()=>{const a=await Mt(o,this.provider);D(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=>{r.to=await Mt(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{const a=[1e3,100];let c=0;const l=async()=>{try{const u=await this.provider.getTransaction(s);if(u!=null){i(u.replaceableTransaction(r));return}}catch(u){if(kt(u,"CANCELLED")||kt(u,"BAD_DATA")||kt(u,"NETWORK_ERROR")||kt(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,o(u);return}if(kt(u,"INVALID_ARGUMENT")&&(c++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,c>10)){o(u);return}this.provider.emit("error",ht("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},a.pop()||4e3)};l()})}async signTransaction(e){const r=s0(e);if(r.from){const i=await Mt(r.from,this.provider);D(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(e){const r=typeof e=="string"?er(e):e;return await this.provider.send("personal_sign",[Q(r),this.address.toLowerCase()])}async signTypedData(e,r,s){const i=s0(s),o=await d0.resolveNames(e,r,i,async a=>{const c=await Mt(a);return D(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(d0.getPayload(o.domain,r,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const r=typeof e=="string"?er(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Q(r)])}}var gn,ks,Ye,Te,we,fe,Qt,Ri,Aa;class mg extends ag{constructor(e,r){super(e,r);I(this,Ri);I(this,gn,void 0);I(this,ks,void 0);I(this,Ye,void 0);I(this,Te,void 0);I(this,we,void 0);I(this,fe,void 0);I(this,Qt,void 0);b(this,ks,1),b(this,gn,Object.assign({},Jf,r||{})),b(this,Ye,[]),b(this,Te,null),b(this,fe,null),b(this,Qt,null);{let i=null;const o=new Promise(a=>{i=a});b(this,we,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(D(!s||e!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&e!=null&&b(this,fe,_e.from(e))):s&&(D(e==null||s.matches(e),"staticNetwork MUST match network object","options",r),b(this,fe,s))}_getOption(e){return d(this,gn)[e]}get _network(){return H(d(this,fe),"network is not available yet","NETWORK_ERROR"),d(this,fe)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let s=e.transaction;if(s&&s.type!=null&&J(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(e);return r!=null?await this.send(r.method,r.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(d(this,fe))return d(this,fe)}else return e;return d(this,Qt)?await d(this,Qt):this.ready?(b(this,Qt,(async()=>{try{const r=_e.from(J(await this.send("eth_chainId",[])));return b(this,Qt,null),r}catch(r){throw b(this,Qt,null),r}})()),await d(this,Qt)):(b(this,Qt,(async()=>{const r={id:Js(this,ks)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],b(this,Qt,null)}catch(i){throw b(this,Qt,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return _e.from(J(s.result));throw this.getRpcError(r,s)})()),await d(this,Qt))}_start(){d(this,we)==null||d(this,we).resolve==null||(d(this,we).resolve(),b(this,we,null),(async()=>{for(;d(this,fe)==null&&!this.destroyed;)try{b(this,fe,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ht("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await yg(1e3)}z(this,Ri,Aa).call(this)})())}async _waitUntilReady(){if(d(this,we)!=null)return await d(this,we).promise}_getSubscriber(e){return e.type==="pending"?new gg(this):e.type==="event"?this._getOption("polling")?new Ga(this,e.filter):new pg(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Vf("orphan"):super._getSubscriber(e)}get ready(){return d(this,we)==null}getRpcTransaction(e){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(e[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=be(J(e[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{e[s]!=null&&(r[s]=Q(e[s]))}),e.accessList&&(r.accessList=Cn(e.accessList)),e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes.map(s=>s.toLowerCase())),e.authorizationList&&(r.authorizationList=e.authorizationList.map(s=>{const i=Wu(s);return{address:i.address,nonce:be(i.nonce),chainId:be(i.chainId),yParity:be(i.signature.yParity),r:be(i.signature.r),s:be(i.signature.s)}})),r}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[In(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[In(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[In(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[In(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(In):e.filter.address=In(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,r){const{method:s}=e,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return ht("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return ht("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=ya(i),l=hi.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",e.params[0],c?c.data:null);return l.info={error:i,payload:e},l}const o=JSON.stringify(bg(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return ht("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return ht("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return ht("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return ht("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return ht("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?ht("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):ht("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,r){if(this.destroyed)return Promise.reject(ht("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const s=Js(this,ks)._++,i=new Promise((o,a)=>{d(this,Ye).push({resolve:o,reject:a,payload:{method:e,params:r,id:s,jsonrpc:"2.0"}})});return z(this,Ri,Aa).call(this),i}async getSigner(e){e==null&&(e=0);const r=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await r;if(e>=i.length)throw new Error("no such account");return new Go(this,i[e])}const{accounts:s}=await Ut({network:this.getNetwork(),accounts:r});e=lt(e);for(const i of s)if(lt(i)===e)return new Go(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Go(this,r))}destroy(){d(this,Te)&&(clearTimeout(d(this,Te)),b(this,Te,null));for(const{payload:e,reject:r}of d(this,Ye))r(ht("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));b(this,Ye,[]),super.destroy()}}gn=new WeakMap,ks=new WeakMap,Ye=new WeakMap,Te=new WeakMap,we=new WeakMap,fe=new WeakMap,Qt=new WeakMap,Ri=new WeakSet,Aa=function(){if(d(this,Te))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");b(this,Te,setTimeout(()=>{b(this,Te,null);const r=d(this,Ye);for(b(this,Ye,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==d(this,gn).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=>o.payload)).length>d(this,gn).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of s){if(this.destroyed){c(ht("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=o.filter(f=>f.id===l.id)[0];if(u==null){const f=ht("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",f),c(f);continue}if("error"in u){c(this.getRpcError(l,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},e))};var Nr;class wg extends mg{constructor(e,r){super(e,r);I(this,Nr,void 0);let s=this._getOption("pollingInterval");s==null&&(s=Jf.pollingInterval),b(this,Nr,s)}_getSubscriber(e){const r=super._getSubscriber(e);return Zl(r)&&(r.pollingInterval=d(this,Nr)),r}get pollingInterval(){return d(this,Nr)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");b(this,Nr,e),this._forEachSubscriber(r=>{Zl(r)&&(r.pollingInterval=d(this,Nr))})}}Nr=new WeakMap;function ya(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&ft(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const t in n){const e=ya(n[t]);if(e)return e}return null}if(typeof n=="string")try{return ya(JSON.parse(n))}catch{}return null}function ma(n,t){if(n!=null){if(typeof n.message=="string"&&t.push(n.message),typeof n=="object")for(const e in n)ma(n[e],t);if(typeof n=="string")try{return ma(JSON.parse(n),t)}catch{}}}function bg(n){const t=[];return ma(n,t),t}var Ns,Is;const Vr=class Vr extends wg{constructor(e,r,s){const i=Object.assign({},s??{},{batchMaxCount:1});D(e&&e.request,"invalid EIP-1193 provider","ethereum",e);super(r,i);I(this,Ns,void 0);I(this,Is,void 0);b(this,Is,null),s&&s.providerInfo&&b(this,Is,s.providerInfo),b(this,Ns,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const l=await e.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const u=new Error(l.message);throw u.code=l.code,u.data=l.data,u.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}get providerInfo(){return d(this,Is)}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){D(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const r=await d(this,Ns).call(this,e.method,e.params||[]);return[{id:e.id,result:r}]}catch(r){return[{id:e.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(e,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(e,r)}async hasSigner(e){e==null&&(e=0);const r=await this.send("eth_accounts",[]);return typeof e=="number"?r.length>e:(e=e.toLowerCase(),r.filter(s=>s.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await d(this,Ns).call(this,"eth_requestAccounts",[])}catch(r){const s=r.payload;throw this.getRpcError(s,{id:s.id,error:r})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Vr(e.provider);const r=e.window?e.window:typeof window<"u"?window:null;if(r==null)return null;const s=e.anyProvider;if(s&&r.ethereum)return new Vr(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((o,a)=>{let c=[];const l=h=>{c.push(h.detail),s&&u()},u=()=>{if(clearTimeout(f),c.length)if(e&&e.filter){const h=e.filter(c.map(x=>Object.assign({},x.info)));if(h==null)o(null);else if(h instanceof Vr)o(h);else{let x=null;if(h.uuid&&(x=c.filter(p=>h.uuid===p.info.uuid)[0]),x){const{provider:g,info:p}=x;o(new Vr(g,void 0,{providerInfo:p}))}else a(ht("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:x}=c[0];o(new Vr(h,void 0,{providerInfo:x}))}else o(null);r.removeEventListener("eip6963:announceProvider",l)},f=setTimeout(()=>{u()},i);r.addEventListener("eip6963:announceProvider",l),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};Ns=new WeakMap,Is=new WeakMap;let jl=Vr;export{jl as B,Cg as C,ri as a};
